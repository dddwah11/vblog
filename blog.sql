/*
 Navicat Premium Data Transfer

 Source Server         : åä¸ºäº‘
 Source Server Type    : MySQL
 Source Server Version : 80022
 Source Host           : 114.116.28.238:3306
 Source Schema         : blog

 Target Server Type    : MySQL
 Target Server Version : 80022
 File Encoding         : 65001

 Date: 21/10/2022 20:03:33
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for sys_category
-- ----------------------------
DROP TABLE IF EXISTS `sys_category`;
CREATE TABLE `sys_category`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL,
  `status` int(0) NULL DEFAULT NULL COMMENT 'çŠ¶æ€',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 127 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_category
-- ----------------------------
INSERT INTO `sys_category` VALUES (1, 'java', 0);
INSERT INTO `sys_category` VALUES (2, 'js', 0);
INSERT INTO `sys_category` VALUES (118, 'å…¶ä»–', 0);
INSERT INTO `sys_category` VALUES (119, 'vue', 0);
INSERT INTO `sys_category` VALUES (120, 'linux', 0);
INSERT INTO `sys_category` VALUES (121, 'Hadoop', 0);
INSERT INTO `sys_category` VALUES (122, 'æ“ä½œç³»ç»Ÿ', 0);
INSERT INTO `sys_category` VALUES (123, 'spring', 0);
INSERT INTO `sys_category` VALUES (124, 'mybatis', 0);
INSERT INTO `sys_category` VALUES (125, 'springboot', 0);
INSERT INTO `sys_category` VALUES (126, 'springMVC', 0);

-- ----------------------------
-- Table structure for sys_chat
-- ----------------------------
DROP TABLE IF EXISTS `sys_chat`;
CREATE TABLE `sys_chat`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `content` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 83 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_chat
-- ----------------------------
INSERT INTO `sys_chat` VALUES (36, 'å“ˆå“ˆå“ˆå¯ä»¥å‘è¡¨æƒ…');
INSERT INTO `sys_chat` VALUES (68, 'å—¡å—¡å—¡');
INSERT INTO `sys_chat` VALUES (70, 'ğŸ˜€');
INSERT INTO `sys_chat` VALUES (71, 'é¾™ğŸ‰');
INSERT INTO `sys_chat` VALUES (73, '666666666666');
INSERT INTO `sys_chat` VALUES (74, 'å“ˆå“ˆå“ˆå“ˆè°¢è°¢ä½ çš„å…‰ä¸´');
INSERT INTO `sys_chat` VALUES (75, 'è°¢è°¢ä½ çš„å…‰ä¸´');
INSERT INTO `sys_chat` VALUES (76, 'æˆ‘ğŸˆğŸ†ğŸ‡ğŸ§¨âœ¨ğŸ‰ğŸŠğŸƒğŸ‹ğŸ„ğŸğŸğŸğŸğŸ‘ğŸ§§');
INSERT INTO `sys_chat` VALUES (77, 'ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡âœ¨âœ¨ğŸ‰');
INSERT INTO `sys_chat` VALUES (78, 'ğŸ”ğŸŒ­ğŸ¥“ğŸ¥“ğŸŒ¯ğŸ¥ ğŸ ğŸ¥©ğŸ—ğŸ–ğŸ˜ğŸ¦ªğŸ£ğŸ£ğŸœğŸšğŸ¥ŸğŸ¥ŸğŸ¥“ğŸ¿ğŸ¿ğŸ¥šğŸ¥¨');
INSERT INTO `sys_chat` VALUES (80, 'è°¢è°¢ä½ çš„å…‰ä¸´ï¼ï¼ï¼');

-- ----------------------------
-- Table structure for sys_dict
-- ----------------------------
DROP TABLE IF EXISTS `sys_dict`;
CREATE TABLE `sys_dict`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'åç§°',
  `value` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'å›¾æ ‡',
  `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'ç±»å‹',
  PRIMARY KEY (`id`, `name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 25 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_dict
-- ----------------------------
INSERT INTO `sys_dict` VALUES (1, 'main', 'el-icon-s-home', 'icon');
INSERT INTO `sys_dict` VALUES (2, 'menu', 'el-icon-menu', 'icon');
INSERT INTO `sys_dict` VALUES (3, 'role', 'el-icon-user-solid\r\nel-icon-user-solid\r\n', 'icon');
INSERT INTO `sys_dict` VALUES (4, 'user', 'el-icon-user', 'icon');
INSERT INTO `sys_dict` VALUES (5, 'start-on', 'el-icon-star-on', 'icon');
INSERT INTO `sys_dict` VALUES (6, 'start-off', 'el-icon-star-off', 'icon');
INSERT INTO `sys_dict` VALUES (7, 'setting', 'el-icon-s-tools', 'icon');
INSERT INTO `sys_dict` VALUES (8, 'ice-cream', 'el-icon-ice-cream-round', 'icon');
INSERT INTO `sys_dict` VALUES (9, 'data', 'el-icon-s-data\r\n', 'icon');
INSERT INTO `sys_dict` VALUES (10, 'shop', 'el-icon-s-shop', 'icon');
INSERT INTO `sys_dict` VALUES (11, 'platform', 'el-icon-s-platform', 'icon');
INSERT INTO `sys_dict` VALUES (12, 'help', 'el-icon-s-help', 'icon');
INSERT INTO `sys_dict` VALUES (13, 'upload', 'el-icon-upload', 'icon');
INSERT INTO `sys_dict` VALUES (14, 'promotion', 'el-icon-s-promotion', 'icon');
INSERT INTO `sys_dict` VALUES (15, 'opportunity', 'el-icon-s-opportunity\r\n', 'icon');
INSERT INTO `sys_dict` VALUES (16, 'basketball', 'el-icon-basketball', 'icon');
INSERT INTO `sys_dict` VALUES (17, 'crop', 'el-icon-crop', 'icon');
INSERT INTO `sys_dict` VALUES (18, 'chat', 'el-icon-chat-line-round', 'icon');
INSERT INTO `sys_dict` VALUES (19, 'original', 'el-icon-c-scale-to-original', 'icon');
INSERT INTO `sys_dict` VALUES (20, 'analysis', 'el-icon-data-analysis\r\nel-icon-data-analysis\r\nel-icon-data-analysis\r\nel-icon-data-analysis\r\nel-icon-data-analysis', 'icon');
INSERT INTO `sys_dict` VALUES (21, 'building', 'el-icon-office-building', 'icon');
INSERT INTO `sys_dict` VALUES (22, 'school', 'el-icon-school', 'icon');
INSERT INTO `sys_dict` VALUES (23, 'trophy', 'el-icon-trophy', 'icon');
INSERT INTO `sys_dict` VALUES (24, 'outline', 'el-icon-picture-outline', 'icon');

-- ----------------------------
-- Table structure for sys_file
-- ----------------------------
DROP TABLE IF EXISTS `sys_file`;
CREATE TABLE `sys_file`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'æ–‡ä»¶å',
  `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æ–‡ä»¶ç±»å‹',
  `size` bigint(0) NULL DEFAULT NULL COMMENT 'æ–‡ä»¶å¤§å°',
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æ–‡ä»¶åœ°å€',
  `uuid` varbinary(255) NULL DEFAULT NULL,
  `is_photo` int(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 132 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Table structure for sys_menu
-- ----------------------------
DROP TABLE IF EXISTS `sys_menu`;
CREATE TABLE `sys_menu`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åç§°',
  `path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'è·¯å¾„',
  `icon` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'å›¾æ ‡',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æè¿°',
  `pid` int(0) NULL DEFAULT NULL COMMENT 'çˆ¶çº§id',
  `page_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'é¡µé¢è·¯å¾„',
  `sort_num` int(0) NULL DEFAULT NULL COMMENT 'é¡ºåº',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 74 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_menu
-- ----------------------------
INSERT INTO `sys_menu` VALUES (24, 'ç³»ç»Ÿç®¡ç†', NULL, 'el-icon-s-tools', NULL, NULL, '', 3);
INSERT INTO `sys_menu` VALUES (25, 'ç”¨æˆ·ç®¡ç†', '/user', 'el-icon-user', NULL, 24, 'UserView', NULL);
INSERT INTO `sys_menu` VALUES (26, 'è§’è‰²ç®¡ç†', '/role', 'el-icon-user-solid\r\nel-icon-user-solid\r\n', NULL, 24, 'RoleView', NULL);
INSERT INTO `sys_menu` VALUES (27, 'èœå•ç®¡ç†', '/menu', 'el-icon-menu', NULL, 24, 'MenuView', NULL);
INSERT INTO `sys_menu` VALUES (28, 'ä¸»é¡µ', '/contain', 'el-icon-s-home', 'we', NULL, 'ContainMainView', 1);
INSERT INTO `sys_menu` VALUES (61, 'æ•°æ®ç›‘æ§', '/druid', 'el-icon-s-data\r\n', NULL, 24, 'DruidView', NULL);
INSERT INTO `sys_menu` VALUES (62, 'åšå®¢ç®¡ç†', '', 'el-icon-ice-cream-round', NULL, NULL, 'BlogView', 4);
INSERT INTO `sys_menu` VALUES (63, 'æ–‡ç« ç®¡ç†', '/article', 'el-icon-s-shop', NULL, 62, 'Article', NULL);
INSERT INTO `sys_menu` VALUES (64, 'æ ‡ç­¾ç®¡ç†', '/tag', 'el-icon-s-platform', NULL, 62, 'Tag', NULL);
INSERT INTO `sys_menu` VALUES (65, 'å‹é“¾ç®¡ç†', '/link', 'el-icon-star-off', NULL, 62, 'Link', NULL);
INSERT INTO `sys_menu` VALUES (66, 'å‘å¸ƒæ–‡ç« ', '/articleedit', 'el-icon-s-promotion', NULL, NULL, 'ArticleEdit', 2);
INSERT INTO `sys_menu` VALUES (67, 'æ–‡ä»¶ç®¡ç†', '/file', 'el-icon-upload', NULL, 24, 'File', NULL);
INSERT INTO `sys_menu` VALUES (68, 'è¯„è®ºç®¡ç†', '/comment', 'el-icon-s-opportunity\r\n', NULL, 62, 'Comment', NULL);
INSERT INTO `sys_menu` VALUES (69, 'ç±»åˆ«ç®¡ç†', '/tagsview', 'el-icon-s-help', NULL, 62, 'TagsView', NULL);
INSERT INTO `sys_menu` VALUES (70, 'ç•™è¨€æ¿', '/chatview', 'el-icon-chat-line-round', NULL, NULL, 'ChatView', 5);
INSERT INTO `sys_menu` VALUES (71, 'ç…§ç‰‡å¢™', '', 'el-icon-basketball', NULL, NULL, '', 6);
INSERT INTO `sys_menu` VALUES (72, 'æ¸¸ç©åˆ—è¡¨', '/photoview', 'el-icon-ice-cream-round', NULL, 71, 'Photo', NULL);
INSERT INTO `sys_menu` VALUES (73, 'å›¾ç‰‡', '/phtofile', 'el-icon-picture-outline', NULL, 71, 'PhotoFile', NULL);

-- ----------------------------
-- Table structure for sys_role
-- ----------------------------
DROP TABLE IF EXISTS `sys_role`;
CREATE TABLE `sys_role`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'è§’è‰²id',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åç§°',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æè¿°',
  `user_key` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'å”¯ä¸€æ ‡è¯†',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 13 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_role
-- ----------------------------
INSERT INTO `sys_role` VALUES (5, 'ç®¡ç†å‘˜ ', 'ç®¡ç†å‘˜', 'admin');
INSERT INTO `sys_role` VALUES (7, 'æ™®é€šç”¨æˆ·', 'æ™®é€šç”¨æˆ·', 'user');

-- ----------------------------
-- Table structure for sys_role_menu
-- ----------------------------
DROP TABLE IF EXISTS `sys_role_menu`;
CREATE TABLE `sys_role_menu`  (
  `role_id` int(0) NOT NULL COMMENT 'è§’è‰²id',
  `menu_id` int(0) NOT NULL COMMENT 'èœå•id',
  `id` int(0) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`, `menu_id`, `role_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 224 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci COMMENT = 'è§’è‰²èœå•å…³ç³»è¡¨' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_role_menu
-- ----------------------------
INSERT INTO `sys_role_menu` VALUES (7, 99, 6);
INSERT INTO `sys_role_menu` VALUES (12, 27, 7);
INSERT INTO `sys_role_menu` VALUES (5, 28, 206);
INSERT INTO `sys_role_menu` VALUES (5, 66, 207);
INSERT INTO `sys_role_menu` VALUES (5, 24, 208);
INSERT INTO `sys_role_menu` VALUES (5, 25, 209);
INSERT INTO `sys_role_menu` VALUES (5, 26, 210);
INSERT INTO `sys_role_menu` VALUES (5, 27, 211);
INSERT INTO `sys_role_menu` VALUES (5, 61, 212);
INSERT INTO `sys_role_menu` VALUES (5, 67, 213);
INSERT INTO `sys_role_menu` VALUES (5, 62, 214);
INSERT INTO `sys_role_menu` VALUES (5, 63, 215);
INSERT INTO `sys_role_menu` VALUES (5, 64, 216);
INSERT INTO `sys_role_menu` VALUES (5, 65, 217);
INSERT INTO `sys_role_menu` VALUES (5, 68, 218);
INSERT INTO `sys_role_menu` VALUES (5, 69, 219);
INSERT INTO `sys_role_menu` VALUES (5, 70, 220);
INSERT INTO `sys_role_menu` VALUES (5, 71, 221);
INSERT INTO `sys_role_menu` VALUES (5, 72, 222);
INSERT INTO `sys_role_menu` VALUES (5, 73, 223);

-- ----------------------------
-- Table structure for sys_tag
-- ----------------------------
DROP TABLE IF EXISTS `sys_tag`;
CREATE TABLE `sys_tag`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'ç±»åˆ«å',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sys_tag
-- ----------------------------
INSERT INTO `sys_tag` VALUES (1, 'ç”Ÿæ´»');
INSERT INTO `sys_tag` VALUES (2, 'ä½“è‚²');
INSERT INTO `sys_tag` VALUES (4, 'å…¶ä»–');
INSERT INTO `sys_tag` VALUES (7, 'å­¦ä¹ ');
INSERT INTO `sys_tag` VALUES (8, 'æ”¶é›†çš„è¯—');
INSERT INTO `sys_tag` VALUES (9, 'ç½‘ç«™bug');

-- ----------------------------
-- Table structure for t_blog
-- ----------------------------
DROP TABLE IF EXISTS `t_blog`;
CREATE TABLE `t_blog`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `tittle` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æ ‡é¢˜',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æè¿°',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL COMMENT 'å†…å®¹',
  `status` int(0) NULL DEFAULT NULL COMMENT 'çŠ¶æ€',
  `created_time` datetime(0) NULL DEFAULT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `modified_time` datetime(0) NULL DEFAULT NULL COMMENT 'ä¿®æ”¹æ—¶é—´',
  `weight` int(0) NULL DEFAULT NULL,
  `category_id` int(0) NULL DEFAULT NULL,
  `view_counts` int(0) NULL DEFAULT NULL,
  `thumbnail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'ç•¥ç¼©å›¾',
  `tag_id` int(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 242 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of t_blog
-- ----------------------------
INSERT INTO `t_blog` VALUES (202, 'æµ‹è¯•4', NULL, '', 0, '2022-09-05 13:45:15', '2022-10-21 20:01:00', 1, 1, 104, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/383c00b3b1ac4f309a503dcb9438d8a4.jpg', 1);
INSERT INTO `t_blog` VALUES (207, 'Mybatis', 'mybatisåˆå­¦4æœˆä»½ç¬”è®°', '## Mybatis\n## 1ã€ä»€ä¹ˆæ˜¯Mybatis\nâ€‹	MyBatisæœ¬æ˜¯apacheçš„ä¸€ä¸ª[å¼€æºé¡¹ç›®](https://baike.baidu.com/item/å¼€æºé¡¹ç›®/3406069)iBatisï¼Œ2010å¹´è¿™ä¸ª[é¡¹ç›®](https://baike.baidu.com/item/é¡¹ç›®/477803)ç”±apache software foundationè¿ç§»åˆ°äº†[google code](https://baike.baidu.com/item/google code/2346604)ï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatisã€‚2013å¹´11æœˆè¿ç§»åˆ°[Github](https://baike.baidu.com/item/Github/10145341)ã€‚\n\nâ€‹	iBATISä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„[æŒä¹…å±‚](https://baike.baidu.com/item/æŒä¹…å±‚/3584971)æ¡†æ¶ã€‚iBATISæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOsï¼‰ã€‚\n\nâ€‹	å½“å‰ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯MyBatis 3.5.9ï¼Œå…¶å‘å¸ƒæ—¶é—´æ˜¯2021å¹´12æœˆ26æ—¥ã€‚\n\n## 2ã€æŒä¹…åŒ–\n\nâ€‹	æŒä¹…åŒ–æ˜¯å°†ç¨‹åºæ•°æ®åœ¨[æŒä¹…](https://baike.baidu.com/item/æŒä¹…/5702771)çŠ¶æ€å’Œ[ç¬æ—¶](https://baike.baidu.com/item/ç¬æ—¶/3471916)çŠ¶æ€é—´è½¬æ¢çš„æœºåˆ¶ã€‚é€šä¿—çš„è®²ï¼Œå°±æ˜¯ç¬æ—¶æ•°æ®ï¼ˆæ¯”å¦‚å†…å­˜ä¸­çš„æ•°æ®ï¼Œæ˜¯ä¸èƒ½æ°¸ä¹…ä¿å­˜çš„ï¼‰æŒä¹…åŒ–ä¸ºæŒä¹…æ•°æ®ï¼ˆæ¯”å¦‚æŒä¹…åŒ–è‡³æ•°æ®åº“ä¸­ï¼Œèƒ½å¤Ÿé•¿ä¹…ä¿å­˜ï¼‰ã€‚\n\n\n\n## 3ã€æŒä¹…å±‚\n\nâ€‹	å¯ä»¥ç†è§£æˆæ•°æ® ä¿å­˜åœ¨ æ•°æ®åº“æˆ–è€… ç¡¬ç›˜ä¸€ç±»å¯ä»¥ä¿å­˜å¾ˆé•¿æ—¶é—´çš„è®¾å¤‡é‡Œé¢ï¼Œä¸åƒæ”¾åœ¨å†…å­˜ä¸­é‚£æ ·æ–­ç”µå°±æ¶ˆå¤±äº†ï¼Œä¹Ÿå°±æ˜¯æŠŠæ•°æ®å­˜åœ¨æŒä¹…åŒ–è®¾å¤‡ä¸Šï¼Œmybatiså°±æ˜¯æŒä¹…å±‚ã€‚\n\nå†…å­˜ï¼šæ–­ç‚¹å³å¤±\n\n\n\n## 4ã€Mavené¡¹ç›®ä¸‹åˆ›å»ºç¬¬ä¸€ä¸ªmybatisç¨‹åº\n\n### 	4.1 å¯¼å…¥ä¾èµ–ï¼šmysqlé©±åŠ¨ã€mybatisã€lombokã€‚\n\n### æ³¨æ„ï¼šmavenèµ„æºå¯¼å‡ºé—®é¢˜ï¼šæœ€å¥½ï¼Œçˆ¶ç±»ï¼Œå­ç±»éƒ½æ·»åŠ \n\n```xml\n<build>\n    <resources>\n        <resource>\n            <directory>src/main/resources</directory>\n            <includes>\n                <include>**/*.properties</include>\n                <include>**/*.xml</include>\n            </includes>\n            <filtering>true</filtering>\n        </resource>\n        <resource>\n            <directory>src/main/java</directory>\n            <includes>\n                <include>**/*.properties</include>\n                <include>**/*.xml</include>\n            </includes>\n            <filtering>true</filtering>\n        </resource>\n    </resources>\n</build>\n```\n\n\n\næ­å¥½é¡¹ç›®ç»“æ„ï¼š\n\n\n\n\n\n### 	4.3ã€å»mybatisä¸­æ–‡æ–‡æ¡£ ç²˜è´´éœ€è¦ç”¨åˆ°çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <environments default=\"development\">\n        <environment id=\"development\">\n            <transactionManager type=\"JDBC\"/>\n            <dataSource type=\"POOLED\">\n                <property name=\"driver\" value=\"com.mysql.cj.jdbc.Driver\"/>\n                <property name=\"url\" value=\"jdbc:mysql://localhost:3306/mybatis?userSSL=true&amp;userUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC\"/>\n                <property name=\"username\" value=\"root\"/>\n                <property name=\"password\" value=\"123456\"/>\n            </dataSource>\n        </environment>\n    </environments>\n<!--    æ³¨å†ŒMapper-->\n    <mappers>\n        <mapper resource=\"com/xiaoliu/Mapper/UserMapper.xml\"/>\n    </mappers>\n</configuration>\n```\n\n**æ³¨æ„ï¼šæ³¨å†Œmapper**\n\n\n\n### 	4.4ã€ç¼–å†™å®ä½“ç±»User\n\n```java\npackage com.xiaoliu.pojo;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/11 17:35\n * @description:\n */\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    private int id;\n    private String name;\n    private String password;\n\n}\n```\n\n\n\n### 	4.5ã€ç¼–å†™Mapperæ¥å£åŠå®ç°çš„é…ç½®æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<!--namespace=ç»‘å®šå¯¹åº”çš„Mapperæ¥å£-->\n<mapper namespace=\"com.xiaoliu.Mapper.UserMapper\">\n<!--    idå¯¹åº”çš„æ˜¯æ–¹æ³•åç§°-->\n    <select id=\"getUserList\" resultType=\"com.xiaoliu.pojo.User\">\n        select * from mybatis.user\n    </select>\n</mapper>\n```\n\né…ç½®æ–‡ä»¶\n\nUserMappeæ¥å£\n\n```java\npackage com.xiaoliu.Mapper;\n\nimport com.xiaoliu.pojo.User;\n\nimport java.util.List;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/11 17:41\n * @description:\n */\npublic interface UserMapper {\n    List<User> getUserList();\n\n}\n```\n\nâ€‹	\n\n### 	4.6ã€ç¼–å†™MybatisUtilç±»\n\nè·å–SQLSession\n\næ‰§è¡ŒSQLSession\n\n```java\npackage com.xiaoliu.utils;\n\nimport org.apache.ibatis.io.Resources;\nimport org.apache.ibatis.session.SqlSession;\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.apache.ibatis.session.SqlSessionFactoryBuilder;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/11 15:55\n * @description:è·å–SQLSessionFactory\n */\npublic class MybatisUtils {\n    private static SqlSessionFactory sqlSessionFactory;\n    static {\n\n        try {\n//            è·å–SQLSessionFactory-ã€‹SQLSession\n            String resource = \"mybatis-config.xml\";\n            InputStream  inputStream = Resources.getResourceAsStream(resource);\n            sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    //        æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹ã€‚\n    //        SqlSession æä¾›äº†åœ¨æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•ã€‚\n//        ä½ å¯ä»¥é€šè¿‡ SqlSession å®ä¾‹æ¥ç›´æ¥æ‰§è¡Œå·²æ˜ å°„çš„ SQL è¯­å¥ã€‚\n    public static SqlSession getSqlSession(){\n        return sqlSessionFactory.openSession();\n\n    }\n}\n```\n\n\n\n### 4.7ã€ç¼–å†™Testç±»è¿›è¡Œæµ‹è¯•\n\n```java\npackage com.xiaoliu.Mapper;\n\nimport com.xiaoliu.pojo.User;\nimport com.xiaoliu.utils.MybatisUtils;\nimport org.apache.ibatis.session.SqlSession;\nimport org.junit.Test;\n\nimport java.util.List;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/11 18:00\n * @description:\n */\npublic class UserMapperTest {\n    @Test\n    public void test(){\n//        ç¬¬ä¸€æ­¥ï¼šè·å¾—sqlSessionå¯¹è±¡\n        SqlSession sqlSession = MybatisUtils.getSqlSession();\n        System.out.println(\"getsqlSession\");\n\n//        ç¬¬äºŒæ­¥ï¼Œæ–¹å¼ä¸€ï¼šgetMapper\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        List<User> userList = mapper.getUserList();\n        System.out.println(\"getMapper\");\n        for (User user : userList) {\n            System.out.println(user);\n        }\n//        å…³é—­sqlSession\n        System.out.println(\"close\");\n\n        sqlSession.close();\n\n    }\n}\n```\n**æµ‹è¯•æˆåŠŸï¼š**\n\n## 5ã€å­¦ä¹ æ€»ç»“\n\nâ€‹	**æ³¨æ„æ³¨å†ŒMapperï¼ŒåŠmavenèµ„æºå¯¼å‡ºçš„é—®é¢˜**', 0, '2022-09-05 23:28:34', '2022-10-21 20:01:00', 0, 124, 4, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/6ca427a8caf64115b68b3983d19afae4.jpg', 7);
INSERT INTO `t_blog` VALUES (208, 'Mybatis02', 'æ˜ å°„å™¨', '## æ˜ å°„å™¨\n\n* æ¥å£å¿…é¡»å’ŒMapperé…ç½®æ–‡ä»¶åŒå\n* æ¥å£å¿…é¡»å’ŒMapperé…ç½®æ–‡ä»¶åœ¨åŒä¸€ä¸ªåŒ…ä¸‹\n\n\n\n\n\n## ç”Ÿå‘½å‘¨æœŸåŠå…¶ä½œç”¨åŸŸ\n\n* ç”Ÿå‘½å‘¨æœŸç±»åˆ«æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºé”™è¯¯çš„ä½¿ç”¨ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„å¹¶å‘é—®é¢˜ã€‚\n\n\n\n## å±æ€§åå’Œå­—æ®µåçš„ä¸ä¸€è‡´\n\n* åˆ©ç”¨resultMapï¼ˆç»“æœé›†æ˜ å°„ï¼‰\n\n\n\n**UserMapper.xmlï¼š**\n\n```java\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"com.xiaoliu.Dao.UserMapper\">\n<!--    ç»“æœé›†æ˜ å°„-->\n    <!--    columnä¸ºæ•°æ®åº“ä¸­çš„å­—æ®µåï¼Œpropertyä¸ºå®ä½“ç±»ä¸­çš„å±æ€§-->\n\n    <resultMap id=\"UserMap\" type=\"com.xiaoliu.pojo.User\">\n<!--        <result property=\"id\" column=\"id\"/>-->\n<!--        <result property=\"name\" column=\"name\"/>-->\n        <result property=\"pwd\" column=\"password\"/>\n    </resultMap>\n\n    <select id=\"getUserById\" resultMap=\"UserMap\">\n        select id,name,password from mybatis.user where id  = #{id}\n    </select>\n\n</mapper>\n```\n\n\n\næµ‹è¯•ç±»ï¼š\n\n```java\npublic class UserMapperTest {\n\n    @Test\n    public void getUserById(){\n        SqlSession sqlSession = MybatisUtils.getSqlSession();\n//        è·å–æ¥å£\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n\n        User user = mapper.getUserById(2);\n        System.out.println(user);\n        sqlSession.close();\n    }\n\n}\n```\n\n\n\nç»“æœï¼š\n\nUser{id=2, name=\'å¤§åˆ˜å“¥\', pwd=\'1234\'}\n\nProcess finished with exit code 0', 0, '2022-09-05 23:30:43', '2022-10-21 20:01:00', 0, 124, 0, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/e15e51412367433f8bcfd949142e6543.jpg', 7);
INSERT INTO `t_blog` VALUES (209, 'Mybatis-03', ' è®¾ç½®ï¼ˆsettingsï¼‰', '# Mybatis-03\n\n\n\n## è®¾ç½®ï¼ˆsettingsï¼‰\n\nè¿™æ˜¯ MyBatis ä¸­æä¸ºé‡è¦çš„è°ƒæ•´è®¾ç½®ï¼Œå®ƒä»¬ä¼šæ”¹å˜ MyBatis çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚ ä¸‹è¡¨æè¿°äº†è®¾ç½®ä¸­å„é¡¹è®¾ç½®çš„å«ä¹‰ã€é»˜è®¤å€¼ç­‰ã€‚\n\n| è®¾ç½®å                           | æè¿°                                                         | æœ‰æ•ˆå€¼                                                       | é»˜è®¤å€¼                                                |\n| :------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :---------------------------------------------------- |\n| cacheEnabled                     | å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ã€‚     | true \\| false                                                | true                                                  |\n| lazyLoadingEnabled               | å»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½® `fetchType` å±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€ã€‚ | true \\| false                                                | false                                                 |\n| aggressiveLazyLoading            | å¼€å¯æ—¶ï¼Œä»»ä¸€æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å»¶è¿ŸåŠ è½½å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå»¶è¿ŸåŠ è½½å±æ€§ä¼šæŒ‰éœ€åŠ è½½ï¼ˆå‚è€ƒ `lazyLoadTriggerMethods`)ã€‚ | true \\| false                                                | false ï¼ˆåœ¨ 3.4.1 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­é»˜è®¤ä¸º trueï¼‰          |\n| multipleResultSetsEnabled        | æ˜¯å¦å…è®¸å•ä¸ªè¯­å¥è¿”å›å¤šç»“æœé›†ï¼ˆéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒï¼‰ã€‚         | true \\| false                                                | true                                                  |\n| useColumnLabel                   | ä½¿ç”¨åˆ—æ ‡ç­¾ä»£æ›¿åˆ—åã€‚å®é™…è¡¨ç°ä¾èµ–äºæ•°æ®åº“é©±åŠ¨ï¼Œå…·ä½“å¯å‚è€ƒæ•°æ®åº“é©±åŠ¨çš„ç›¸å…³æ–‡æ¡£ï¼Œæˆ–é€šè¿‡å¯¹æ¯”æµ‹è¯•æ¥è§‚å¯Ÿã€‚ | true \\| false                                                | true                                                  |\n| useGeneratedKeys                 | å…è®¸ JDBC æ”¯æŒè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œå°†å¼ºåˆ¶ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚å°½ç®¡ä¸€äº›æ•°æ®åº“é©±åŠ¨ä¸æ”¯æŒæ­¤ç‰¹æ€§ï¼Œä½†ä»å¯æ­£å¸¸å·¥ä½œï¼ˆå¦‚ Derbyï¼‰ã€‚ | true \\| false                                                | False                                                 |\n| autoMappingBehavior              | æŒ‡å®š MyBatis åº”å¦‚ä½•è‡ªåŠ¨æ˜ å°„åˆ—åˆ°å­—æ®µæˆ–å±æ€§ã€‚ NONE è¡¨ç¤ºå…³é—­è‡ªåŠ¨æ˜ å°„ï¼›PARTIAL åªä¼šè‡ªåŠ¨æ˜ å°„æ²¡æœ‰å®šä¹‰åµŒå¥—ç»“æœæ˜ å°„çš„å­—æ®µã€‚ FULL ä¼šè‡ªåŠ¨æ˜ å°„ä»»ä½•å¤æ‚çš„ç»“æœé›†ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰ã€‚ | NONE, PARTIAL, FULL                                          | PARTIAL                                               |\n| autoMappingUnknownColumnBehavior | æŒ‡å®šå‘ç°è‡ªåŠ¨æ˜ å°„ç›®æ ‡æœªçŸ¥åˆ—ï¼ˆæˆ–æœªçŸ¥å±æ€§ç±»å‹ï¼‰çš„è¡Œä¸ºã€‚`NONE`: ä¸åšä»»ä½•ååº”`WARNING`: è¾“å‡ºè­¦å‘Šæ—¥å¿—ï¼ˆ`\'org.apache.ibatis.session.AutoMappingUnknownColumnBehavior\'` çš„æ—¥å¿—ç­‰çº§å¿…é¡»è®¾ç½®ä¸º `WARN`ï¼‰`FAILING`: æ˜ å°„å¤±è´¥ (æŠ›å‡º `SqlSessionException`) | NONE, WARNING, FAILING                                       | NONE                                                  |\n| defaultExecutorType              | é…ç½®é»˜è®¤çš„æ‰§è¡Œå™¨ã€‚SIMPLE å°±æ˜¯æ™®é€šçš„æ‰§è¡Œå™¨ï¼›REUSE æ‰§è¡Œå™¨ä¼šé‡ç”¨é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰ï¼› BATCH æ‰§è¡Œå™¨ä¸ä»…é‡ç”¨è¯­å¥è¿˜ä¼šæ‰§è¡Œæ‰¹é‡æ›´æ–°ã€‚ | SIMPLE REUSE BATCH                                           | SIMPLE                                                |\n| defaultStatementTimeout          | è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå®ƒå†³å®šæ•°æ®åº“é©±åŠ¨ç­‰å¾…æ•°æ®åº“å“åº”çš„ç§’æ•°ã€‚         | ä»»æ„æ­£æ•´æ•°                                                   | æœªè®¾ç½® (null)                                         |\n| defaultFetchSize                 | ä¸ºé©±åŠ¨çš„ç»“æœé›†è·å–æ•°é‡ï¼ˆfetchSizeï¼‰è®¾ç½®ä¸€ä¸ªå»ºè®®å€¼ã€‚æ­¤å‚æ•°åªå¯ä»¥åœ¨æŸ¥è¯¢è®¾ç½®ä¸­è¢«è¦†ç›–ã€‚ | ä»»æ„æ­£æ•´æ•°                                                   | æœªè®¾ç½® (null)                                         |\n| defaultResultSetType             | æŒ‡å®šè¯­å¥é»˜è®¤çš„æ»šåŠ¨ç­–ç•¥ã€‚ï¼ˆæ–°å¢äº 3.5.2ï¼‰                     | FORWARD_ONLY \\| SCROLL_SENSITIVE \\| SCROLL_INSENSITIVE \\| DEFAULTï¼ˆç­‰åŒäºæœªè®¾ç½®ï¼‰ | æœªè®¾ç½® (null)                                         |\n| safeRowBoundsEnabled             | æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨åˆ†é¡µï¼ˆRowBoundsï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚ | true \\| false                                                | False                                                 |\n| safeResultHandlerEnabled         | æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨ç»“æœå¤„ç†å™¨ï¼ˆResultHandlerï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚ | true \\| false                                                | True                                                  |\n| mapUnderscoreToCamelCase         | æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å A_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚ | true \\| false                                                | False                                                 |\n| localCacheScope                  | MyBatis åˆ©ç”¨æœ¬åœ°ç¼“å­˜æœºåˆ¶ï¼ˆLocal Cacheï¼‰é˜²æ­¢å¾ªç¯å¼•ç”¨å’ŒåŠ é€Ÿé‡å¤çš„åµŒå¥—æŸ¥è¯¢ã€‚ é»˜è®¤å€¼ä¸º SESSIONï¼Œä¼šç¼“å­˜ä¸€ä¸ªä¼šè¯ä¸­æ‰§è¡Œçš„æ‰€æœ‰æŸ¥è¯¢ã€‚ è‹¥è®¾ç½®å€¼ä¸º STATEMENTï¼Œæœ¬åœ°ç¼“å­˜å°†ä»…ç”¨äºæ‰§è¡Œè¯­å¥ï¼Œå¯¹ç›¸åŒ SqlSession çš„ä¸åŒæŸ¥è¯¢å°†ä¸ä¼šè¿›è¡Œç¼“å­˜ã€‚ | SESSION \\| STATEMENT                                         | SESSION                                               |\n| jdbcTypeForNull                  | å½“æ²¡æœ‰ä¸ºå‚æ•°æŒ‡å®šç‰¹å®šçš„ JDBC ç±»å‹æ—¶ï¼Œç©ºå€¼çš„é»˜è®¤ JDBC ç±»å‹ã€‚ æŸäº›æ•°æ®åº“é©±åŠ¨éœ€è¦æŒ‡å®šåˆ—çš„ JDBC ç±»å‹ï¼Œå¤šæ•°æƒ…å†µç›´æ¥ç”¨ä¸€èˆ¬ç±»å‹å³å¯ï¼Œæ¯”å¦‚ NULLã€VARCHAR æˆ– OTHERã€‚ | JdbcType å¸¸é‡ï¼Œå¸¸ç”¨å€¼ï¼šNULLã€VARCHAR æˆ– OTHERã€‚              | OTHER                                                 |\n| lazyLoadTriggerMethods           | æŒ‡å®šå¯¹è±¡çš„å“ªäº›æ–¹æ³•è§¦å‘ä¸€æ¬¡å»¶è¿ŸåŠ è½½ã€‚                         | ç”¨é€—å·åˆ†éš”çš„æ–¹æ³•åˆ—è¡¨ã€‚                                       | equals,clone,hashCode,toString                        |\n| defaultScriptingLanguage         | æŒ‡å®šåŠ¨æ€ SQL ç”Ÿæˆä½¿ç”¨çš„é»˜è®¤è„šæœ¬è¯­è¨€ã€‚                        | ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚                                   | org.apache.ibatis.scripting.xmltags.XMLLanguageDriver |\n| defaultEnumTypeHandler           | æŒ‡å®š Enum ä½¿ç”¨çš„é»˜è®¤ `TypeHandler` ã€‚ï¼ˆæ–°å¢äº 3.4.5ï¼‰        | ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚                                   | org.apache.ibatis.type.EnumTypeHandler                |\n| callSettersOnNulls               | æŒ‡å®šå½“ç»“æœé›†ä¸­å€¼ä¸º null çš„æ—¶å€™æ˜¯å¦è°ƒç”¨æ˜ å°„å¯¹è±¡çš„ setterï¼ˆmap å¯¹è±¡æ—¶ä¸º putï¼‰æ–¹æ³•ï¼Œè¿™åœ¨ä¾èµ–äº Map.keySet() æˆ– null å€¼è¿›è¡Œåˆå§‹åŒ–æ—¶æ¯”è¾ƒæœ‰ç”¨ã€‚æ³¨æ„åŸºæœ¬ç±»å‹ï¼ˆintã€boolean ç­‰ï¼‰æ˜¯ä¸èƒ½è®¾ç½®æˆ null çš„ã€‚ | true \\| false                                                | false                                                 |\n| returnInstanceForEmptyRow        | å½“è¿”å›è¡Œçš„æ‰€æœ‰åˆ—éƒ½æ˜¯ç©ºæ—¶ï¼ŒMyBatisé»˜è®¤è¿”å› `null`ã€‚ å½“å¼€å¯è¿™ä¸ªè®¾ç½®æ—¶ï¼ŒMyBatisä¼šè¿”å›ä¸€ä¸ªç©ºå®ä¾‹ã€‚ è¯·æ³¨æ„ï¼Œå®ƒä¹Ÿé€‚ç”¨äºåµŒå¥—çš„ç»“æœé›†ï¼ˆå¦‚é›†åˆæˆ–å…³è”ï¼‰ã€‚ï¼ˆæ–°å¢äº 3.4.2ï¼‰ | true \\| false                                                | false                                                 |\n| logPrefix                        | æŒ‡å®š MyBatis å¢åŠ åˆ°æ—¥å¿—åç§°çš„å‰ç¼€ã€‚                          | ä»»ä½•å­—ç¬¦ä¸²                                                   | æœªè®¾ç½®                                                |\n| logImpl                          | æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚        | SLF4J \\| LOG4J \\| LOG4J2 \\| JDK_LOGGING \\| COMMONS_LOGGING \\| STDOUT_LOGGING \\| NO_LOGGING | æœªè®¾ç½®                                                |\n| proxyFactory                     | æŒ‡å®š Mybatis åˆ›å»ºå¯å»¶è¿ŸåŠ è½½å¯¹è±¡æ‰€ç”¨åˆ°çš„ä»£ç†å·¥å…·ã€‚            | CGLIB \\| JAVASSIST                                           | JAVASSIST ï¼ˆMyBatis 3.3 ä»¥ä¸Šï¼‰                        |\n| vfsImpl                          | æŒ‡å®š VFS çš„å®ç°                                              | è‡ªå®šä¹‰ VFS çš„å®ç°çš„ç±»å…¨é™å®šåï¼Œä»¥é€—å·åˆ†éš”ã€‚                  | æœªè®¾ç½®                                                |\n| useActualParamName               | å…è®¸ä½¿ç”¨æ–¹æ³•ç­¾åä¸­çš„åç§°ä½œä¸ºè¯­å¥å‚æ•°åç§°ã€‚ ä¸ºäº†ä½¿ç”¨è¯¥ç‰¹æ€§ï¼Œä½ çš„é¡¹ç›®å¿…é¡»é‡‡ç”¨ Java 8 ç¼–è¯‘ï¼Œå¹¶ä¸”åŠ ä¸Š `-parameters` é€‰é¡¹ã€‚ï¼ˆæ–°å¢äº 3.4.1ï¼‰ | true \\| false                                                | true                                                  |\n| configurationFactory             | æŒ‡å®šä¸€ä¸ªæä¾› `Configuration` å®ä¾‹çš„ç±»ã€‚ è¿™ä¸ªè¢«è¿”å›çš„ Configuration å®ä¾‹ç”¨æ¥åŠ è½½è¢«ååºåˆ—åŒ–å¯¹è±¡çš„å»¶è¿ŸåŠ è½½å±æ€§å€¼ã€‚ è¿™ä¸ªç±»å¿…é¡»åŒ…å«ä¸€ä¸ªç­¾åä¸º`static Configuration getConfiguration()` çš„æ–¹æ³•ã€‚ï¼ˆæ–°å¢äº 3.2.3ï¼‰ | ä¸€ä¸ªç±»å‹åˆ«åæˆ–å®Œå…¨é™å®šç±»åã€‚                                 | æœªè®¾ç½®                                                |\n\nä¸€ä¸ªé…ç½®å®Œæ•´çš„ settings å…ƒç´ çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n```\n<settings>\n  <setting name=\"cacheEnabled\" value=\"true\"/>\n  <setting name=\"lazyLoadingEnabled\" value=\"true\"/>\n  <setting name=\"multipleResultSetsEnabled\" value=\"true\"/>\n  <setting name=\"useColumnLabel\" value=\"true\"/>\n  <setting name=\"useGeneratedKeys\" value=\"false\"/>\n  <setting name=\"autoMappingBehavior\" value=\"PARTIAL\"/>\n  <setting name=\"autoMappingUnknownColumnBehavior\" value=\"WARNING\"/>\n  <setting name=\"defaultExecutorType\" value=\"SIMPLE\"/>\n  <setting name=\"defaultStatementTimeout\" value=\"25\"/>\n  <setting name=\"defaultFetchSize\" value=\"100\"/>\n  <setting name=\"safeRowBoundsEnabled\" value=\"false\"/>\n  <setting name=\"mapUnderscoreToCamelCase\" value=\"false\"/>\n  <setting name=\"localCacheScope\" value=\"SESSION\"/>\n  <setting name=\"jdbcTypeForNull\" value=\"OTHER\"/>\n  <setting name=\"lazyLoadTriggerMethods\" value=\"equals,clone,hashCode,toString\"/>\n</settings>\n```\n\n\n\n```xml\n<settings>\n    <setting name=\"logImpl\" value=\"STDOUT_LOGGING\"/>\n</settings>\n```\n\n\n\n### STDOUT_LOGGINGæ ‡å‡†æ—¥å¿—è¾“å‡ºï¼š\n\n\n\nLogging initialized using \'class org.apache.ibatis.logging.stdout.StdOutImpl\' adapter.\nPooledDataSource forcefully closed/removed all connections.\nPooledDataSource forcefully closed/removed all connections.\nPooledDataSource forcefully closed/removed all connections.\nPooledDataSource forcefully closed/removed all connections.\nOpening JDBC Connection\nCreated connection 775386112.\nSetting autocommit to false on JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@2e377400]\n==>  Preparing: select id,name,password from mybatis.user where id = ?\n==> Parameters: 2(Integer)\n<==    Columns: id, name, password\n<==        Row: 2, å¤§åˆ˜å“¥, 1234\n<==      Total: 1\nUser{id=2, name=\'å¤§åˆ˜å“¥\', pwd=\'1234\'}\nResetting autocommit to true on JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@2e377400]\nClosing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@2e377400]\nReturned connection 775386112 to pool.\n\nProcess finished with exit code 0\n\n\n\n## Log4j\n\n* æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯[æ§åˆ¶å°](https://baike.baidu.com/item/æ§åˆ¶å°/2438626)ã€æ–‡ä»¶ã€[GUI](https://baike.baidu.com/item/GUI)ç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€[NT](https://baike.baidu.com/item/NT/3443842)çš„äº‹ä»¶è®°å½•å™¨ã€[UNIX](https://baike.baidu.com/item/UNIX) [Syslog](https://baike.baidu.com/item/Syslog)[å®ˆæŠ¤è¿›ç¨‹](https://baike.baidu.com/item/å®ˆæŠ¤è¿›ç¨‹/966835)ç­‰ï¼›\n* æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚\n* æœ€ä»¤äººæ„Ÿå…´è¶£çš„å°±æ˜¯ï¼Œè¿™äº›å¯ä»¥é€šè¿‡ä¸€ä¸ª[é…ç½®æ–‡ä»¶](https://baike.baidu.com/item/é…ç½®æ–‡ä»¶/286550)æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚\n\n\n\nâ€‹	å¯¼å…¥ç›¸å…³ä¾èµ–\n\n\n\nlog4j.properties\n\n```properties\n#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç \nlog4j.rootLogger=DEBUG,console,file\n\n#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®\nlog4j.appender.console = org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target = System.out\nlog4j.appender.console.Threshold=DEBUG\nlog4j.appender.console.layout = org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=[%c]-%m%n\n\n#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®\nlog4j.appender.file = org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=./log/xiaoliu.log\nlog4j.appender.file.MaxFileSize=10mb\nlog4j.appender.file.Threshold=DEBUG\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=[%p][%d{yy-MM-dd}][%c]%m%n\n\n#æ—¥å¿—è¾“å‡ºçº§åˆ«\nlog4j.logger.org.mybatis=DEBUG\nlog4j.logger.java.sql=DEBUG\nlog4j.logger.java.sql.Statement=DEBUG\nlog4j.logger.java.sql.ResultSet=DEBUG\nlog4j.logger.java.sql.PreparedStatement=DEBUG\n```\n\né…ç½®æ–‡ä»¶çš„å®ç°ï¼š\n\n```xml\n<settings>\n        <setting name=\"logImpl\" value=\"LOG4J\"/>\n    </settings>\n```\n\n\n\nD:\\Java\\jdk1.8.0_191\\bin\\java.exe -ea -Didea.test.cyclic.buffer.size=1048576 \"-javaagent:D:\\IntelliJ \n?org.apache.ibatis.transaction.jdbc.JdbcTransaction?-Opening JDBC Connection\n?org.apache.ibatis.datasource.pooled.PooledDataSource?-Created connection 1151844284.\n?org.apache.ibatis.transaction.jdbc.JdbcTransaction?-Setting autocommit to false on JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@44a7bfbc]\n?com.xiaoliu.Dao.UserMapper.getUserById?-==>  Preparing: select id,name,password from mybatis.user where id = ?\n?com.xiaoliu.Dao.UserMapper.getUserById?-==> Parameters: 2(Integer)\n?com.xiaoliu.Dao.UserMapper.getUserById?-<==      Total: 1\nUser{id=2, name=\'å¤§åˆ˜å“¥\', pwd=\'1234\'}\n?org.apache.ibatis.transaction.jdbc.JdbcTransaction?-Resetting autocommit to true on JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@44a7bfbc]\n?org.apache.ibatis.transaction.jdbc.JdbcTransaction?-Closing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@44a7bfbc]\n?org.apache.ibatis.datasource.pooled.PooledDataSource?-Returned connection 1151844284 to pool.\n\nProcess finished with exit code 0\n\n\n\nåœ¨ä½¿ç”¨æ—¶è¦è®°å¾—åˆ°å…¥åŒ…\n\n```java\nimport org.apache.log4j.Logger;\n```\n\nå¹¶åœ¨è¦ä½¿ç”¨çš„ç±»ä¸‹é¢ä½¿ç”¨å½“å‰çš„class\n\n```java\nstatic Logger logger = Logger.getLogger(UserMapperTest.class);\n```\n\n\n\n## åˆ†é¡µ', 0, '2022-09-05 23:32:58', '2022-10-21 20:01:00', 0, 124, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/653c01916a9341d19943de27fc4b5587.jpg', 7);
INSERT INTO `t_blog` VALUES (210, 'spirngbootåˆå­¦', 'SpringBootåŸç†', '# SpringBootåŸç†\n\n## 1ã€è‡ªåŠ¨è£…é…åŸç†	\n\n**pom.xml**\n\n* spring-boot-dependencies:æ ¸å¿ƒä¾èµ–åœ¨çˆ¶å·¥ç¨‹ä¸­\n* æˆ‘ä»¬åœ¨å¼•å…¥ä¸€äº›springä¾èµ–çš„æ—¶å€™ï¼Œä¸éœ€è¦æŒ‡å®šç‰ˆæœ¬ï¼Œå› ä¸ºæœ‰è¿™äº›ç‰ˆæœ¬ä»“åº“\n\n\n\n**å¯åŠ¨å™¨**\n\n* ```xml\n  <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-web</artifactId>\n  </dependency>\n  ```\n\n* æ˜¯springbootçš„å¯åŠ¨åœºæ™¯\n  * æ¯”å¦‚springbootwb å°±å¸®æˆ‘ä»¬è‡ªåŠ¨å¯¼å…¥webç¯å¢ƒæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–ï¼\n* å°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯å˜æˆä¸€ä¸ªä¸ªå¯åŠ¨å™¨\n\n\n\n**springbootä¸»ç¨‹åº** \n\n```java\n@SpringBootApplication\npublic class HelloWorldApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HelloWorldApplication.class, args);\n    }\n\n}\n```\n\n\n\n**æ³¨è§£**\n\n```java\n@SpringBootConfiguration\n@SpringBootConfiguration\n```\n\n\n\nè‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒæ–‡ä»¶\n\n`WEB-INF/spring.factories` \n\næ‰€æœ‰çš„èµ„æºåŠ è½½åˆ°é…ç½®ç±»ä¸­\n\n```java\nProperties properties = PropertiesLoaderUtils.loadProperties(resource)\n```\n\næ ¸å¿ƒæ³¨è§£\n\n```java\n@ConditionalOnXXX	åœ¨æ»¡è¶³æ‰€æœ‰æ¡ä»¶æ‰ä¼šç”Ÿæ•ˆ \n```\n\n\n\nspringbootè‡ªåŠ¨é…ç½®éƒ½åœ¨å¯åŠ¨çš„æ—¶å€™æ‰«æå¹¶åŠ è½½ `spirng.properties` æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»éƒ½åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡åˆ¤æ–­æ ¸å¿ƒæ³¨è§£æ˜¯å¦æ»¡è¶³æ¡ä»¶æ‰èƒ½ç”Ÿæ•ˆ\n\n* springbootåœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œé€šè¿‡ç±»è·¯å¾„ä¸‹çš„ `WEB-INF/spirng.properties` è·å¾—æŒ‡å®šçš„å€¼\n* å°†è¿™äº›è‡ªåŠ¨é…ç½®çš„ç±»å¯¼å…¥å®¹å™¨ï¼Œè‡ªåŠ¨é…ç½®å°±ä¼šç”Ÿæ•ˆ\n* å³å®Œæˆè‡ªåŠ¨é…ç½®\n  * æ•´åˆjavaEE è§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®çš„ä¸œè¥¿éƒ½åœ¨ `spring-boot-test-autoconfigure-2.3.7.RELEASE.jar` ä¸­', 0, '2022-09-05 23:33:39', '2022-10-21 20:01:00', 0, 125, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/319fcc4360ee4c039ad6ba6eefee6f7b.jpg', 7);
INSERT INTO `t_blog` VALUES (211, 'SpringBoot Webå¼€å‘', 'jar:webpp!', '# jar:webpp!\n\n* å¯¼å…¥é™æ€èµ„æº\n* é¦–é¡µ\n* jspï¼Œæ¨¡æ¿å¼•æ“Thymeleaf\n* è£…é…æ‰©å±•SpringMVC\n* å¢åˆ æ”¹æŸ¥\n* æ‹¦æˆªå™¨\n* å›½é™…åŒ–\n\n\n\nåœ¨springbootï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¤„ç†é™æ€èµ„æº\n\n* webjars	`localhost:8080/webjars/`\n  * publicï¼Œstaticï¼Œ/**,resource 	`localhost:8080/`\n* ä¼˜å…ˆçº§ resource>static(é»˜è®¤)>public\n\n\n\n# é¦–é¡µå¦‚ä½•å®šåˆ¶\n\nindex.html\n\næœ€å¥½è®¾ç½®åœ¨staticé‡Œ\n\n\n\n```\nåœ¨templatesç›®å½•ä¸‹çš„é¡µé¢ï¼Œåªé€šè¿‡controlleræ¥è·³è½¬\néœ€è¦æ¨¡æ¿å¼•æ“çš„æ”¯æŒ\n```\n', 0, '2022-09-05 23:34:28', '2022-10-21 20:01:00', 0, 1, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/6ca427a8caf64115b68b3983d19afae4.jpg', 7);
INSERT INTO `t_blog` VALUES (212, 'è‡ªåŠ¨è£…é…åŸç†', 'ä¸€äº›é…ç½®', '# ä¸»å¯åŠ¨ç±»è¿è¡Œ\n\n* åˆå§‹åŒ– åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸ºä¸€ä¸ªwebåº”ç”¨\n* æ‰“å¼€ç›‘å¬å™¨å…¨å±€å¤„ç†ä¸Šä¸‹æ–‡\n* é€šè¿‡ä¸»ç±»åŠ è½½ï¼Œé€šè¿‡ç±»åŠ è½½è·å–springã€‚factories\n* è£…é…ç¯å¢ƒå‚æ•°\n\n\n\n# yaml\n\n* å¯ä»¥ç»™å®ä½“ç±»èµ‹å€¼\n\n  \n\n* ```yaml\n  # k = v\n  # æ³¨å…¥åˆ°æˆ‘ä»¬é…ç½®ç±»ä¸­\n  # æ™®é€šçš„key-value\n  name : xiaoliu\n  \n  dog:\n    name: xiaogou\n    age: 3\n  # å¯¹è±¡\n  student:\n    name: xiaoliu\n    age: 3\n  \n  ##  è¡Œå†…å†™æ³•\n  student1: {name: xialiu, age: 3}\n  \n  ##æ•°ç»„\n  pets:\n    - dog\n    - vat\n    -  cat\n  \n    pets1: [dog,we,zw]\n  \n  ##å¯¹è±¡\n    person:\n    name: xiaoliu\n    age: 3\n    happy: flase\n    birth: 2022/10/2\n    map: {k2: v1,k1: v2}\n    list:\n      - code\n      - music\n      - book\n  ```\n\n\n\n```java\n@ConfigurationProperties(prefix = \"person\")\n```\n\nå¯ä»¥é€šè¿‡è¿™ä¸ªæ³¨è§£å°†é…ç½®æ–‡ä»¶ä¸­çš„å€¼æ˜ å°„åˆ°ç»„ä»¶ `@component` ä¸Š\n\n\n\nä¹Ÿå¯ä»¥é€šè¿‡ `@PropertySource(\"classpath:xiaoliu.properties\")` æ³¨è§£æ˜ å°„åˆ°ç»„ä»¶ä¸Š\n\n```java\n//åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶\n@PropertySource(\"classpath:xiaoliu.properties\")\npublic class Person {\n//    SPELè¡¨è¾¾å¼å–å€¼\n    @Value(\"${name}\")\n```\n\n\n\n# æ¾æ•£ç»‘å®š\n\nåœ¨ymlä¸­ å†™çš„ä¸ºlast-name ä¸lastNameæ˜¯ä¸€æ ·çš„\n\n\n\n# jsr303æ ¡éªŒ\n\n**çº¦æŸæ³¨è§£åç§°	çº¦æŸæ³¨è§£è¯´æ˜**\n**@Null	éªŒè¯å¯¹è±¡æ˜¯å¦ä¸ºç©º**\n**@NotNull	éªŒè¯å¯¹è±¡æ˜¯å¦ä¸ºéç©º**\n**@AssertTrue	éªŒè¯ Boolean å¯¹è±¡æ˜¯å¦ä¸º true**\n**@AssertFalse	éªŒè¯ Boolean å¯¹è±¡æ˜¯å¦ä¸º false**\n**@Min	éªŒè¯ Number å’Œ String å¯¹è±¡æ˜¯å¦å¤§ç­‰äºæŒ‡å®šçš„å€¼**\n**@Max	éªŒè¯ Number å’Œ String å¯¹è±¡æ˜¯å¦å°ç­‰äºæŒ‡å®šçš„å€¼**\n**@DecimalMin	éªŒè¯ Number å’Œ String å¯¹è±¡æ˜¯å¦å¤§ç­‰äºæŒ‡å®šçš„å€¼ï¼Œå°æ•°å­˜åœ¨ç²¾åº¦**\n**@DecimalMax	éªŒè¯ Number å’Œ String å¯¹è±¡æ˜¯å¦å°ç­‰äºæŒ‡å®šçš„å€¼ï¼Œå°æ•°å­˜åœ¨ç²¾åº¦**\n**@Size	éªŒè¯å¯¹è±¡ï¼ˆArray,Collection,Map,Stringï¼‰é•¿åº¦æ˜¯å¦åœ¨ç»™å®šçš„èŒƒå›´ä¹‹å†…**\n**@Digits	éªŒè¯ Number å’Œ String çš„æ„æˆæ˜¯å¦åˆæ³•**\n**@Past	éªŒè¯ Date å’Œ Calendar å¯¹è±¡æ˜¯å¦åœ¨å½“å‰æ—¶é—´ä¹‹å‰**\n**@Future	éªŒè¯ Date å’Œ Calendar å¯¹è±¡æ˜¯å¦åœ¨å½“å‰æ—¶é—´ä¹‹å**\n**@Pattern	éªŒè¯ String å¯¹è±¡æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™**\n\n\n\n# è‡ªåŠ¨é…ç½®åŸç†\n\nxxxAutoConfiguration: 	é»˜è®¤å€¼  xxxproperties å’Œé…ç½®æ–‡ä»¶ç»‘å®š æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„é…ç½® \n\næ¯ä¸€ä¸ª xxxAutoConfiguration éƒ½æ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œæœ€åéƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­è®©ä»–ä»¬è‡ªåŠ¨é…ç½®\n\n\n\n**è¿™å°±æ˜¯è‡ªåŠ¨è£…é…çš„åŸç†!**\n**ç²¾é«“:**\n**1)ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±»**\n**2)ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰åœ¨SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»å½“ä¸­;**\n**3)ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶; (åªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶å­˜åœ¨åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬**\n**å°±ä¸éœ€è¦å†æ‰‹åŠ¨é…ç½®äº†)**\n**4)ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»propertiesç±»ä¸­è·å–æŸäº›å±æ€§ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®**\n**æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼å³å¯;**\n**xxxxAutoConfigurartion:è‡ªåŠ¨é…ç½®ç±»;ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶**\n**xxxxProperties:å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§æ–‡ä»¶**\n\n', 0, '2022-09-05 23:35:35', '2022-10-21 20:01:00', 0, 125, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/d9dae83913d7450d9bb0a70e6077c7e7.jpg', 7);
INSERT INTO `t_blog` VALUES (213, 'MVCé…ç½®åŸç†åŠthymeleaf', 'å¦‚æœæƒ³è¦divä¸€äº›å®šåˆ¶åŒ–çš„åŠŸèƒ½ï¼Œåªè¦å†™ä¸€ä¸ªç»„ä»¶ï¼Œç„¶åå°†å®ƒäº¤ç»™springbootï¼Œspringbootå°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬é…', '# MVCé…ç½®åŸç†\nå¦‚æœæƒ³è¦divä¸€äº›å®šåˆ¶åŒ–çš„åŠŸèƒ½ï¼Œåªè¦å†™ä¸€ä¸ªç»„ä»¶ï¼Œç„¶åå°†å®ƒäº¤ç»™springbootï¼Œspringbootå°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬é…\n\n```java\npackage com.xiaoliu.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.View;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.util.Locale;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/15 21:17\n * @description:\n */\n//æ‰©å±• springmvc  dispatcherservlet\n@Configuration\n\npublic class MyMvcConfig implements WebMvcConfigurer {\n\n\n    @Bean\n    public ViewResolver myViewResolver(){\n        return new myViewResolver();\n    }\n\n//    è‡ªå®šä¹‰ä¸€ä¸ªè§†å›¾è§£æå™¨\n    public static class myViewResolver implements ViewResolver {\n        @Override\n        public View resolveViewName(String s, Locale locale) throws Exception {\n            return null;\n        }\n    }\n}\n```\n\n\n\nåŸºæœ¬çš„è§†å›¾è·³è½¬\n\n```java\npublic class MyMvcConfig implements WebMvcConfigurer {\n\n    //è§†å›¾è·³è½¬\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/xiaoliu\").setViewName(\"index\");\n    }\n}\n```\n\n**è¿™æ ·çš„è¯ï¼Œè§†å›¾è·³è½¬çš„æ–‡ä»¶ï¼Œåªèƒ½åœ¨templatesï¼Œ**  **è€Œä¸”thymeleafä¹Ÿä¼šå¤±æ•ˆ**\n\nå¦‚æœè¦æ‰©å±•çš„è¯ï¼Œå®˜æ–¹å»ºè®®è¿™æ ·å»åš\n\nspringbootä¸­ï¼ŒxxxConfiguraion å¯ä»¥å®ç°å¾ˆå¤šæ‰©å±•\n\n\n\n# thymeleaf\n\n**thymeleafå¸¸ç”¨å‘½åç©ºé—´**ï¼š\n\nxmlns:th=\"http://www.thymeleaf.org\"\nxmlns:sec=\"http://www.thymeleaf.org/extras/spring-security\"\nxmlns:shiro=\"http://www.pollix.at/thymeleaf/shiro\"\n\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\" \n				xmlns:sec=\"http://www.thymeleaf.org/extras/spring-security\"\n				xmlns:shiro=\"http://www.pollix.at/thymeleaf/shiro\">\n', 0, '2022-09-05 23:43:50', '2022-10-21 20:01:00', 0, 1, 3, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/9745901e813040c6ae2a33f9c531f83b.jpg', 7);
INSERT INTO `t_blog` VALUES (214, ' springbootWeb-02å¼€å‘', 'å‘˜å·¥åˆ—è¡¨å±•ç¤º', '# å‘˜å·¥åˆ—è¡¨å±•ç¤º\n\n* æå‰å…¬å…±é¡µé¢\n  * `th:replace=\"~{commons/commons::sidebar``\n  * ``<div th:replace=\"~{commons/commons::tobbar}\"></div>`\n  * å¦‚æœè¦ä¼ å‚ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼ˆï¼‰ä¼ å‚ï¼Œæ¥å—åˆ¤æ–­\n* åˆ—è¡¨å¾ªåå±•ç¤º\n\n\n\n`<tbody>\n   <tr th:each=\"emp:${emps}\">\n      <td th:text=\"${emp.getId()}\"></td>\n      <td th:text=\"${emp.getLastName()}\"></td>\n      <td th:text=\"${emp.getEmail()}\"></td>\n      <td th:text=\"${emp.getGender()==0?\'å¥³\':\'ç”·\'}\"></td>\n      <td th:text=\"${emp.department.getDepartment()}\"></td>\n      <td th:text=\"${#dates.format(emp.getBirth(),\'yyyy-MM-dd HH:mm:ss\')}\"></td>\n      <td>\n         <button class=\"btn btn-sm btn-primary\">ç¼–è¾‘</button>\n         <button class=\"btn btn-sm btn-danger\">åˆ é™¤</button>\n      </td>\n   </tr>\n</tbody>`\n\n\n\n# æ·»åŠ å‘˜å·¥\n\n\n\næŒ‰é’®æäº¤\n\nè·³è½¬åˆ°æ·»åŠ é¡µé¢\n\næ·»åŠ å‘˜å·¥æˆåŠŸ\n\nè¿”å›é¦–é¡µ\n\n\n\n**aæ ‡ç­¾ä½¿ç”¨getæ–¹æ³•**', 0, '2022-09-05 23:45:50', '2022-10-21 20:01:00', 0, 125, 0, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/8b95ef5b132b464192f4079f4ea21e82.jpg', 7);
INSERT INTO `t_blog` VALUES (215, 'springbootWebå¼€å‘', 'é¦–é¡µé…ç½®ï¼šæ‰€æœ‰htmlé¡µé¢ä½¿ç”¨thymeleafæ¥ç®¡', '# 1ã€é¦–é¡µé…ç½®ï¼šæ‰€æœ‰htmlé¡µé¢ä½¿ç”¨thymeleafæ¥ç®¡ï¼š\n\n`url:@{}`\n\né¦–é¡µï¼š\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n      <meta name=\"description\" content=\"\">\n      <meta name=\"author\" content=\"\">\n      <title>Signin Template for Bootstrap</title>\n      <!-- Bootstrap core CSS -->\n      <link th:href=\"@{/css/bootstrap.min.css}\" rel=\"stylesheet\">\n      <!-- Custom styles for this template -->\n      <link th:href=\"@{/css/signin.css}\" rel=\"stylesheet\">\n   </head>\n\n   <body class=\"text-center\">\n      <form class=\"form-signin\" action=\"dashboard.html\">\n         <img class=\"mb-4\" th:src=\"@{/img/bootstrap-solid.svg}\" alt=\"\" width=\"72\" height=\"72\">\n         <h1 class=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n         <label class=\"sr-only\">Username</label>\n         <input type=\"text\" class=\"form-control\" placeholder=\"Username\" required=\"\" autofocus=\"\">\n         <label class=\"sr-only\">Password</label>\n         <input type=\"password\" class=\"form-control\" placeholder=\"Password\" required=\"\">\n         <div class=\"checkbox mb-3\">\n            <label>\n          <input type=\"checkbox\" value=\"remember-me\"> Remember me\n        </label>\n         </div>\n         <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\n         <p class=\"mt-5 mb-3 text-muted\">Â© 2017-2018</p>\n         <a class=\"btn btn-sm\">ä¸­æ–‡</a>\n         <a class=\"btn btn-sm\">English</a>\n      </form>\n\n   </body>\n\n</html>\n```\n\n\n\ncontrollerï¼š\n\n```java\npackage com.xiaoliu.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/15 21:17\n * @description:\n */\n//æ‰©å±• springmvc  dispatcherservlet\n@Configuration\n\npublic class MyMvcConfig implements WebMvcConfigurer {\n\n    //è§†å›¾è·³è½¬\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/\").setViewName(\"index\");\n        registry.addViewController(\"/index.html\").setViewName(\"index\");\n    }\n}\n```\n\n\n\n## 2ã€é¡µé¢å›½é™…åŒ–\n\ni18n\n\nè®¾ç½®login.propertiesæ–‡ä»¶ï¼Œ\n\nlogin.tip\n\nlogin.password\n\nlogin.username\n\nlogin.remember\n\næ€ä¹ˆè¯†åˆ«å›½é™…åŒ–\n\né€šè¿‡SpirngBootâ€”â€”MessageSourceAutofigurationç±»\n\n\n\nåœ¨é…ç½®application.properties\n\n`spring.messages.basename=i18n.login`\n\nthymeleafå›½é™…åŒ–æ¶ˆæ¯è¯­æ³•ï¼š`#{}`\n\n\n\n```html\nth:text=\"#{login.password}\"\n```\n\nå®ç°è¯­è¨€åˆ‡æ¢\n\n```html\nth:href=\"@{/index.html(l=\'zh_CN\')}\">ä¸­æ–‡\n```\n\n```html\nth:href=\"@{/index.html(l=\'en_US\')}\">Englis\n```\n\n\n\ndivè‡ªå·±çš„ç»„ä»¶åœ¨configä¸­çš„MyMvcConfigç±»ä¸­\n\nå¹¶å°†å…¶é…ç½®åˆ°springbootå®¹å™¨ä¸­ `@Bean`\n\n```java\n//    å‘å®¹å™¨ä¸­æ³¨å…¥ç»„ä»¶ï¼Œè‡ªå®šä¹‰çš„å›½é™…åŒ–ç»„ä»¶\n    @Bean\n    public LocaleResolver localeResolver(){\n        return new MylocalResolver();\n    }\n```\n\n\n\nè‡ªå®šä¹‰çš„ç»„ä»¶\n\n```java\npackage com.xiaoliu.config;\n\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.servlet.LocaleResolver;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.Locale;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/16 15:22\n * @description:\n */\npublic class MylocalResolver implements LocaleResolver {\n    @Override\n    public Locale resolveLocale(HttpServletRequest httpServletRequest) {\n//      è·å–è¯­è¨€å‚æ•°\n        String language = httpServletRequest.getParameter(\"l\");\n        Locale locale = Locale.getDefault(); //å¦‚æœæ²¡æœ‰å°±ä½¿ç”¨é»˜è®¤çš„\n//        å¦‚æœè¯·æ±‚ä¸­æºå¸¦äº†åœ°åŒºåŒ–çš„å‚æ•°\n        if (!StringUtils.isEmpty(language)){\n//            åˆ†å‰² zh_CN\n            String[] split = language.split(\"_\");\n//           å›½å®¶ åœ°åŒº\n             locale = new Locale(split[0], split[1]);\n        }\n        return locale;\n    }\n\n    @Override\n    public void setLocale(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Locale locale) {\n\n    }\n}\n```\n\n\n\n# ä¿®æ”¹è¿”å›çš„url\n\nåœ¨è‡ªå®šä¹‰çš„è§†å›¾è·³è½¬MyMvcConfigä¸­\n\nè§†å›¾è·³è½¬åˆ°dashboardçš„æ—¶å€™ åå­—ä¸ºï¼šmain.html\n\n```java\nregistry.addViewController(\"/main.html\").setViewName(\"dashboard\");\n```\n\n\n\nåœ¨controllerè¿”å›é‡å®šå‘çš„é¡µé¢ä¸º/main.html\n\n```java\nif (!StringUtils.isEmpty(username) && \"123\".equals(password)) {\n    return \"redirect:/main.html\";\n```\n\n\n\n# æ‹¦æˆªå™¨\n\nåœ¨configä¸­ ç¼–å†™LoginHandlerInterceptoræ‹¦æˆªå™¨\n\n```java\npackage com.xiaoliu.config;\n\nimport org.springframework.web.servlet.HandlerInterceptor;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/16 16:14\n * @description:\n */\npublic class LoginHandlerInterceptor implements HandlerInterceptor {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n//        ç™»å½•ä¹‹ååº”è¯¥æœ‰ç”¨æˆ·çš„session\n        Object loginUser = request.getSession().getAttribute(\"loginUser\");\n\n        if (loginUser==null){\n            request.setAttribute(\"msg\",\"æ²¡æœ‰æƒé™ï¼Œè¯·å…ˆç™»å½•ï¼\");\n            request.getRequestDispatcher(\"/index.html\").forward(request,response);\n            return false;\n        }else return true;\n    }\n\n\n}\n```\n\n\n\nåœ¨mvcç±»ä¸­é‡å†™æ‹¦æˆªå™¨\n\n```java\n@Override\npublic void addInterceptors(InterceptorRegistry registry) {\n    registry.addInterceptor(new LoginHandlerInterceptor())\n            .addPathPatterns(\"/**\")//æ‹¦æˆªçš„é¡µé¢\n            .excludePathPatterns(\"/\",\"/index.html\",\"/user/login\",\"/css/**\",\"/js/**\",\"/img/**\");//ä¸èƒ½è¢«æ‹¦æˆªçš„é¡µé¢\n}\n```\n\n', 0, '2022-09-05 23:47:10', '2022-10-21 20:01:00', 0, 125, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/527375049f1249f99ddedc66b9a84836.jpg', 7);
INSERT INTO `t_blog` VALUES (216, 'é€šè¿‡javaè‡ªå»ºæ•°æ®è¡¨ ', 'é€šè¿‡HashMap', '# å»ºç«‹ä¸€ä¸ªå‘˜å·¥éƒ¨é—¨è¡¨ï¼š\n\n# pojo:\n\n**Employee:**\n\n```java\npackage com.xiaoliu.pojo;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.Date;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/15 23:12\n * @description:\n */\n@Data\n@NoArgsConstructor\npublic class Employee {\n    private Integer id;\n    private String lastName;\n    private String email;\n    private Integer gender;\n\n    private Department department;\n    private Date birth;\n\n    public Employee(Integer id, String lastName, String email, Integer gender, Department department) {\n        this.id = id;\n        this.lastName = lastName;\n        this.email = email;\n        this.gender = gender;\n        this.department = department;\n        this.birth = new Date();\n    }\n}\n```\n\n**Department:**\n\n\n\n```java\npackage com.xiaoliu.pojo;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/15 22:17\n * @description:\n */\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Department {\n    private Integer id;\n    private String department;\n}\n```\n\n\n\n## Daoå±‚ï¼š\n\n\n\n**EmployeeDaoï¼š**\n\n```java\npackage com.xiaoliu.dao;\n\nimport com.xiaoliu.pojo.Department;\nimport com.xiaoliu.pojo.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/15 23:44\n * @description:\n */\npublic class EmployeeDao {\n    private static Map<Integer, Employee> employees;\n\n    @Autowired\n    private DepartmentDao departmentDao;\n\n    static {\n        employees = new HashMap<Integer, Employee>();//åˆ›å»ºä¸€ä¸ªéƒ¨é—¨è¡¨\n        employees.put(1001, new Employee(1001,\"AA\",\"A13151@ew.com\",0,new Department(101,\"æ•™å­¦éƒ¨\")));\n        employees.put(1002, new Employee(1002,\"BB\",\"B13151@ew.com\",1,new Department(102,\"åå‹¤éƒ¨\")));\n        employees.put(1003, new Employee(1003,\"CC\",\"C13151@ew.com\",0,new Department(103,\"ä¿å«éƒ¨\")));\n        employees.put(1004, new Employee(1004,\"DD\",\"D13151@ew.com\",1,new Department(104,\"ç§‘ç ”éƒ¨\")));\n        employees.put(1005, new Employee(1005,\"EE\",\"E13151@ew.com\",0,new Department(105,\"å­¦ç”Ÿéƒ¨\")));\n\n    }\n\n//    ä¸»é”®è‡ªå¢ID\n    private static Integer initId = 1006;\n//    å¢åŠ ä¸€ä¸ªå‘˜å·¥\n    public void save(Employee employee){\n        if (employee.getId()==0){\n            employee.setId(initId++);\n        }\n\n        employee.setDepartment(departmentDao.getDepartment(employee.getDepartment().getId()));\n\n        employees.put(employee.getId(),employee);\n    }\n\n//    æŸ¥è¯¢å…¨éƒ¨å‘˜å·¥\n    public Collection<Employee> getAll(){\n        return employees.values();\n    }\n\n//    é€šè¿‡idæŸ¥è¯¢å‘˜å·¥\n    public Employee getById(Integer id){\n        return employees.get(id);\n    }\n\n//    åˆ é™¤å‘˜å·¥é€šè¿‡id\n    public Employee removeById(Integer id){\n        return employees.remove(id);\n    }\n}\n```\n\n\n\n**DepartmentDaoï¼š**\n\n\n\n```java\npackage com.xiaoliu.dao;\n\nimport com.xiaoliu.pojo.Department;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/15 23:18\n * @description:\n */\npublic class DepartmentDao {\n//    æ¨¡æ‹Ÿæ•°æ®åº“ä¸­çš„æ•°æ®\n        private  static Map<Integer, Department> departments = null;\n    static {\n        departments = new HashMap<Integer, Department>();//åˆ›å»ºä¸€ä¸ªéƒ¨é—¨æ•°æ®è¡¨\n        departments.put(101,new Department(101,\"æ•™å­¦éƒ¨\"));\n        departments.put(102,new Department(102,\"åå‹¤éƒ¨\"));\n        departments.put(103,new Department(103,\"ä¿å«éƒ¨\"));\n        departments.put(104,new Department(104,\"ç§‘ç ”éƒ¨\"));\n        departments.put(105,new Department(105,\"å­¦ç”Ÿéƒ¨\"));\n\n    }\n//    è·å¾—éƒ¨é—¨ä¿¡æ¯\n    public Collection<Department> getDepartments(){\n        return departments.values();\n    }\n\n//    é€šè¿‡idå¾—åˆ°éƒ¨é—¨\n    public Department getDepartment(Integer id){\n        return departments.get(id);\n    }\n}\n```\n', 0, '2022-09-05 23:52:08', '2022-10-21 20:01:00', 0, 1, 0, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/1510f1cf53e247d3987af0420303677d.jpg', 7);
INSERT INTO `t_blog` VALUES (217, 'æ•´åˆDruid', 'javaæ•´åˆdruid', '# 1ã€å¯¼å…¥ç›¸å…³ä¾èµ–\n\n```xml\n<dependency>\n    <groupId>log4j</groupId>\n    <artifactId>log4j</artifactId>\n    <version>1.2.12</version>\n</dependency>\n\n\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>druid</artifactId>\n    <version>1.2.9</version>\n</dependency>\n```\n\n\n\n# 2ã€é…ç½®æ–‡ä»¶\n\n\n\n```yml\ntype: com.alibaba.druid.pool.DruidDataSource\n\n  #SpringBooté»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š\n  #druidæ•°æ®æºä¸“æœ‰é…ç½®\n  initialSize: 5\n  minIdle: 5\n  maxActive: 20\n  maxWait: 60000\n  timeBetweenEvictionRunsMillis: 60000\n  minEvictableIdleTimeMillis: 300000\n  validationQuery: SELECT 1 FROM DUAL\n  testWhileIdle: true\n  testOnBorrow: false\n  testOnReturn: false\n  poolPreparedStatements: true\n\n  #é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstatï¼šç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥\n  #å¦‚æœå…è®¸æŠ¥é”™ï¼Œjava.lang.ClassNotFoundException: org.apache.Log4j.Properity\n  #åˆ™å¯¼å…¥log4j ä¾èµ–å°±è¡Œ\n  filters: stat,wall,log4j\n  maxPoolPreparedStatementPerConnectionSize: 20\n  useGlobalDataSourceStat: true\n  connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500\n```\n\n**é…ç½®è¿›å»æ²¡ç”¨ï¼Œä¹Ÿèƒ½è¿›å»ï¼Œå…ˆæ”¾ç€**\n\n\n\n\n\n# 3ã€ç»‘å®šé…ç½®æ–‡ä»¶\n\n```java\npackage com.xiaoliu.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/18 14:33\n * @description:\n */\n@Configuration\npublic class DruidConfig {\n\n    @ConfigurationProperties(prefix = \"spring.datasource\")\n    @Bean\n    public DataSource DruidDataSource(){\n        return new DruidDataSource();\n    }\n}\n```\n\n\n\n# 4ã€DruidConfig\n\n```java\npackage com.xiaoliu.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport com.alibaba.druid.support.http.StatViewServlet;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/18 14:33\n * @description:\n */\n@Configuration\npublic class DruidConfig {\n\n    @ConfigurationProperties(prefix = \"spring.datasource\")\n    @Bean\n    public DataSource DruidDataSource(){\n        return new DruidDataSource();\n    }\n\n//    åå°ç›‘æ§:web.xml\n//    springbooté›†æˆäº†servletï¼Œæ²¡æœ‰web.xml å¯ä»¥ä½¿ç”¨ServletRegistrationBeanï¼Œæ³¨å†Œ\n    @Bean\n    public ServletRegistrationBean statViewServlet(){\n        ServletRegistrationBean<StatViewServlet> bean = new ServletRegistrationBean<>(new StatViewServlet(), \"/druid/*\");\n//        åå°æœ‰äººç™»é™†ï¼Œè´¦å·å¯†ç é…ç½®\n        HashMap<String, String> initParameter = new HashMap<>();\n//        è®¾ç½®å‚æ•°\n        initParameter.put(\"loginUsername\", \"admin\");//é»˜è®¤çš„æ•°å€¼\n        initParameter.put(\"loginPassword\",\"123456\");//é»˜è®¤çš„æ•°å€¼\n\n//        å…è®¸è°è®¿é—®\n        initParameter.put(\"allow\",\"\");//åé¢å‚æ•°ä¸å†™ï¼Œä»»ä½•äººéƒ½èƒ½è®¿é—®\n//        ç¦æ­¢è°è®¿é—®         initParameter.put(\"xxx\",\"ipåœ°å€\");\n\n\n        bean.setInitParameters(initParameter);//è®¾ç½®åˆå§‹åŒ–å‚æ•°\n        return bean;\n    }\n}\n```\n\n**è¿‡æ»¤å™¨**\n\n```java\n//    filter\n    @Bean\n    public FilterRegistrationBean filterStart(){\n        FilterRegistrationBean<Filter> bean = new FilterRegistrationBean<>();\n        bean.setFilter(new WebStatFilter());\n//        è®¾ç½®è¿‡æ»¤è¯·æ±‚\n        HashMap<String, String> initParameters = new HashMap<>();\n//        è®¾ç½®ä¸ç»Ÿè®¡çš„ä¸œè¥¿\n        initParameters.put(\"exclusions\",\"*.js,*.css,/druid/*\");\n        bean.setInitParameters(initParameters);\n        return bean;\n\n    }\n```\n', 0, '2022-09-05 23:53:04', '2022-10-21 20:01:00', 0, 1, 0, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/e5f99aa95ea84870adc3c93854d6bc05.png', 7);
INSERT INTO `t_blog` VALUES (218, 'æ•´åˆMybatis', 'æ•´åˆmybatis', 'å‡†å¤‡å·¥ä½œï¼šæ­å»ºç¯å¢ƒå¹¶æµ‹è¯•ï¼ˆå¯¼å…¥åŒ…ï¼Œé…ç½®æ–‡ä»¶ï¼Œmyabtisé…ç½®ï¼Œç¼–å†™sqlï¼‰\n# 1ã€ç¼–å†™å®ä½“ç±»\n\n```java\npackage com.xiaoliu.pojo;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/18 15:29\n * @description:\n */\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    private Integer id;\n    private String name;\n    private String password;\n}\n```\n\n\n\n# 2ã€ç¼–å†™æ¥å£\n\n```java\npackage com.xiaoliu.mapper;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/18 15:32\n * @description:\n */\n\n@org.apache.ibatis.annotations.Mapper\npublic interface Mapper {\n}\n```\n\n\n\n```java\n@Repository //Daoå±‚ ç”¨è¯¥æ³¨è§£\n```\n\n\n\nå†åˆ°resourceç›®å½•ä¸‹é…ç½®xmlæ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n  PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"com.xiaoliu.mapper\">\n  <select id=\"selectBlog\" resultType=\"User\">\n    select * from Blog where id = #{id}\n  </select>\n</mapper>\n```\n\n\n\nåœ¨springbootä¸­é…ç½®æ–‡ä»¶åˆ«ååŠmapper.xmlæ–‡ä»¶\n\n```yaml\nmybatis.type-aliases-package=com.xiaoliu.pojo\nmybatis.mapper-locations=classpath:/mybatis/mapper/*.xml\n```\n\n\n\nå¢åˆ æ”¹æŸ¥\n\n```xml\n<select id=\"queryUserListById\" resultType=\"User\">\n    select * from mybatis.user where id = #{id}\n</select>\n\n<select id=\"queryUserList\" resultType=\"User\">\n    select * from mybatis.user\n</select>\n\n<insert id=\"addUser\" parameterType=\"User\">\n    insert into mybatis.user (id, name, password) values (#{id},#{name},#{password});\n</insert>\n\n<update id=\"updateUser\" parameterType=\"User\">\n    update mybatis.user\n    set name = #{name},\n        password = #{password}\n    where id = #{id};\n```\n\n\n\né…ç½®æ–‡ä»¶ï¼š\n\n```properties\n# åº”ç”¨åç§°\nspring.application.name=mybatisSpringboot\n# æ•°æ®åº“é©±åŠ¨ï¼š\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n# æ•°æ®æºåç§°\nspring.datasource.name=defaultDataSource\n# æ•°æ®åº“è¿æ¥åœ°å€\nspring.datasource.url=jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&useUnicode=true&characterEncoding=utf-8\n# æ•°æ®åº“ç”¨æˆ·å&å¯†ç ï¼š\nspring.datasource.username=root\nspring.datasource.password=123456\n# åº”ç”¨æœåŠ¡ WEB è®¿é—®ç«¯å£\nserver.port=8080\n\nmybatis.type-aliases-package=com.xiaoliu.pojo\nmybatis.mapper-locations=classpath:/mybatis/mapper/*.xml\n```\n', 0, '2022-09-05 23:54:01', '2022-10-21 20:01:00', 0, 124, 2, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/9778721ff3c14ef0929cd0fb108ce8de.png', 7);
INSERT INTO `t_blog` VALUES (219, 'shiroå®‰å…¨æ¡†æ¶', ' -springbootä¸­é›†æˆ', '1ã€å¯¼å…¥ä¾èµ–\n\n2ã€é…ç½®æ–‡ä»¶\n\n3ã€åº”ç”¨ç¨‹åº\n\n```java\nè·å–å½“å‰å¯¹è±¡\nSubject currentUser = SecurityUtils.getSubject();\nè·å–å½“å‰session\nSession session = currentUser.getSession();\nåˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¢«è®¤è¯\ncurrentUser.isAuthenticated()\nè·å–å½“å‰è®¤è¯\ncurrentUser.getPrincipal()    \nç”¨æˆ·è§’è‰²\ncurrentUser.hasRole  \nç²—ç²’åº¦    \ncurrentUser.isPermitted(\"lightsaber:wield\")\nç»†ç²’åº¦    \ncurrentUser.isPermitted(\"winnebago:drive:eagle5\")\nç™»å‡º\ncurrentUser.logout()    \n```\n\n\n\n# shiroç™»å½•è®¤è¯\n\n\n\n1ã€åˆ›å»ºrealmå¯¹è±¡ï¼Œéœ€è¦è‡ªå®šä¹‰ç±»ï¼š\n\n```java\npublic class UserRealm extends AuthorizingRealm {\n\n//æˆæƒ\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        System.out.println(\"æˆæƒdoGetAuthorizationInfo\");\n        return null;\n    }\n//è®¤è¯\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n        System.out.println(\"è®¤è¯doGetAuthenticationInfo\");\n        return null;\n    }\n}\n```\n\n\n\n```java\n@Configuration\npublic class shiroConfig {\n\n//    ShiroFilterFactoryBean\n//    Manager\n//    åˆ›å»ºrealmå¯¹è±¡\n    @Bean\n    public UserRealm userRealm(){\n        return new UserRealm();\n    }\n}\n```\n\n\n\n2ã€defaultWebSecurityManager\n\n```java\n@Bean\n    public DefaultWebSecurityManager getDefaultWebSecurityManager(@Qualifier(\"userRealm\") UserRealm userRealm){\n        DefaultWebSecurityManager defaultWebSecurityManager = new DefaultWebSecurityManager();\n        defaultWebSecurityManager.setRealm(userRealm);\n//        å…³è”realm\n        return defaultWebSecurityManager;\n    }\n```\n\n\n\n3ã€shiroFiterFactoryBean\n\n```java\n    @Bean(name = \"DefaultWebSecurityManager\")\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(\"DefaultWebSecurityManager\") DefaultWebSecurityManager defaultWebSecurityManager){\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\n//        å…³è”webSecurityManager\n        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);\n        return shiroFilterFactoryBean;\n    }\n```\n\n\n\nShiroFilterFactoryBean \n\n```java\n@Bean\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(\"securityManager\") DefaultWebSecurityManager defaultWebSecurityManager){\n        ShiroFilterFactoryBean bean = new ShiroFilterFactoryBean();\n//        å…³è”webSecurityManager\n//        è®¾ç½®å®‰å…¨ç®¡ç†å™¨\n        bean.setSecurityManager(defaultWebSecurityManager);\n//        æ·»åŠ shiroçš„å†…ç½®è¿‡æ»¤å™¨\n        /*\n            anon:æ— éœ€è®¤è¯\n            authc: å¿…é¡»è®¤è¯\n            user: å¿…é¡»æ‹¥æœ‰ è®°ä½æˆ‘ åŠŸèƒ½æ‰èƒ½å®ç°\n            perms: æ‹¥æœ‰å¯¹æŸä¸ªèµ„æºæƒé™åŠŸèƒ½æ‰èƒ½èƒ½è®¿é—®\n            role: æ‹¥æœ‰æŸä¸ªè§’è‰²æƒé™\n         */\n\n        Map<String, String> filterMap = new LinkedHashMap<>();\n\n\n        filterMap.put(\"/user/add\",\"authc\");\n        filterMap.put(\"/user/update\",\"authc\");\n        System.out.println(\"filterMap\");\n\n       bean.setFilterChainDefinitionMap(filterMap);\n        return bean;\n    }\n```\n\n\n\nå¯åœ¨ShiroFilterFactoryBean è®¾ç½®ç™»å½•\n\n`bean.setLoginUrl(\"/toLogin\");`                        \n\n\n\n# shiroå®ç°ç”¨æˆ·è®¤è¯\n\nåœ¨Controllerä¸­\n\n```java\n@RequestMapping(\"/login\")\n    public String login(String username,String password){\n        //        è·å–å¯¹è±¡\n        Subject subject = SecurityUtils.getSubject();\n\n//        å°è£…ç™»å½•å¯¹è±¡çš„æ•°æ®ä¸ºtoken\n        UsernamePasswordToken token = new UsernamePasswordToken(username, password);\n                subject.login(token);\n        try {\n            subject.login(token);//æ‰§è¡Œç™»å½•æ–¹æ³•ï¼Œæ— å¼‚å¸¸å°±æ‰§è¡Œ\n            return \"index\";\n        } catch (UnknownAccountException e) {//ç”¨æˆ·åä¸å­˜åœ¨\n            model.addAttribute(\"msg\",\"ç”¨æˆ·åé”™è¯¯\");\n            return \"login\";\n        } catch (IncorrectCredentialsException e){//å¯†ç ä¸å­˜åœ¨\n            model.addAttribute(\"msg\",\"å¯†ç é”™è¯¯\");\n            return \"login\";\n        } catch (LockedAccountException e){\n            model.addAttribute(\"msg\",\"è´¦å·è¢«é”å®š\");\n            return \"login\";\n        }\n    }\n```\n\n\n\nUserRealmç±»ä¸­\n\n```java\n@Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n        System.out.println(\"è®¤è¯doGetAuthenticationInfo\");\n\n//        ç”¨æˆ·åï¼Œå¯†ç ï¼Œæ•°æ®åº“ä¸­å–\n        String username= \"root\";\n        String password= \"123456\";\n        UsernamePasswordToken token = (UsernamePasswordToken) authenticationToken;\n        if (!token.getUsername().equals(username)){\n            return null;//æŠ›å‡ºå¼‚å¸¸UnknownAccountException\n        }\n//        å¯†ç è®¤è¯shiroåš\n        return new SimpleAuthenticationInfo(\"\",password,\"\");\n    }\n```\n\n\n\n# Shiroæ•´åˆMybatis\n\næ­å»ºè„šæ‰‹æ¶å¹¶æµ‹è¯•ï¼Œé€šè¿‡å†è¿›è¡Œä¸‹é¢çš„æµ‹è¯•\n\n\n\nåœ¨UserRealmä¸­å¯¼å…¥ä¸šåŠ¡å±‚æ¥å£\n\n```java\n@Autowired\nUserService userService;\n```\n\n```java\n//      è¿æ¥æ•°æ®åº“\n        UsernamePasswordToken userToken = (UsernamePasswordToken) authenticationToken;\n        User user = userService.queryUserByName(userToken.getUsername());\n\n        if (user==null){\n            //æŸ¥æ— æ­¤äºº\n            return null;//UnknownAccountException\n        }\n\n//        å¯†ç è®¤è¯shiroåš\n        return new SimpleAuthenticationInfo(\"\",user.getPassword(),\"\");\n    }\n```\n\n\n\nUserRealmç±»ä¸­\n\n```java\n//      è¿æ¥æ•°æ®åº“\n        UsernamePasswordToken userToken = (UsernamePasswordToken) authenticationToken;\n        User user = userService.queryUserByName(userToken.getUsername());\n\n        if (user==null){\n            //æŸ¥æ— æ­¤äºº\n            return null;//UnknownAccountException\n        }\n\n//        åŠ å¯†ï¼šMD5åŠ å¯†ï¼ŒMD5ç›å€¼åŠ å¯†\n//        md5ï¼šxwefqbrb134513451223qwer md5+ç›å€¼ï¼š xwefqbrb134513451223qwerusername\n//        å¯†ç è®¤è¯shiroåšï¼ŒåŠ å¯†äº†\n//        å¯†ç è®¤è¯shiroåš\n        return new SimpleAuthenticationInfo(\"\",user.getPassword(),\"\");\n    }\n```\n\n\n\n# Shiroè¯·æ±‚æˆæƒå®ç°\n\n åœ¨shiroConfigç±»ä¸­\n\n```java\n//        æˆæƒ\n        filterMap.put(\"/user/add\",\"perms[user:add]\");\n```\n\n\n\nè®¾ç½®æœªæˆæƒçš„è¯·æ±‚\n\n```java\n//       è®¾ç½®æœªæˆæƒçš„è¯·æ±‚\n       bean.setUnauthorizedUrl(\"/noauth\");\n```\n\n\n\nè®¾ç½®Controller\n\n```java\n@RequestMapping(\"/noauth\")\n@ResponseBody\npublic String unauthorized(){\n        return \"æœªç»æˆæƒæ— æ³•è®¿é—®è¯¥é¡µé¢\";\n}\n```\n\nç¼–å†™controllerå±‚\n\n```java\n@RequestMapping(\"/noauth\")\n@ResponseBody\npublic String unauthorized(){\n        return \"æœªç»æˆæƒæ— æ³•è®¿é—®è¯¥é¡µé¢\";\n}\n```\n\n\n\n## æˆæƒã€\n\n```java\n//æˆæƒ\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        System.out.println(\"æˆæƒdoGetAuthorizationInfo\");\n        SimpleAuthorizationInfo info = new SimpleAuthorizationInfo();\n        info.addStringPermission(\"user:add\");//è¿™è¡Œæ˜¯å…¨éƒ¨äººéƒ½è·å–æˆæƒï¼Œæƒ³æŒ‡å®šçš„äººè·å¾—æˆæƒå°±æ³¨é‡Šè¿™è¡Œ\n        return info;\n    }\n```\n\n\n\næŒ‡å®šæ•°æ®åº“ä¸­çš„æŸäº›ç”¨æˆ·è·å–æ•°æ®\n\næ•°æ®åº“ä¸­è®¾å®šæƒé™\n\nUserRealmç±»ä¸­\n\n```java\n//      æ‹¿åˆ°å½“å‰ç™»å½•çš„å¯¹è±¡\n        Subject subject = SecurityUtils.getSubject();\n        User currentUser = (User)subject.getPrincipal();//æ‹¿åˆ°userå¯¹è±¡\n\n        info.addStringPermission(currentUser.getPerms());\n        return info;\n```\n\n\n\nshiroConfigç±»ä¸­\n\n```java\nfilterMap.put(\"/user/add\",\"perms[user:add]\");\nfilterMap.put(\"/user/update\",\"perms[user:update]\");\n```\n\n\n\n# Shiroæ•´åˆThymeleaf\n\nå¯¼å…¥ä¾èµ– shiro-thymeleaf\n\n```xml\n<dependency>\n  <groupId>com.github.theborakompanioni</groupId>\n  <artifactId>thymeleaf-extras-shiro</artifactId>\n  <version>2.1.0</version>\n</dependency>\n```\n\n\n\nåœ¨UserRealmç±»ä¸­\n\n```java\n//    æ•´åˆshirodialectï¼šæ•´åˆ th å’Œ shiro\n    @Bean\n    public ShiroDialect getshiroDialect(){\n        return new ShiroDialect();\n    }\n```\n', 0, '2022-09-05 23:56:02', '2022-10-21 20:01:00', 0, 1, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/7f219334334743aeb966780fd9e0365b.jpeg', 7);
INSERT INTO `t_blog` VALUES (220, 'swagger', 'Swaggerç®€ä»‹', 'Swaggerç®€ä»‹\n\nå‰åç«¯åˆ†ç¦»\n\nVue + SpringBoot\n\n# Swagger\n\næœ€æµè¡Œçš„APIæ¡†æ¶\n\n\n\nåœ¨é¡¹ç›®ä¸­ä½¿ç”¨swaggeréœ€è¦springfoxï¼›\n\n* swagger2\n* ui\n\n\n\n# spirngbooté›†æˆswagger\n\n\n\n1ã€æ–°å»ºspringwebé¡¹ç›®\n\n2ã€å¯¼å…¥ä¾èµ–\n\n\n\n```xml\n<dependency>\n  <groupId>io.springfox</groupId>\n  <artifactId>springfox-swagger2</artifactId>\n  <version>3.0.0</version>\n</dependency>\n```\n\n\n\n```xml\n<dependency>\n  <groupId>io.springfox</groupId>\n  <artifactId>springfox-swagger-ui</artifactId>\n  <version>3.0.0</version>\n</dependency>\n```\n\n\n\n3ã€é…ç½®swagger\n\n```JAVA\n@Configuration\n@EnableSwagger2//å¼€å¯swagger2\npublic class SwaggerConfig {\n}\n```\n\næµ‹è¯•é¡µé¢\n\n**http://localhost:8080/swagger-ui.html**\n\n\n\nswaggerçš„beanå®ä¾‹ Docket\n\nSwaggerConfig\n\n```java\npackage com.xiaoliu.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.RequestHandler;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\nimport java.util.ArrayList;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/4/22 17:39\n * @description:\n */\n\n@Configuration\n@EnableSwagger2//å¼€å¯swagger2\npublic class SwaggerConfig {\n\n//    é…ç½®swaggerçš„Docket beanå®ä¾‹\n    @Bean\n    public Docket docket(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n    }\n\n//    é…ç½®swaggerä¿¡æ¯=apiinfo\n    private ApiInfo apiInfo(){\n        System.out.println(\"doswagger\");\n//        ä½œè€…ä¿¡æ¯\n        Contact contact = new Contact(\"xiaoliu\", \"https://dddwah11.github.io/\", \"1937589397@qq.com\");\n\n        return new ApiInfo(\n                \"APIInfo\",\n                \"swaggeré…ç½®\",\n                \"v1.0\",\n                \"https://dddwah11.github.io/\",\n                contact,\n                \"Apache 2.0\",\n                \"http://www.apache.org/licenses/LINCENSE-2.0\",\n                new ArrayList<>()\n        );\n    }\n}\n```\n\n\n\n# Swaggeré…ç½®æ‰«ææ¥å£\n\nDocket.select()\n\n```java\n				.enable(false);//\n				.select()\n//                RequestHandlerSelectorsé…ç½®éœ€è¦æ‰«ææ¥å£çš„æ–¹å¼\n//                basePackageæŒ‡å®šè¦æ‰«æçš„åŒ…\n//                any()æ‰«æå…¨éƒ¨\n//                none()éƒ½ä¸æ‰«æ\n//               withClassAnnotation;æ‰«æç±»ä¸Šçš„æ³¨è§£ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªæ³¨è§£çš„åå°„å¯¹è±¡\n//                withMethodAnnotation;æ‰«ææ–¹æ³•ä¸Šçš„æ³¨è§£\n                    .apis(RequestHandlerSelectors.basePackage(\"com.xiaoliu.helloController\"))\n//                path()è¿‡æ»¤è·¯å¾„\n\n                .build();\n```\n\n\n\né…ç½®æ˜¯å¦å¯åŠ¨swagger\n\n```java\n			.enable(false);//ä¸å¯åŠ¨swagger\n			.select()\n```\n\n\n\næˆ‘ä»¬å¸Œæœ›swaggeråœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œåœ¨å‘å¸ƒæ—¶ä¸ä½¿ç”¨\n\n* åˆ¤æ–­æ˜¯ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒ \n* æ³¨å…¥ enable()\n\n```java\n    @Bean\n    public Docket docket(Environment environment){\n//        è®¾ç½®è¦æ˜¾ç¤ºçš„flagç¯å¢ƒ\n        Profiles profiles =Profiles.of(\"dev\",\"test\");\n//        è·å–é¡¹ç›®ç¯å¢ƒ\n//        é€šè¿‡environment.acceptsProfilesåˆ¤æ–­æ˜¯å¦å¤„åœ¨è‡ªå·±è®¾å®šçš„ç¯å¢ƒ\n        boolean b = environment.acceptsProfiles(profiles);\n\n\n\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .enable(b)\n```\n\né…ç½®æ–‡ä»¶ä¸­è®¾ç½®ç”Ÿäº§å’Œå‘å¸ƒç¯å¢ƒ\n\nä¸»é…ç½®æ–‡ä»¶è®¾ç½®\n\n```xml\nspring.profiles.active=å½“å‰ç¯å¢ƒ\n```\n\n\n\n# swaggeré…ç½®APIæ–‡æ¡£åˆ†ç»„\n\n```java\n.apiInfo(apiInfo())\n.groupName(\"hello\")\n```\n\nå¦‚ä½•é…ç½®å¤šä¸ªåˆ†ç»„\n\n\n\n```java\n@Bean\npublic Docket docket1(){\n    return new Docket(DocumentationType.SWAGGER_2).groupName(\"A\");\n}\n```\n\n`@ApiModel()//æ–‡æ¡£æ³¨é‡Š`\n', 0, '2022-09-05 23:57:02', '2022-10-21 20:01:00', 0, 1, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/da643815927745dc895569fa5d86daad.jpg', 7);
INSERT INTO `t_blog` VALUES (221, 'ä»»åŠ¡', 'springboot', '#   å¼‚æ­¥ä»»åŠ¡\n\nåœ¨ä¸šåŠ¡éœ€è¦å¼‚æ­¥å¤„ç†çš„æ–¹æ³•åŠ å…¥æ³¨è§£ `@Async`\n\nåœ¨å¯åŠ¨ç±»åŠ å…¥ `@EnableAsync`\n\nåœ¨æ§åˆ¶å±‚åŠ å…¥åŠ å…¥ä¸šåŠ¡å³å¯\n\n\n\n# é‚®ä»¶ä»»åŠ¡\n\nè¿™é‡Œç”¨qqé‚®ä»¶\n\né…ç½®æ–‡ä»¶\n\n```properties\n#å¼€å¯åŠ å¯†éªŒè¯\nspring.mail.properties.mail.smtp.ssl.enable=true\n\nspring.mail.username=1937589397@qq.com\nspring.mail.password=ixxxxxxxxxxb\nspring.mail.host=smtp.qq.com\n```\n\n\n\n```java\n@Autowired\n    JavaMailSender mailSender;\n\n    @Test\n    void contextLoads() {\n//        å‘é€é‚®ä»¶\n//        å‘ä»¶äºº\n//        å†…å®¹\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setSubject(\"å°åˆ˜\");\n        message.setText(\"hello\");\n\n        message.setFrom(\"1937589397@qq.com\");\n        message.setTo(\"1937589397@qq.com\");\n\n        mailSender.send(message);\n\n    }\n```\n\nå¤æ‚é‚®ä»¶\n\n\n\n```java\n MimeMessage mimeMessage = mailSender.createMimeMessage();\n//        ç»„è£…\n        MimeMessageHelper helper = new MimeMessageHelper(mimeMessage,true);\n\n        helper.setSubject(subject);\n        helper.setText(text,true);\n\n//        é™„ä»¶\n        helper.addAttachment(\"1.jpg\",new File(\"D:\\\\å£çº¸\\\\5b8b4cf6143640c98cd46cd77d26f292.jpg\"));\n\n        helper.setTo(\"1937589397@qq.com\");\n        helper.setFrom(\"1937589397@qq.com\");\n\n        mailSender.send(mimeMessage);\n```\n\n\n\n# å®šæ—¶æ‰§è¡Œä»»åŠ¡\n\n\n\n```java\nTaskeScheduler ä»»åŠ¡è°ƒåº¦è€…\n\nTaskExecutor è®¤ä¸ºæ‰§è¡Œè€…\n\n@EnableScuedulingå¼€å¯å®šæ—¶åŠŸèƒ½çš„æ³¨è§£åœ¨å¯åŠ¨ç±»\n@Scheduled ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ\n    \nCronè¡¨è¾¾å¼\n```\n\n```java\n@Service\npublic class ScheduleService {\n\n//    cronè¡¨è¾¾\n//    ç§’ åˆ† æ—¶ æ—¥ æœˆ å‘¨å‡ \n//    ä¸‹é¢è¡¨è¾¾å¼è¡¨ç¤ºæ˜¯ æ¯ä¸€å‘¨çš„æ¯0ç§’æ‰§è¡Œ\n//@Scheduled(cron = \"0 * * * * 0-7\")\n//    ä¸‹é¢è¡¨è¾¾çš„æ˜¯ æ¯ä¸€å¤©å¤©çš„16æ—¶ 44åˆ† æ‰§è¡Œ\n    @Scheduled(cron = \"1 48 16 * * ?\")\n//    30 0/5 10 18, * ? æ¯å¤© 10ç‚¹å’Œ18ç‚¹ æ¯éš”äº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡\n    public void hello(){\n        System.out.println(\"æ‚¨è¢«æ‰§è¡Œäº†\");\n    }\n}\n```', 0, '2022-09-05 23:58:14', '2022-10-21 20:01:00', 0, 125, 1, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/791d859103b441eabef0efde6019845f.jpg', 7);
INSERT INTO `t_blog` VALUES (222, 'åˆ†å¸ƒå¼-Dubbo-Zookeeper', 'åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º', '# å®‰è£…zookeeper\n\nhttps://archive.apache.org/dist/zookeeper/zookeeper-3.7.0/\n\nä¸‹è½½ç¼–è¯‘åäºŒè¿›åˆ¶çš„åŒ…\n\nè¿è¡Œbinç›®å½•ä¸‹çš„zkServer.cmd windowsä¸‹\n\né—ªé€€è§£å†³ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ åŠ ä¸ªæš‚åœ(pause)æŸ¥çœ‹é”™è¯¯çš„åŸå› \n\nåŸå› æ˜¯confç›®å½•ä¸‹æ²¡æœ‰ zoo.cfg å¤åˆ¶sampleè¿›è¡Œæ·»åŠ \n\n\n\nè¿æ¥æœåŠ¡zkServer.cmd\n\nè¿æ¥å®¢æˆ·ç«¯zkCli.cmd\n\n\n\nåœ¨é¡¹ç›®ä¸­æ‰“åŒ…dubbo-admin\n\n`mvn clean package -Dmaven.test.skip=true`\n\nadminçš„åœ°å€ä¸º7001\n\né»˜è®¤è´¦å·å¯†ç éƒ½æ˜¯ root\n\n\n\ndubbo-adminæ˜¯ä¸€ä¸ªç›‘æ§ç®¡ç†åå°ï¼ŒæŸ¥çœ‹æˆ‘ä»¬å“ªäº›æœåŠ¡æ³¨å†Œï¼Œè¢«æ¶ˆè´¹\n\nzookeeperæ˜¯ æ³¨å†Œä¸­å¿ƒ\n\n\n\n\n\nå¯¼å…¥ä¾èµ–\n\n```xml\n<dependency>\n  <groupId>com.github.sgroschupf</groupId>\n  <artifactId>zkclient</artifactId>\n  <version>0.1</version>\n</dependency>\n```\n\n\n\n```xml\n<dependency>\n  <groupId>org.apache.dubbo</groupId>\n  <artifactId>dubbo-spring-boot-starter</artifactId>\n  <version>2.7.3</version>\n</dependency>\n```\n\næ—¥å¿—å†²çª\n\n```\n<dependency>\n    <groupId>org.apache.dubbo</groupId>\n    <artifactId>dubbo-spring-boot-starter</artifactId>\n    <version>2.7.3</version>\n\n    <exclusions>\n        <exclusion>\n            <groupId>org.slf4j</groupId>\n            <artifactId>slf4j-log4j12</artifactId>\n        </exclusion>\n    </exclusions>\n</dependency>\n```\n\né…ç½®æ–‡ä»¶\n\n```properties\n#æœåŠ¡åº”ç”¨åå­—\ndubbo.application.name=provider\n#æ³¨å†Œä¸­å¿ƒåœ°å€\ndubbo.registry.address=zookeeper://127.0.1:2181\n#å“ªäº›æœåŠ¡éœ€è¦è¢«æ³¨å†Œ\ndubbo.scan.base-packages=com.xiaoliu.service\n```\n\n\n\næ¥ä¸‹æ¥å†å¯¼å…¥ä¾èµ–\n\n```xml\n<dependency>\n  <groupId>org.apache.curator</groupId>\n  <artifactId>curator-recipes</artifactId>\n  <version>2.12.0</version>\n</dependency>\n```\n\n\n\n```xml\n<dependency>\n  <groupId>org.apache.zookeeper</groupId>\n  <artifactId>zookeeper</artifactId>\n  <version>3.4.14</version>\n  <type>pom</type>\n</dependency>\n```\n\nè¿™ä¸ªéœ€è¦æ’é™¤sl4jçš„ä¾èµ–\n\n\n\n```properties\n#æ¶ˆè´¹è€…éœ€è¦å»å“ªæ‹¿æœåŠ¡éœ€è¦æš´éœ²åå­—\n\ndubbo.application.name=provider\n\n#å»æ³¨å†Œä¸­å¿ƒ\n\ndubbo.registry.address=zookeeper://127.0.1:2181\n```\n\n\n\næ¶ˆè´¹è€…ä¸šåŠ¡æ¥å£\n\n```java\næ¶ˆè´¹è€…ç”Ÿäº§è€…æ¥å£éƒ½å¿…é¡»ç›¸åŒ\n    @Service\npublic class Service{\n    @Reference//å¼•ç”¨ï¼ŒPomåæ ‡ï¼Œå¯ä»¥å®šä¹‰è·¯å¾„ç›¸åŒçš„æ¥å£åï¼Œè¿œç¨‹å¼•ç”¨\n    TicketService ticketService;\n    \n    public void buyTicket(){\n        String ticket = ticketService.getTicket();\n        System.out.println(\"æ‹¿åˆ°ç¥¨\"+ticket);\n    }\n}\n\n```\n\n\n\n1ã€æä¾›è€…æä¾›æœåŠ¡\n\nâ€‹	1.å¯¼å…¥ä¾èµ–\n\nâ€‹	2.é…ç½®æ³¨å†Œä¸­å¿ƒåœ°å€ï¼Œä»¥åŠæœåŠ¡å‘ç°åï¼Œå’Œè¦æ‰«æçš„åŒ…\n\nâ€‹	3.åœ¨æƒ³è¦è¢«æ³¨å†Œçš„æœåŠ¡ä¸Šé¢ å¢åŠ ä¸€ä¸ªæ³¨è§£ @Service\n\n2ã€æ¶ˆè´¹è€…å¦‚ä½•æ¶ˆè´¹\n\nâ€‹	1.å¯¼å…¥ä¾èµ–\n\nâ€‹	2.é…ç½®æ³¨å†Œä¸­å¿ƒåœ°å€ï¼Œé…ç½®è‡ªå·±çš„æœåŠ¡å\n\nâ€‹	3.ä»è¿œç¨‹æ³¨å…¥æœåŠ¡ @Reference\n', 0, '2022-09-05 23:59:08', '2022-10-21 20:01:00', 0, 1, 2, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/b2dbd1ad509842c7a51f30a94c0fbddb.jpg', 7);
INSERT INTO `t_blog` VALUES (223, 'Vue', 'vueåˆå­¦', 'ç½‘ç»œé€šä¿¡: axios\n\nç½‘é¡µè·³è½¬ï¼švue_router\n\nçŠ¶æ€ç®¡ç†ï¼švuex\n\nVue-UI: ICE ElementUIã€\n\nUIæ¡†æ¶ï¼šiview Ant-Designã€Bootstrap AmazeUIã€layuiã€**vue-element-admin**\n\nJavaScriptæ„å»ºå·¥å…·ï¼š **WebPack**:æ‰“åŒ…ã€å‹ç¼©ã€åˆå¹¶ã€æŒ‰åºåŠ è½½\n\n\n\n# MVVMæ¨¡å‹\n\n* view\n* model\n* view model\n\n\n\n# æ¡ä»¶åˆ¤æ–­\n\n```html\n<div id=\"app\">\n<li v-for=\"item in items\">\n    {{item.message}}\n</li>\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js\"></script>\n<script>\n    var vm = new Vue({\n        el:\"#app\",\n        data: {\n            items: [\n    {message: \'xiaoliu\'},\n    {message: \'xiaoliuu\'}\n            ]\n        }\n    });\n</script>\n</body>\n```\n\n\n\n# é¼ æ ‡æ‚¬åœ\n\n```html\n<div id=\"app\">\n    <span v-bind:title=\"message\">\n        é¼ æ ‡æ‚¬åœå‡ ç§’æŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºæ¶ˆæ¯!\n</span>\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js\"></script>\n<script>\n    var vm = new Vue({\n        el:\"#app\",\n        data:{\n            message:\"hello,vue\"\n        }\n\n    });\n</script>\n```\n\n\n\n#  äº‹ä»¶\n\n```html\n<div id=\"app\">\n    <button v-on:click=\"sayHi\">ç‚¹æˆ‘</button>\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js\"></script>\n<script>\n    var vm = new Vue({\n        el:\"#app\",\n        data: {},\n        methods: { //æ–¹æ³•å¿…é¡»å®šä¹‰åœ¨methodsæ–¹æ³•å¯¹è±¡ä¸­\n            sayHi: function () {\n                alert(this.message)\n            }\n        }\n    });\n</script>\n```\n\n\n\n# Vue7å¤§å±æ€§\n\n**1.elå±æ€§**\n\nç”¨æ¥æŒ‡ç¤ºvueç¼–è¯‘å™¨ä»ä»€ä¹ˆåœ°æ–¹å¼€å§‹è§£æ vueçš„è¯­æ³•ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚\nç›¸å½“äºä¸€ä¸ªå®¹å™¨ï¼Œè·Ÿä¸Šé¢çš„div id = \"app\"åšå…³è”ï¼Œä»æ­¤ä»¥åä¸Šé¢div id = \"app\"é‡Œé¢çš„å†…å®¹è¦é€šè¿‡vueæ¥æ¸²æŸ“,éƒ½è¦ç»è¿‡vueå¤„ç†æ‰èƒ½çœ‹å¾—åˆ°ä¸Šé¢divé‡Œé¢çš„å†…å®¹\n\n**2.dataå±æ€§**\nç”¨æ¥ç»„ç»‡ä»viewä¸­æŠ½è±¡å‡ºæ¥çš„å±æ€§ï¼Œå¯ä»¥è¯´å°†è§†å›¾çš„æ•°æ®æŠ½è±¡å‡ºæ¥å­˜æ”¾åœ¨dataä¸­ã€‚\nè·Ÿå¾®ä¿¡å°ç¨‹åºä¸€æ ·ï¼Œæ‰€æœ‰çš„å˜é‡éƒ½è¦å†™åœ¨dataé‡Œé¢\n\n**3.templateå±æ€§**\nç”¨æ¥è®¾ç½®æ¨¡æ¿ï¼Œä¼šæ›¿æ¢é¡µé¢å…ƒç´ ï¼ŒåŒ…æ‹¬å ä½ç¬¦ã€‚\nVue.componentï¼ˆï¼‰ç»„ä»¶ä¸­ä¼šç”¨åˆ°ï¼Œå…¶å®å¾ˆå¤šåœ°æ–¹éƒ½ä¼šç”¨åˆ°\n\n**4.methodså±æ€§**\næ”¾ç½®é¡µé¢ä¸­çš„ä¸šåŠ¡é€»è¾‘ï¼Œjsæ–¹æ³•ä¸€èˆ¬éƒ½æ”¾ç½®åœ¨methodsä¸­ï¼Œç”¨æ¥å†™æ–¹æ³•ï¼Œå‡½æ•°çš„\ncomputedåé¢ä¼šä»‹ç»\ncomputedå’Œmethodsæ˜¯æœ‰åŒºåˆ«çš„ï¼šcomputedæ˜¯åœ¨å€¼å‘ç”Ÿæ”¹å˜çš„æ—¶å€™æ‰ä¼šè§¦å‘æ•ˆæœï¼Œè€Œmethodsåªè¦åˆ·æ–°æ‰§è¡Œäº†å°±ä¼šè§¦å‘ï¼Œæ‰€æœ‰å¹³æ—¶å†™VUEçš„æ—¶å€™ï¼Œèƒ½ç”¨computedçš„å°½é‡ä½¿ç”¨\n\n**5.renderå±æ€§**\nåˆ›å»ºçœŸæ­£çš„Virtual Dom\n\n**6.computedå±æ€§**\nç”¨æ¥è®¡ç®—\næ ¹æ®å·²ç»å­˜åœ¨çš„å±æ€§è®¡ç®—å‡ºæ–°çš„å±æ€§ï¼Œå¯¹äºåŒæ ·çš„æ•°æ®ï¼Œä¼šç¼“å­˜ã€‚å½“å…¶ä¾èµ–å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–æ˜¯ï¼Œè¿™ä¸ªå±æ€§çš„å€¼ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¸ä¹‹ç›¸å…³çš„DOMéƒ¨ä»½ä¹Ÿä¼šåŒæ­¥è‡ªåŠ¨æ›´æ–°ã€‚å…¶å®ä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä¹Ÿä¼šæŠŠä¸€äº›å…³äºé€»è¾‘çš„ä»£ç éƒ½å†™åœ¨computedä¸­ã€‚\n\n**7.watchä¾¦å¬å±æ€§**\nwatch:function(new,old){}\nç›‘å¬dataä¸­æ•°æ®çš„å˜åŒ–\nä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªè¿”å›æ–°å€¼ï¼Œä¸€ä¸ªè¿”å›æ—§å€¼\nå½“ä½ æœ‰ä¸€äº›æ•°æ®éœ€è¦éšç€å…¶å®ƒæ•°æ®å˜åŠ¨è€Œå˜åŠ¨æ—¶æˆ–è€…æ‰§è¡Œå¼‚æ­¥æ“ä½œæˆ–å¼€é”€è¾ƒå¤§æ“ä½œæ—¶ï¼Œå»ºè®®ä½¿ç”¨watch\ncomputedå’Œwatchæ˜¯æœ‰åŒºåˆ«çš„ï¼š\nwatch: ç›‘è§†,èƒ½å¤Ÿç›‘å¬åˆ°æ•°æ®çš„å˜åŒ–,åªè¦æ•°æ®å˜åŒ–çš„æ—¶å€™,éƒ½ä¼šè‡ªå®šæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•,å…¶ä¸­å¯ä»¥æ£€æµ‹çš„æ•°æ®æ¥æºåˆ†ä¸ºä¸‰éƒ¨åˆ† data , computed , props computed: è®¡ç®—å±æ€§,å­˜åœ¨ä¸€ä¸ªè®¡ç®—ç¼“å­˜çš„ç‰¹æ€§,æ¯ä¸€æ¬¡è®¡ç®—ä¹‹å,åªè¦é‡Œé¢çš„é€»è¾‘ä¸å‘ç”Ÿå˜åŒ–,æ¯ä¸€æ¬¡é‡å¤è°ƒç”¨,éƒ½ä¼šä½¿ç”¨ä¸Šä¸€æ¬¡æ‰§è¡Œçš„ç»“æœ,èƒ½å¤ŸèŠ‚çœè®¡ç®—çš„æ—¶é—´\n\n\n\nåœ¨è¡¨å•å®ç°æ•°æ®çš„åŒå‘ç»‘å®š\n\n```html\n<div id=\"app\">\n    <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" v-model=\"message\"></textarea>\n    {{message}}\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js\"></script>\n<script>\n    var vm = new Vue({\n        el:\"#app\",\n        data: {\n            message:\'\'\n        },\n    });\n</script>\n```\n\n\n\n**åŒæ­¥è¾“å…¥æ¡†**\n\n```html\n<div id=\"app\">\n    æ€§åˆ«ï¼š\n    <input type=\"radio\"  name=\"sex\" value=\"ç”·\" v-model=\"message\"> ç”·\n    <input type=\"radio\" name=\"sex\" value=\"å¥³\" v-model=\"message\"> å¥³\n    <p>é€‰ä¸­äº†ï¼š{{message}}</p>\n</div>\n\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js\"></script>\n<script>\n    var vm = new Vue({\n        el:\"#app\",\n        data: {\n            message:\'\'\n        },\n    });\n</script>\n```\n\n\n\n# ç»„ä»¶\n\nè‡ªå®šä¹‰ç»„ä»¶è·å–å€¼ï¼š\n\n```html\n<div id=\"app\">\n<xiaoliu v-for=\"item in items\" v-bind:item=\"item\"></xiaoliu>\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js\"></script>\n<script>\n    Vue.component(\"xiaoliu\",{\n        props: [\'item\'],\n        template: \'<h1>{{item}}</h1>\' //æ¨¡æ¿\n    })\n    var vm = new Vue({\n        el:\"#app\",\n        data: {\n            message:\'\',\n            items: [\"xiaoliu\",\"xiaoliuu\",\"xiaoliuuu\"]\n        },\n    });\n</script>\n```\n\n\n\n# Axioså¼‚æ­¥é€šä¿¡\n\njsonæ•°æ®ï¼š\n\n```json\n{\n  \"name\":\"ç‹‚ç¥è¯´java\",\n  \"url\": \"http://baidu.com\",\n  \"page\": \"1\",\n  \"isNonProfit\":\"true\",\n  \"address\": {\n    \"street\": \"å«å…‰é—¨\",\n    \"city\":\"é™•è¥¿è¥¿å®‰\",\n    \"country\": \"ä¸­å›½\"\n  },\n  \"links\": [\n    {\n      \"name\": \"Bç«™\",\n      \"url\": \"https://www.bilibili.com/\"\n    },\n    {\n      \"name\": \"4399\",\n      \"url\": \"https://www.4399.com/\"\n    },\n    {\n      \"name\": \"ç™¾åº¦\",\n      \"url\": \"https://www.baidu.com/\"\n    }\n  ]\n\n```\n\n\n\n```html\n<!--å¯¼å…¥JSæ–‡ä»¶-->\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js\"></script>\n<script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\n<script type=\"text/javascript\"></script>\n```\n\n\n\n```html\n<div id=\"vue\"></div>\n<!--å¯¼å…¥JSæ–‡ä»¶-->\n<script src=\"https://cdn.jsdelivr.net/nmp/vue@2.5.21/dist/vue.js\"></script>\n<script src=\"https://unpkg.com/axios/dist/axios.min .js\"></script>\n<script type=\"text/javascript\">\n    var vm = new Vue({\n        el: \"#vue\",\n        data(){\n            return{\n                info:{\n                    name:null,\n                    address:{\n                        street:null,\n                        city: null,\n                        country: null\n                    }\n                }\n            }\n        },\n        mounted(){//é’©å­å‡½æ•°ï¼Œé“¾å¼ç¼–ç¨‹\n            axios.get(\'data.json\').then(response=>(this.info=response.data));\n        }\n    });\n</script>\n```\n\n\n\n**è§£å†³æ•°æ®é—ªçƒé—®é¢˜**\n\n```html\n<style>\n    [v-clock]{\n        display: none;\n    }\n</style>\n```\n\nåœ¨headæ ‡ç­¾å†…ï¼Œæ²¡åŠ è½½æ•°æ®æ—¶ç™½å±\n\n\n\n# è®¡ç®—å±æ€§\n\n```vue\ncomputed:{//è®¡ç®—å±æ€§ methods computedä¸­èƒ½é‡åï¼Œä¼˜å…ˆè°ƒç”¨æ–¹æ³•\n    currentTime1: function () {\n        return Date.now();\n    }\n}\n```\n\nè¿”å›çš„æ˜¯å±æ€§\n\n\n\n# slotï¼ˆæ’æ§½ï¼‰\n\n```html\n<div id=\"vue\">\n    <todo>\n        <todo-title slot=\"todo-title\" :title=\"title\"></todo-title>\n        <todo-item slot=\"todo-item\" v-for=\"items in item\" :item=\"items\"></todo-item>\n    </todo>\n</div>\n<!--å¯¼å…¥JSæ–‡ä»¶-->\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js\"></script>\n<script type=\"text/javascript\">\n    Vue.component(\"todo\",{\n        template:\n            \'<div>\' +\n            \'<slot name=\"todo-title\"></slot>\' +\n             \'<ul>\' +\n            \'<slot name=\"todo-item\"></slot>\' +\n            \'</ul>>\'               +\n                \'</div>\'\n    });\n    Vue.component(\"todo-title\",{\n        props: [\'title\'],\n        template: \'<div>{{title}}</div>\'\n    });\n    Vue.component(\"todo-item\",{\n        props: [\'item\'],\n        template: \'<div>{{item}} <button @click=\"remove\">åˆ é™¤</button> </div>\',\n        methods: {\n            remove: function () {\n                alert(\"åˆ é™¤æˆåŠŸ\")\n            }\n        }\n    });\n    var vm = new Vue({\n        el: \"#vue\",\n        data: {\n            title: \"xiaoliu\",\n            todo: [\'æ•ˆç‡\',\'å°åˆ˜\'],\n            item: [\'wo\',\'we\']\n        }\n    });\n</script>\n```\n\n\n\n\n\n# è‡ªå®šä¹‰äº‹ä»¶\n\nåˆ é™¤æ“ä½œè¦åœ¨ç»„ä»¶ä¸­å®Œæˆï¼Œæ¶‰åŠå‚æ•°ä¼ é€’ä¸äº‹ä»¶åˆ†å‘ï¼Œå¯ä»¥ä½¿ç”¨this.$emit( \' è‡ªå®šä¹‰äº‹ä»¶å \' , å‚æ•°)\n\n![image-20220426181505853](image-20220426181505853.png)\n\n```html\n<div id=\"vue\">\n    <todo>\n        <todo-title slot=\"todo-title\" :title=\"title\"></todo-title>\n        <todo-item slot=\"todo-item\" v-for=\"(items,index) in item\"\n                   :item=\"items\" v-bind:index=\"index\" v-on:remove=\"removeItem(index)\" :key=\"index\"></todo-item>\n    </todo>\n</div>\n<!--å¯¼å…¥JSæ–‡ä»¶-->\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js\"></script>\n<script type=\"text/javascript\">\n    Vue.component(\"todo\",{\n        template:\n            \'<div>\' +\n            \'<slot name=\"todo-title\"></slot>\' +\n             \'<ul>\' +\n            \'<slot name=\"todo-item\"></slot>\' +\n            \'</ul>>\'               +\n                \'</div>\'\n    });\n    Vue.component(\"todo-title\",{\n        props: [\'title\'],\n        template: \'<div>{{title}}</div>\'\n    });\n    Vue.component(\"todo-item\",{\n        props: [\'item\',\'index\'],\n        template: \'<div>{{index}}----{{item}} <button @click=\"remove\">åˆ é™¤</button> </div>\',\n        methods: {\n            remove: function (index) {\n                this.$emit(\'remove\',index);\n            }\n        }\n    });\n    var vm = new Vue({\n        el: \"#vue\",\n        data: {\n            title: \"xiaoliu\",\n            todo: [\'æ•ˆç‡\',\'å°åˆ˜\'],\n            item: [\'wo\',\'we\']\n        },\n        methods: {\n            removeItem: function (index) {\n                console.log(\"shanchu\"+this.item[index]+\"ok\");\n                this.item.splice(index,1);\n            }\n        }\n    });\n</script>\n```', 0, '2022-09-05 23:59:51', '2022-10-21 20:01:00', 0, 119, 8, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/7f16673157f44ee295bf41ba4713c960.jpg', 7);
INSERT INTO `t_blog` VALUES (224, 'å¤§äºŒä¸‹javawebé¡¹ç›®', 'åˆå­¦é¡¹ç›®', '# 1ã€é…ç½®\n\n## 1.1ã€ç›¸å…³ä¾èµ–\n\nçˆ¶é¡¹ç›®pom.xmlä¸­çš„ç‰ˆæœ¬æ§åˆ¶\n\n```xml\n    <properties>\n<!--        mybatis-plus-->\n        <mp.version>3.5.0</mp.version>\n<!--        mybatis-plus-generator-->\n        <mpg.version>3.4.0</mpg.version>\n<!--        swagger-->\n        <swagger.version>2.9.2</swagger.version>\n<!--        velocityæ¨¡æ¿å¼•æ“-->\n        <velocity.version>2.3</velocity.version>\n<!--        mysql-->\n        <mysql-java.version>8.0.28</mysql-java.version>\n<!--        lombok-->\n        <lombok.version>1.18.22</lombok.version>\n<!--        knife4jå¢å¼ºæ–‡æœ¬-->\n        <knife4j.version>2.0.7</knife4j.version>\n            </properties>\n```\n\n**ä¾èµ–**\n\n```xml\n<!--            mybatis-plus-->\n            <dependency>\n                <groupId>com.baomidou</groupId>\n                <artifactId>mybatis-plus-boot-starter</artifactId>\n                <version>${mp.version}</version>\n            </dependency>\n\n<!--            swagger ui-->\n            <dependency>\n                <groupId>io.springfox</groupId>\n                <artifactId>springfox-swagger-ui</artifactId>\n                <version>${swagger.version}</version>\n            </dependency>\n\n<!--            swagger2-->\n            <dependency>\n                <groupId>io.springfox</groupId>\n                <artifactId>springfox-swagger2</artifactId>\n                <version>${swagger.version}</version>\n            </dependency>\n\n<!--            mysqlæ•°æ®åº“-->\n            <dependency>\n                <groupId>mysql</groupId>\n                <artifactId>mysql-connector-java</artifactId>\n                <version>${mysql-java.version}</version>\n            </dependency>\n\n<!--            mybatis-plusæ¨¡æ¿å¼•æ“-->\n            <dependency>\n                <groupId>org.apache.velocity</groupId>\n                <artifactId>velocity-engine-core</artifactId>\n                <version>${velocity.version}</version>\n            </dependency>\n<!--            ä»£ç è‡ªåŠ¨ç”Ÿæˆ-->\n            <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-generator</artifactId>\n            <version>${mpg.version}</version>\n            </dependency>\n\n<!--            lombok-->\n            <dependency>\n                <groupId>org.projectlombok</groupId>\n                <artifactId>lombok</artifactId>\n                <version>${lombok.version}</version>\n            </dependency>\n\n<!--            knife4j-->\n            <dependency>\n                <groupId>com.github.xiaoymin</groupId>\n                <artifactId>knife4j-spring-bootstarter</artifactId>\n                <version>${knife4j.version}</version>\n            </dependency>\n```\n\n## 1.2ã€åˆ›å»ºä¸¤ä¸ªå­mavené¡¹ç›®\n\n### webï¼ˆspringbooté¡¹ç›®ï¼‰\n\n* **ä¾èµ–äºcommonsé¡¹ç›®**\n\n```xml\n<dependencies>\n    <dependency>\n        <groupId>com.xiaoliu</groupId>\n        <artifactId>helovue-base-common</artifactId>\n        <version>0.0.1-SNAPSHOT</version>\n    </dependency>\n</dependencies>\n```\n\n* **é…ç½®æ–‡ä»¶**\n\n```yaml\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/xinguan?useUnicode=true&serveTimezone=UTC&useSSL=false&characterEncoding=utf8\n    username: root\n    password: 123456\n  jackson:\n      date-format: yyyy-MM-dd HH:mm:ss\n      time-zone: GMT+8\n\n\n\n\nserver:\n  port: 8081\nmybatis-plus:\n  configuration:\n    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl\n  global-config:\n    db-config:\n      logic-delete-field: deleted # å…¨å±€é€»è¾‘åˆ é™¤çš„å®ä½“å­—æ®µå(since 3.3.0,é…ç½®åå¯ä»¥å¿½ç•¥ä¸é…ç½®æ­¥éª¤2)\n      logic-delete-value: 1 # é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º 1)\n      logic-not-delete-value: 0 # é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º 0)\n  mapper-locations: classpath*:/mapper/*.xml\n```\n\nå¯åŠ¨ç±»ï¼š\n\n```java\n@SpringBootApplication\n@MapperScan(\"com.xiaoliu.system.mapper\")\n@EnableSwagger2\npublic class xitongApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(xitongApplication.class,args);\n    }\n}\n```\n\n\n\n### base-common(è®¾ç½®é…ç½®ç­‰ç»Ÿä¸€å¤„ç†)\n\nä¾èµ–äºçˆ¶é¡¹ç›®\n\n```xml\n<dependencies>\n        <dependency>\n            <!--            controllerå±‚-->\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        <!--        æ•°æ®è®¿é—®å±‚-->\n        <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-boot-starter</artifactId>\n        </dependency>\n\n        <!--        mybatisè‡ªåŠ¨ä»£ç ç”Ÿæˆ-->\n        <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-generator</artifactId>\n        </dependency>\n\n        <!--        mybatis-plusæ¨¡æ¿å¼•æ“-->\n        <dependency>\n            <groupId>org.apache.velocity</groupId>\n            <artifactId>velocity-engine-core</artifactId>\n        </dependency>\n\n        <!--        javaè¿æ¥mysql-->\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n        </dependency>\n\n        <!--        swagger2-->\n        <dependency>\n            <groupId>io.springfox</groupId>\n            <artifactId>springfox-swagger2</artifactId>\n        </dependency>\n\n        <!--        swaggerui-->\n        <dependency>\n            <groupId>io.springfox</groupId>\n            <artifactId>springfox-swagger-ui</artifactId>\n        </dependency>\n\n        <!--        lombok-->\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n        </dependency>\n\n<!--        knife4j-->\n        <dependency>\n            <groupId>com.github.xiaoymin</groupId>\n            <artifactId>knife4j-spring-boot-starter</artifactId>\n        </dependency>\n    </dependencies>\n```\n\n# 2ã€è‡ªåŠ¨ç”Ÿæˆä»£ç \n\n## 2.1ã€éœ€è¦ä¾èµ–ï¼ˆé…ç½®æ—¶å·²å¯¼å…¥ï¼‰\n\nmybatis-plus(æŒä¹…å±‚æ¡†æ¶)ã€velocity(mybatis-plusæ¨¡æ¿å¼•æ“)ã€mybatis-plus-generator(ä»£ç è‡ªåŠ¨ç”Ÿæˆ)\n\n**CodeGenerator.java**\n\n```java\npublic class CodeGenerator {\n\n    /**\n     * <p>\n     * è¯»å–æ§åˆ¶å°å†…å®¹\n     * </p>\n     */\n    public static String scanner(String tip) {\n        Scanner scanner = new Scanner(System.in);\n        StringBuilder help = new StringBuilder();\n        help.append(\"è¯·è¾“å…¥\" + tip + \"ï¼š\");\n        System.out.println(help.toString());\n        if (scanner.hasNext()) {\n            String ipt = scanner.next();\n            if (StringUtils.isNotBlank(ipt)) {\n                return ipt;\n            }\n        }\n        throw new MybatisPlusException(\"æ­£ç¡®çš„\" + tip + \"ï¼\");\n    }\n\n    public static void main(String[] args) {\n        // åˆ›å»ºä»£ç ç”Ÿæˆå™¨å¯¹è±¡\n        AutoGenerator mpg = new AutoGenerator();\n\n        // å…¨å±€é…ç½®\n        GlobalConfig gc = new GlobalConfig();\n        gc.setOutputDir(scanner(\"ä½ çš„é¡¹ç›®è·¯å¾„\") + \"/src/main/java\");\n        gc.setAuthor(\"xiaoliu\");\n//        ç”Ÿæˆä¹‹åæ˜¯å¦æ‰“å¼€èµ„æºç®¡ç†å™¨\n        gc.setOpen(false);\n//        æ˜¯å¦è¦†ç›–æ–‡ä»¶\n        gc.setFileOverride(false);\n//        %så ä½ç¬¦\n//        mpç”Ÿæˆserviceå±‚ä»£ç ï¼Œé»˜è®¤çš„æ¥å£åç§°ç¬¬ä¸€å¼ å­—æ¯æ˜¯æœ‰I\n        gc.setServiceName(\"%sService\");\n//        è®¾ç½®ä¸»é”®ç”Ÿæˆç­–ç•¥ è‡ªåŠ¨å¢é•¿\n        gc.setIdType(IdType.AUTO);\n//        è®¾ç½®dateçš„ç±»å‹ é»˜è®¤åªä½¿ç”¨ java.util.date ä»£æ›¿\n        gc.setDateType(DateType.ONLY_DATE);\n        //å¼€å¯å®ä½“å±æ€§ Swagger2 æ³¨è§£\n         gc.setSwagger2(true);\n        mpg.setGlobalConfig(gc);\n\n        // æ•°æ®æºé…ç½®\n        DataSourceConfig dsc = new DataSourceConfig();\n        dsc.setUrl(\"jdbc:mysql://localhost:3306/xinguan?useUnicode=true&serveTimezone=UTC&useSSL=false&characterEncoding=utf8\");\n        dsc.setDriverName(\"com.mysql.cj.jdbc.Driver\");\n        dsc.setUsername(\"root\");\n        dsc.setPassword(\"123456\");\n//        è®¾ç½®æ•°æ®åº“ç±»å‹\n        dsc.setDbType(DbType.MYSQL);\n        mpg.setDataSource(dsc);\n\n        // åŒ…é…ç½®\n        PackageConfig pc = new PackageConfig();\n        pc.setModuleName(scanner(\"æ¨¡å—å\"));\n        pc.setParent(\"com.xiaoliu\");\n        //        è®¾ç½®åŒ…\n        pc.setController(\"controller\");\n        pc.setService(\"service\");\n        pc.setServiceImpl(\"service.impl\");\n        pc.setMapper(\"mapper\");\n        pc.setEntity(\"pojo\");\n        pc.setXml(\"mapper\");\n        mpg.setPackageInfo(pc);\n\n\n\n\n        // ç­–ç•¥é…ç½®\n        StrategyConfig strategy = new StrategyConfig();\n//è®¾ç½®å“ªäº›è¡¨éœ€è¦è‡ªåŠ¨ç”Ÿæˆ\n        strategy.setInclude(scanner(\"è¡¨åï¼Œå¤šä¸ªè‹±æ–‡é€—å·åˆ†å‰²\").split(\",\"));\n//å®ä½“ç±»åç§°é©¼å³°å‘½å\n        strategy.setNaming(NamingStrategy.underline_to_camel);\n//        åˆ—åé©¼å³°å‘½å\n        strategy.setColumnNaming(NamingStrategy.underline_to_camel);\n//        ä½¿ç”¨lombokæ¨¡å‹\n        strategy.setEntityLombokModel(true);\n//        ä½¿ç”¨restfulé£æ ¼è®¾ç½®api\n        strategy.setRestControllerStyle(true);\n\n//é©¼å³°è½¬è¿å­—ç¬¦\n        strategy.setControllerMappingHyphenStyle(true);\n//        strategy.getFieldPrefix(\"å‰ç¼€\"); å¯å¿½ç•¥è¡¨ä¸­çš„å‰ç¼€\n        mpg.setStrategy(strategy);\n        mpg.execute();\n    }\n\n}\n```\n\n# 3ã€ç»Ÿä¸€è¿”å›ç»“æœ\n\nåœ¨commoné¡¹ç›®çš„responseç›®å½•ä¸‹\n\n**æ¥å£**\n\n**CustomizeResultCode**\n\n```java\npackage com.xiaoliu.response;\n\n/**\n * @author: 61åˆ†\n * @date: 2022/5/7 12:52\n * @description:\n */\npublic interface CustomizeResultCode {\n    /**\n     * è¿”å›é”™è¯¯ç \n     * @return\n     */\n    Integer getCode();\n\n    /**\n     * è¿”å›é”™è¯¯ä¿¡æ¯\n     * @return\n     */\n    String  getMessage();\n}\n```\n\n\n\n**æšä¸¾ç±»**ï¼ˆä¿æŠ¤å±æ€§ï¼‰\n\n**ResultCode**\n\n```java\npublic enum ResultCode implements CustomizeResultCode{\n    /**\n     * 20000ï¼ŒæˆåŠŸ\n     */\n    SUCCESS(20000,\"æˆåŠŸ\"),\n\n    /**\n     * 20001ï¼Œå¤±è´¥\n     */\n    ERROR(20001,\"å¤±è´¥\"),\n\n    /**\n     * 20002ï¼Œç®—æœ¯å¼‚å¸¸\n     */\n    ARITHMETICEXCEPTION(20002,\"ç®—æœ¯å¼‚å¸¸\"),\n\n    /**\n     * 20003ï¼Œç”¨æˆ·ä¸å­˜åœ¨\n     */\n    USER_NOFOUND_EXCEPTION(20003,\"ç”¨æˆ·ä¸å­˜åœ¨\"),\n\n\n    ;\n\n    private Integer code;\n    private String message;\n\n    ResultCode(Integer code,String message){\n        this.code = code;\n        this.message = message;\n    }\n\n    @Override\n    public Integer getCode() {\n        return code;\n    }\n\n    @Override\n    public String getMessage() {\n        return message;\n    }\n}\n```\n\n\n\n**å®ç°ç±»**\n\n**Result**\n\n```java\n/**\n * @author: 61åˆ†\n * @date: 2022/5/7 13:00\n * @description:å…¬å…±è¿”å›ç»“æœ\n */\n@Data\npublic class Result {\n\n    @ApiModelProperty(value = \"æ˜¯å¦æˆåŠŸ\")\n    private boolean success;\n\n    @ApiModelProperty(value = \"è¿”å›ç \")\n    private Integer code;\n\n    @ApiModelProperty(value = \"è¿”å›æ¶ˆæ¯\")\n    private String message;\n\n    @ApiModelProperty(value = \"è¿”å›çš„æ•°æ®\")\n    private Map<String,Object> data =  new HashMap<>();\n\n    /**\n     * æ„é€ æ–¹æ³•ç§æœ‰ï¼Œä¿æŠ¤å±æ€§\n     */\n    private Result(){};\n\n    public static Result ok(){\n        Result result = new Result();\n        result.setSuccess(true);\n        result.setCode(ResultCode.SUCCESS.getCode());\n        result.setMessage(ResultCode.SUCCESS.getMessage());\n        return result;\n    }\n\n//    ä½¿ç”¨é“¾å¼ç¼–ç¨‹\n    public static Result error(){\n        Result result = new Result();\n        result.setSuccess(false);\n        result.setCode(ResultCode.ERROR.getCode());\n        result.setMessage(ResultCode.ERROR.getMessage());\n        return result;\n    }\n\n    /**\n     * è‡ªå®šä¹‰è¿”å›\n     * @param success\n     * @return\n     */\n    public Result success(Boolean success){\n        this.setSuccess(success);\n        return this;\n    }\n\n    public Result message(String message){\n        this.setMessage(message);\n        return this;\n    }\n\n    public Result code(Integer code){\n        this.setCode(code);\n        return this;\n    }\n\n    public Result data(String key,Object value){\n        this.data.put(key, value);\n        return this;\n    }\n\n    public Result data(Map<String,Object> map){\n        this.setData(map);\n        return this;\n    }\n\n}\n```\n\n# 4ã€ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\ncommoné¡¹ç›®çš„handlerç›®å½•ä¸‹\n\n**å…¨å±€çš„å¼‚å¸¸å¤„ç†**\n\n**GlobalExceptionHandler**\n\n```java\n/**\n * @author: 61åˆ†\n * @date: 2022/5/7 14:52\n * @description:ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n */\n@ControllerAdvice\n@Slf4j\npublic class GlobalExceptionHandler {\n    @ExceptionHandler(Exception.class)\n    @ResponseBody\n    public Result error(Exception e) {\n        log.error(e.getMessage());\n        return Result.error();\n    }\n\n    @ExceptionHandler(ArithmeticException.class)\n    @ResponseBody\n    public Result error(ArithmeticException e) {\n        log.error(e.getMessage());\n        return Result.error().code(ResultCode.ARITHMETICEXCEPTION.getCode())\n                .message(ResultCode.ARITHMETICEXCEPTION.getMessage());\n    }\n\n    @ExceptionHandler(BusinessException.class)\n    @ResponseBody\n    public Result error(BusinessException e) {\n        log.error(e.getErrMsg());\n        return Result.error().code(e.getCode())\n                .message(e.getErrMsg());\n    }\n}\n```\n\n\n\nè¿”å›çŠ¶æ€ç æ¥å£çš„ä¿¡æ¯\n\n**BusinessException**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BusinessException extends RuntimeException{\n    @ApiModelProperty(value = \"çŠ¶æ€ç \")\n    private Integer code;\n\n    @ApiModelProperty(value = \"é”™è¯¯ä¿¡æ¯\")\n    private String errMsg;\n}\n```\n\n# 5ã€ç»Ÿä¸€æ—¥å¿—å¤„ç†ï¼ˆknife4jç¾åŒ–swagger2ï¼‰\n\néœ€è¦knife4jä¾èµ–ï¼Œ\n\nåœ¨commoné¡¹ç›®çš„configç›®å½•ä¸‹\n\n**Knife4jConfiguration**\n\n```java\n@Configuration\npublic class Knife4jConfiguration {\n\n    @Bean(value = \"defaultApi2\")\n    public Docket defaultApi2() {\n        Docket docket=new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(new ApiInfoBuilder()\n                        //.title(\"swagger-bootstrap-ui-demo RESTful APIs\")\n                        .description(\"# swagger-bootstrap-ui-demo RESTful APIs\")\n                        .termsOfServiceUrl(\"http://www.xx.com/\")\n                        .contact(\"xx@qq.com\")\n                        .version(\"1.0\")\n                        .build())\n                //åˆ†ç»„åç§°\n                .groupName(\"2.Xç‰ˆæœ¬\")\n                .select()\n                //è¿™é‡ŒæŒ‡å®šControlleræ‰«æåŒ…è·¯å¾„\n                .apis(RequestHandlerSelectors.basePackage(\"com.xiaoliu.system.controller\"))\n                .paths(PathSelectors.any())\n                .build();\n        return docket;\n    }\n}\n```\n\nä¹‹åè®¿é—®xxx/**doc.html**\n\n# 6ã€ç»Ÿä¸€ç”Ÿæˆçš„æ—¥å¿—ç®¡ç†\n\nLogBack\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\n<!-- çº§åˆ«ä»é«˜åˆ°ä½ OFF ã€ FATAL ã€ ERROR ã€ WARN ã€ INFO ã€ DEBUG ã€ TRACE ã€ ALL -->\n<!-- æ—¥å¿—è¾“å‡ºè§„åˆ™ æ ¹æ®å½“å‰ROOT çº§åˆ«ï¼Œæ—¥å¿—è¾“å‡ºæ—¶ï¼Œçº§åˆ«é«˜äºrooté»˜è®¤çš„çº§åˆ«æ—¶ ä¼šè¾“å‡º -->\n<!-- ä»¥ä¸‹ æ¯ä¸ªé…ç½®çš„ filter æ˜¯è¿‡æ»¤æ‰è¾“å‡ºæ–‡ä»¶é‡Œé¢ï¼Œä¼šå‡ºç°é«˜çº§åˆ«æ–‡ä»¶ï¼Œä¾ç„¶å‡ºç°ä½çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ï¼Œé€šè¿‡filter è¿‡æ»¤åªè®°å½•æœ¬çº§åˆ«çš„æ—¥å¿— -->\n<!-- scan å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚ -->\n<!-- scanPeriod è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ -->\n<!-- debug å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ -->\n<configuration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\">\n\n    <!-- åŠ¨æ€æ—¥å¿—çº§åˆ« -->\n    <jmxConfigurator/>\n\n    <!--*****************************************************************************-->\n    <!--è‡ªå®šä¹‰é¡¹ å¼€å§‹-->\n    <!--*****************************************************************************-->\n\n    <!-- å®šä¹‰æ—¥å¿—æ–‡ä»¶ è¾“å‡ºä½ç½® -->\n    <property name=\"log.home_dir\" value=\"E:/BliBli/xinguan/logs\"/>\n    <property name=\"log.app_name\" value=\"http-demo\"/>\n    <!-- æ—¥å¿—æœ€å¤§çš„å†å² 30å¤© -->\n    <property name=\"log.maxHistory\" value=\"30\"/>\n    <property name=\"log.maxSize\" value=\"5MB\"/>\n    <!-- æ—¥å¿—ç•Œåˆ« -->\n    <property name=\"log.level\" value=\"info\"/>\n    <!-- æ‰“å°sqlè¯­å¥ éœ€è¦æŒ‡å®šdao/mapperå±‚åŒ…çš„ä½ç½® -->\n    <property name=\"mapper.package\" value=\"com.xiaoge.system.mapper\"/>\n\n    <!-- å½©è‰²æ—¥å¿— -->\n    <!-- é…ç½®æ ¼å¼å˜é‡ï¼šCONSOLE_LOG_PATTERN å½©è‰²æ—¥å¿—æ ¼å¼ -->\n    <!-- magenta:æ´‹çº¢ -->\n    <!-- boldMagenta:ç²—çº¢-->\n    <!-- cyan:é’è‰² -->\n    <!-- white:ç™½è‰² -->\n    <!-- magenta:æ´‹çº¢ -->\n    <property name=\"CONSOLE_LOG_PATTERN\"\n              value=\"%yellow(%date{yyyy-MM-dd HH:mm:ss}) |%highlight(%-5level) |%blue(%thread) |%blue(%file:%line) |%green(%logger) |%cyan(%msg%n)\"/>\n\n    <!--*****************************************************************************-->\n    <!--è‡ªå®šä¹‰é¡¹ ç»“æŸ-->\n    <!--*****************************************************************************-->\n\n    <!-- ConsoleAppender æ§åˆ¶å°è¾“å‡ºæ—¥å¿— -->\n    <appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <pattern>\n                <!-- è®¾ç½®æ—¥å¿—è¾“å‡ºæ ¼å¼ -->\n                ${CONSOLE_LOG_PATTERN}\n            </pattern>\n        </encoder>\n    </appender>\n\n    <!-- ERRORçº§åˆ«æ—¥å¿— -->\n    <!-- æ»šåŠ¨è®°å½•æ–‡ä»¶ï¼Œå…ˆå°†æ—¥å¿—è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œå½“ç¬¦åˆæŸä¸ªæ¡ä»¶æ—¶ï¼Œå°†æ—¥å¿—è®°å½•åˆ°å…¶ä»–æ–‡ä»¶ RollingFileAppender -->\n    <appender name=\"ERROR\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <!-- è¿‡æ»¤å™¨ï¼Œåªè®°å½•WARNçº§åˆ«çš„æ—¥å¿— -->\n        <!-- æœæ—¥å¿—çº§åˆ«ç­‰äºé…ç½®çº§åˆ«ï¼Œè¿‡æ»¤å™¨ä¼šæ ¹æ®onMath å’Œ onMismatchæ¥æ”¶æˆ–æ‹’ç»æ—¥å¿—ã€‚ -->\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <!-- è®¾ç½®è¿‡æ»¤çº§åˆ« -->\n            <level>ERROR</level>\n            <!-- ç”¨äºé…ç½®ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMatch>ACCEPT</onMatch>\n            <!-- ç”¨äºé…ç½®ä¸ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <!-- æœ€å¸¸ç”¨çš„æ»šåŠ¨ç­–ç•¥ï¼Œå®ƒæ ¹æ®æ—¶é—´æ¥åˆ¶å®šæ»šåŠ¨ç­–ç•¥.æ—¢è´Ÿè´£æ»šåŠ¨ä¹Ÿè´Ÿè´£è§¦å‘æ»šåŠ¨ -->\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <!--æ—¥å¿—è¾“å‡ºä½ç½® å¯ç›¸å¯¹ã€å’Œç»å¯¹è·¯å¾„ -->\n            <fileNamePattern>\n                ${log.home_dir}/error/%d{yyyy-MM-dd}/${log.app_name}-%i.log\n            </fileNamePattern>\n            <!-- å¯é€‰èŠ‚ç‚¹ï¼Œæ§åˆ¶ä¿ç•™çš„å½’æ¡£æ–‡ä»¶çš„æœ€å¤§æ•°é‡ï¼Œè¶…å‡ºæ•°é‡å°±åˆ é™¤æ—§æ–‡ä»¶,å‡è®¾è®¾ç½®æ¯ä¸ªæœˆæ»šåŠ¨ï¼Œä¸”<maxHistory>æ˜¯6ï¼Œ\n            åˆ™åªä¿å­˜æœ€è¿‘6ä¸ªæœˆçš„æ–‡ä»¶ï¼Œåˆ é™¤ä¹‹å‰çš„æ—§æ–‡ä»¶ã€‚æ³¨æ„ï¼Œåˆ é™¤æ—§æ–‡ä»¶æ˜¯ï¼Œé‚£äº›ä¸ºäº†å½’æ¡£è€Œåˆ›å»ºçš„ç›®å½•ä¹Ÿä¼šè¢«åˆ é™¤ -->\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <!--æ—¥å¿—æ–‡ä»¶æœ€å¤§çš„å¤§å°-->\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>\n                <!-- è®¾ç½®æ—¥å¿—è¾“å‡ºæ ¼å¼ -->\n                %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n\n            </pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- WARNçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"WARN\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <!-- è¿‡æ»¤å™¨ï¼Œåªè®°å½•WARNçº§åˆ«çš„æ—¥å¿— -->\n        <!-- æœæ—¥å¿—çº§åˆ«ç­‰äºé…ç½®çº§åˆ«ï¼Œè¿‡æ»¤å™¨ä¼šæ ¹æ®onMath å’Œ onMismatchæ¥æ”¶æˆ–æ‹’ç»æ—¥å¿—ã€‚ -->\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <!-- è®¾ç½®è¿‡æ»¤çº§åˆ« -->\n            <level>WARN</level>\n            <!-- ç”¨äºé…ç½®ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMatch>ACCEPT</onMatch>\n            <!-- ç”¨äºé…ç½®ä¸ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <!--æ—¥å¿—è¾“å‡ºä½ç½® å¯ç›¸å¯¹ã€å’Œç»å¯¹è·¯å¾„ -->\n            <fileNamePattern>${log.home_dir}/warn/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <!--å½“å¤©çš„æ—¥å¿—å¤§å° è¶…è¿‡MaxFileSizeæ—¶,å‹ç¼©æ—¥å¿—å¹¶ä¿å­˜-->\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- INFOçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"INFO\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>INFO</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/info/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- DEBUGçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"DEBUG\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>DEBUG</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/debug/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- TRACEçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"TRACE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>TRACE</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/trace/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!--è®¾ç½®ä¸€ä¸ªå‘ä¸Šä¼ é€’çš„appender,æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¾“å‡º-->\n    <appender name=\"app\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/app/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!--org.springframework.webåŒ…ä¸‹çš„ç±»çš„æ—¥å¿—è¾“å‡º-->\n    <logger name=\"org.springframework.web\" additivity=\"false\" level=\"WARN\">\n        <appender-ref ref=\"WARN\"/>\n    </logger>\n    <!--daoå±‚åŒ…ä¸‹çš„ç±»çš„æ—¥å¿—è¾“å‡º-->\n    <logger name=\"${mapper.package}\" additivity=\"false\" level=\"DEBUG\">\n        <appender-ref ref=\"app\"/>\n        <appender-ref ref=\"ERROR\"/>\n        <!--æ‰“å°æ§åˆ¶å°-->\n        <appender-ref ref=\"CONSOLE\"/>\n    </logger>\n\n\n    <!-- rootçº§åˆ«   DEBUG -->\n    <root>\n        <!-- æ‰“å°debugçº§åˆ«æ—¥å¿—åŠä»¥ä¸Šçº§åˆ«æ—¥å¿— -->\n        <level value=\"${log.level}\"/>\n        <!-- æ§åˆ¶å°è¾“å‡º -->\n        <appender-ref ref=\"CONSOLE\"/>\n        <!-- ä¸ç®¡ä»€ä¹ˆåŒ…ä¸‹çš„æ—¥å¿—éƒ½è¾“å‡ºæ–‡ä»¶ -->\n        <appender-ref ref=\"ERROR\"/>\n        <appender-ref ref=\"INFO\"/>\n        <appender-ref ref=\"WARN\"/>\n        <appender-ref ref=\"DEBUG\"/>\n        <appender-ref ref=\"TRACE\"/>\n    </root>\n\n</configuration>\n\n```\n\n\n\n# 7ã€åå°æ•°æ®åˆ†é¡µæŸ¥è¯¢\n\néœ€è¦mybatis-plusçš„**åˆ†é¡µæ’ä»¶**\n\nåœ¨commoné¡¹ç›®ä¸‹çš„configç›®å½•ä¸‹\n\n```java\n@Configuration\npublic class MybatisPlusConfig {\n\n    /**\n     * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® MybatisConfiguration#useDeprecatedExecutor = false é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)\n     */\n    @Bean\n    public MybatisPlusInterceptor mybatisPlusInterceptor() {\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\n        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.H2));\n        return interceptor;\n    }\n\n    @Bean\n    public ConfigurationCustomizer configurationCustomizer() {\n        return configuration -> configuration.setUseDeprecatedExecutor(false);\n    }\n}\n```\n\n\n\nåˆ†é¡µæŸ¥è¯¢çš„controller\n\n```java\n@GetMapping(\"/findUserList\")\n    public Result findUserList(@RequestParam(defaultValue = \"1\")Integer current,\n                               @RequestParam(defaultValue = \"7\")Integer size){\n//        å¯¹ç”¨æˆ·åˆ†é¡µï¼Œæ³›å‹ä¸­æ³¨å…¥çš„æ˜¯ç”¨æˆ·å®ä½“ç±»\n        Page<User> page = new Page<>(current,size);\n        Page<User> userPage = userService.page(page);\n        long total = userPage.getTotal();\n        List<User> records = userPage.getRecords();\n        return Result.ok().data(\"total\",total).data(\"records\",records);\n    };\n```\n\n# 8ã€ä½¿ç”¨axiosè¯·æ±‚åå°æ¥å£\n\nå¼•å…¥axios\n\n`npm install axios`\n\n\n\nåœ¨å‰ç«¯é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ªutilsåŒ…\n\nrequest.js\n\n```js\nimport axios from \'axios\'\n\nconst instance = axios.create({\n    baseURL: \'http://localhost:8081\',\n    timeout: 3000,\n  });\n\n  export default instance\n```\n\næ–°å»ºapiåŒ…\n\nusers.js\n\n```js\nimport request from \'../utils/request\'\n\n// åé¢æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯æºå¸¦tokençš„\nexport const findUserList =()=>{\n    return request({\n        url: \"/user/findUserList\",\n        method: \'get\',\n\n    })\n}   \n```\n\n\n\nåœ¨Uses.vueç»„ä»¶ä¸­\n\næ·»åŠ è·å–ç”¨æˆ·åˆ—è¡¨çš„æ–¹æ³•,å¹¶åœ¨æ§åˆ¶å°æ‰“å°\n\n```vue\nasync getUserList(){\n       const {data}  = await findUserList()\n       console.log(data);\n      }\n```\n\né’©å­å‡½æ•°åŠ è½½\n\n```vue\ncreated(){\n    this.getUserList();\n  },\n```\n\n\n\n# 9ã€è·¨åŸŸé—®é¢˜ Access-Control-Allow-Origin\n\n![image-20220507234028635](image-20220507234028635.png)\n\n\n\n## 9.1ã€nginxåå‘ä»£ç†è§£å†³è·¨åŸŸ\n\n## 9.2ã€jsonpè§£å†³è·¨åŸŸï¼ˆaxiosä¸æ”¯æŒï¼‰\n\n## 9.3ã€springbootçš„@CrossOrign\n\n## 9.4ã€é…ç½®webmvcconfigureè§£å†³è·¨åŸŸ\n\n```java\n@Configuration\npublic class CrosConfig implements WebMvcConfigurer {\n    /**\n     *\n     * @param registry\n     */\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\").allowedOrigins(\"*\")\n                .allowedMethods(\"GET\",\"POST\",\"PUT\",\"OPTIONS\",\"HEAD\")\n                .allowCredentials(true)\n                .maxAge(3600)\n                .allowedHeaders(\"*\");\n    }\n}\n```\n\n\n\n# 10ã€ç”¨æˆ·æ•°æ®ç»‘å®šåŠåˆ†é¡µå±•ç¤º\n\n\n\n# 11ã€mybatispluså®ç°å¤šè¡¨è”æŸ¥ï¼ˆç”¨æˆ·éƒ¨é—¨ï¼‰\n\n\n\n# 12ã€ç¼–å†™æ·»åŠ ç”¨æˆ·ç•Œé¢\n\n\n\n# 13ã€å®ç°å¤´åƒä¸Šä¼ \n\né˜¿é‡Œäº‘çš„OSS éœ€è¦joda-timeä¾èµ–\n\n```java\n           //è·å–ä¸Šä¼ çš„æ–‡ä»¶æµ\n            InputStream inputStream = file.getInputStream();\n//            ä¿è¯æ–‡ä»¶åä¸ç›¸åŒ uuid redisåˆ†å¸ƒå¼ID é›ªèŠ±ç®—æ³• æ–¹ä¾¿åŒºåˆ† æ–‡ä»¶æ ¼å¼ yyyy/MM/dd+uuid\n//              æ„å»ºæ—¥æœŸæ–‡ä»¶å¤¹çš„è·¯å¾„ avatar/2022/5/14 æ–‡ä»¶å\n            String datePath = new DateTime().toString(\"yyyy/MM/dd\");\n\n//            è·å–æ–‡ä»¶çš„åç§°\n            String original = file.getOriginalFilename();\n\n//            è·å–uuid\n            String fileName = UUID.randomUUID().toString().replaceAll(\"-\", \"/\");\n\n//            è·å¾—æ–‡ä»¶ä¸Šä¼ çš„æ‰©å±•å .jpg\n            String fileType = original.substring(original.lastIndexOf(\".\"));\n\n//            æ‹¼æ¥æ–‡ä»¶åç§° cfbf6d34d3e4465386f0e33d4595d52b.jpg\n            String newName = fileName + fileType;\n\n//            ç”Ÿæˆæ–‡ä»¶å¤¹ avatar/2022/5/14 + cfbf6d34d3e4465386f0e33d4595d52b.jpg\n            fileName = datePath + \"/\" + newName;\n//            ä¸Šä¼ æ–‡ä»¶\n            ossClient.putObject(bucketName, fileName,inputStream);\n\n\n            //é»˜è®¤åå¹´ä¸è¿‡æœŸ\n            Date expiration = new Date(System.currentTimeMillis() + 3600L * 1000 * 24 * 365 * 10);\n\n            //bucketåç§°  æ–‡ä»¶å   è¿‡æœŸæ—¶é—´\n            uploadUrl = ossClient.generatePresignedUrl(bucketName, fileName, expiration).toString();\n\n            //è·å–urlåœ°å€\n            //uploadUrl = \"https://\" + bucketName + \".\" + endPoint + \"/\" + fileName;\n        return uploadUrl.substring(0, uploadUrl.indexOf(\"?\"));\n        ä¸èƒ½ç›´æ¥è¿”å›uploadUrl éœ€è¦å»é™¤ï¼Ÿåé¢çš„ç­¾åä¿¡æ¯\n            \n            /**\n     * Description: åˆ¤æ–­OSSæœåŠ¡æ–‡ä»¶ä¸Šä¼ æ—¶æ–‡ä»¶çš„contentType\n     *\n     * @param FilenameExtension æ–‡ä»¶åç¼€\n     * @return String\n     */\n    public static String getcontentType(String FilenameExtension) {\n        if (FilenameExtension.equalsIgnoreCase(\".bmp\")) {\n            return \"image/bmp\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".gif\")) {\n            return \"image/gif\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".jpeg\") ||\n                FilenameExtension.equalsIgnoreCase(\".jpg\") ||\n                FilenameExtension.equalsIgnoreCase(\".png\")) {\n            return \"image/jpg\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".html\")) {\n            return \"text/html\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".txt\")) {\n            return \"text/plain\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".vsd\")) {\n            return \"application/vnd.visio\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".pptx\") ||\n                FilenameExtension.equalsIgnoreCase(\".ppt\")) {\n            return \"application/vnd.ms-powerpoint\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".docx\") ||\n                FilenameExtension.equalsIgnoreCase(\".doc\")) {\n            return \"application/msword\";\n        }\n        if (FilenameExtension.equalsIgnoreCase(\".xml\")) {\n            return \"text/xml\";\n        }\n        return \"image/jpg\";\n    }\n```\n', 0, '2022-09-06 00:04:47', '2022-10-21 20:01:00', 0, 1, 8, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/06/0df103b9ca68477f803cf63b15f1559a.jpg', 7);
INSERT INTO `t_blog` VALUES (225, ' é¡¹ç›®-å‰ç«¯', 'æ­å¥½å‰ç«¯è„šæ‰‹æ¶', '# æ­å¥½å‰ç«¯è„šæ‰‹æ¶\n\nrouter,vuex,elementpuls,\n\n# é…ç½®å…¨å±€æ ·å¼\n\ncssæ–‡ä»¶ä¸‹\n\n```css\n/* å…¨å±€æ ·å¼è¡¨ */\nhtml,bodyï¼Œ#app{\n    height: 100%;\n    margin: 0;\n    padding: 0;\n}\n```\n\nmain.jsä¸‹\n\n```js\nimport \'@/assets/css/global.css\'\n```\n\n\n\n# 1ã€ç™»å½•é¡µé¢\n\nä½¿ç”¨less\n\n**å®‰è£…**\n\n```\nnpm install --save-dev less-loader less\n```\n\n```js\n<style lang=\"less\"></style>\n```\n\n\n\nvue3ä½¿ç”¨å›¾æ ‡éœ€è¦å…¨å±€æ³¨å†Œç»„ä»¶\n\n```bash\nnpm install @element-plus/icons-vue\n```\n\nmain.jsä¸­\n\n```js\nimport * as ElementPlusIconsVue from \'@element-plus/icons-vue\'\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n  app.component(key, component)\n}\n```\n\nç›´æ¥å¼•ç”¨ \n\n\n\n**ä½¿ç”¨iconçš„æ–¹æ³•**\n\n```js\nimport { Avatar, Lock } from \"@element-plus/icons-vue\";\n```\n\n```js\nsetup(){\n  return {\n     Avatar,\n     Lock\n   }\n  }\n```\n\nè¾“å…¥æ¡†ä¸­å¼•ç”¨\n\n```js\nè´¦å· prefix-icon=\"Avatar\"\nå¯†ç  prefix-icon=\"Lock\"\n```\n\n\n\n**login.vueç™»å½•é¡µé¢**\n\n```vue\n<template>\n  <!-- ç™»å½•å®¹å™¨ -->\n  <div class=\"login_container\">\n    <!-- ç™»å½•åŒºåŸŸ -->\n    <div class=\"login_box\">\n      <!-- å¤´åƒ -->\n      <div class=\"avatar_box\">\n        <img src=\"@/assets/src.jpeg\" />\n      </div>\n      <!-- è¡¨å• -->\n      <el-form\n        :model=\"loginForm\"\n        :rules=\"loginrules\"\n        ref=\"loginForm\"\n        label-width=\"0px\"\n        class=\"login_form\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input\n            v-model=\"loginForm.username\"\n            prefix-icon=\"Avatar\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input\n            v-model=\"loginForm.password\"\n            prefix-icon=\"Lock\"\n            type=\"password\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"verifyCode\">\n          <el-input\n            v-model=\"loginForm.verifyCode\"\n            prefix-icon=\"Iphone\"\n            class=\"verify_code\"\n          ></el-input>\n          <img src=\"@/assets/msFvb6.gif\" class=\"verify_img\" />\n        </el-form-item>\n        <el-form-item class=\"login_btn\">\n          <el-button type=\"primary\" @click=\"submitForm(\'loginForm\')\"\n            >ç™»å½•</el-button\n          >\n          <el-button @click=\"resetForm(\'loginForm\')\">é‡ç½®</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Avatar, Lock, Iphone } from \"@element-plus/icons-vue\";\nexport default {\n  setup() {\n    return {\n      Avatar,\n      Lock,\n      Iphone,\n    };\n  },\n  data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\",\n        verifyCode: \"\",\n      },\n      loginrules: {\n        username: [\n          { required: true, message: \"è¯·è¾“å…¥è´¦å·\", trigger: \"blur\" },\n          {\n            min: 3,\n            max: 16,\n            message: \"é•¿åº¦åœ¨ 3 åˆ° 16 ä¸ªå­—ç¬¦\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          { required: true, message: \"è¯·è¾“å…¥å¯†ç \", trigger: \"blur\" },\n          {\n            min: 3,\n            max: 16,\n            message: \"é•¿åº¦åœ¨ 3 åˆ° 16  ä¸ªå­—ç¬¦\",\n            trigger: \"blur\",\n          },\n        ],\n        verifyCode: [\n          { required: true, message: \"è¯·è¾“å…¥éªŒè¯ç \", trigger: \"blur\" },\n          {\n            min: 3,\n            max: 16,\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert(\"submit!\");\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n<style lang=\'less\' scoped>\n.login_container {\n  height: 100%;\n  background-color: aquamarine;\n}\n.login_box {\n  width: 450px;\n  height: 380px;\n  background-color: #ffffff;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  .avatar_box {\n    width: 130px;\n    height: 130px;\n    border: 1px solid #eeeeee;\n    border-radius: 50%;\n    padding: 10px;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    margin: -65px auto;\n    background: #ffffff;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: #eeeeee;\n    }\n  }\n  .login_form {\n    position: absolute;\n    bottom: 0px;\n    width: 100%;\n  }\n  .login_btn {\n    display: flex;\n    justify-content: flex-end;\n  }\n  .verify_code {\n    width: 60%;\n  }\n}\n</style>\n```\n\n\n\n# 2ã€Mainé¡µé¢\n\né¼ æ ‡æ”¾ä¸Šå›¾ç‰‡æ‹‰ä¸‹èœå•\n\n```css\n.el-dropdown-menu,img{\n      height: 60px;\n      width: 60px;\n      border-radius: 50%;\n\n    }\n```\n\n```css\n<el-dropdown>\n          <!-- å³è¾¹å¤´åƒ -->\n          <img src=\"@/assets/src.jpeg\" />\n          <!-- ä¸‹æ‹‰èœå• -->\n          <template #dropdown>\n            <el-dropdown-menu>\n              <el-dropdown-item icon=\"HomeFilled\">ç³»ç»Ÿä¸»é¡µ</el-dropdown-item>\n              <el-dropdown-item icon=\"Warning\">é€€å‡ºç™»å½•</el-dropdown-item>\n            </el-dropdown-menu>\n          </template>\n        </el-dropdown>\n```\n\n\n\n**æ³¨æ„ï¼š**å»é™¤ä¾§è¾¹æ å±•å¼€å¤šå‡ºçš„è¾¹ç¼˜ï¼Œ\n\n```css\n.el-menu-vertical-demo{\n border-right: none;\n}\n```\n\n\n\n**Main.vue**é¡µé¢\n\n```vue\n<template>\n  <el-container class=\"main_container\">\n    <el-header>\n      <div class=\"left_box\">\n        <!-- å·¦è¾¹å¤´åƒ -->\n        <img src=\"@/assets/src.jpeg\" />\n        <span>ç³»ç»Ÿ</span>\n      </div>\n\n      <div class=\"right_box\">\n        <el-dropdown>\n          <!-- å³è¾¹å¤´åƒ -->\n          <img src=\"@/assets/src.jpeg\" />\n          <!-- ä¸‹æ‹‰èœå• -->\n          <template #dropdown>\n            <el-dropdown-menu>\n              <el-dropdown-item icon=\"HomeFilled\">ç³»ç»Ÿä¸»é¡µ</el-dropdown-item>\n              <el-dropdown-item icon=\"Warning\">é€€å‡ºç™»å½•</el-dropdown-item>\n            </el-dropdown-menu>\n          </template>\n        </el-dropdown>\n      </div>\n    </el-header>\n    <el-container>\n      <!-- ä¾§è¾¹æ  -->\n      <el-aside :width=\"iscollapse?\'60px\':\'200px\'\">\n        <!-- å±•å¼€æ”¶èµ· -->\n      <div class=\"toggle_box\" @click=\"toggleiscollapse\">|||</div>\n      <el-menu\n        active-text-color=\"#ffd04b\"\n        background-color=\"#001529\"\n        class=\"el-menu-vertical-demo\"\n        :collapse=\"iscollapse\"\n        :collapse-transition=\"iscollapsetransition\"\n        :router=\"true\"\n        default-active=\"2\"\n        text-color=\"#fff\"\n        @open=\"handleOpen\"\n        @close=\"handleClose\"\n      >\n        <MenuTree :menuList=\"this.MenuList\"></MenuTree>\n      </el-menu>\n\n      </el-aside>\n      <el-main>\n        <router-view/>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport MenuTree from \'@/components/MenuTree.vue\'\nexport default {\n  name: \"Main\",\n  data() {\n    return {\n      iscollapse: false,\n      iscollapsetransition: false,\n      MenuList: [\n        {\n            \"id\": 1,\n            \"parentId\": 0,\n            \"menuName\": \"ç³»ç»Ÿç®¡ç†\",\n            \"url\": \"\",\n            \"icon\": \"el-icon-setting\",\n            \"orderNum\": 1,\n            \"open\": 1,\n            \"disabled\": false,\n            \"perms\": null,\n            \"type\": 0,\n            \"children\": [\n              {\n                \"id\": 253,\n                \"parentId\": 1,\n                \"menuName\": \"æ¬¢è¿é¡µé¢\",\n                \"url\": \"/welcome\",\n                \"icon\": \"el-icon-star-off\",\n                \"orderNum\": 1,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"welcome:view\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 226,\n                \"parentId\": 1,\n                \"menuName\": \"ç”¨æˆ·ç®¡ç†\",\n                \"url\": \"/users\",\n                \"icon\": \"el-icon-user\",\n                \"orderNum\": 2,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"users\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 321,\n                \"parentId\": 1,\n                \"menuName\": \"é™„ä»¶ç®¡ç†\",\n                \"url\": \"/attachments\",\n                \"icon\": \"el-icon-picture-outline\",\n                \"orderNum\": 2,\n                \"open\": 1,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 4,\n                \"parentId\": 1,\n                \"menuName\": \"èœå•æƒé™\",\n                \"url\": \"/menus\",\n                \"icon\": \"el-icon-help\",\n                \"orderNum\": 3,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": null,\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 235,\n                \"parentId\": 1,\n                \"menuName\": \"è§’è‰²ç®¡ç†\",\n                \"url\": \"/roles\",\n                \"icon\": \"el-icon-postcard\",\n                \"orderNum\": 3,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 261,\n                \"parentId\": 1,\n                \"menuName\": \"éƒ¨é—¨ç®¡ç†\",\n                \"url\": \"/departments\",\n                \"icon\": \"el-icon-s-home\",\n                \"orderNum\": 3,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 319,\n                \"parentId\": 1,\n                \"menuName\": \"å…¬å‘Šç®¡ç†\",\n                \"url\": \"/notices\",\n                \"icon\": \"el-icon-s-flag\",\n                \"orderNum\": 4,\n                \"open\": 0,\n                \"disabled\": true,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              }\n            ]\n          },\n         \n          {\n            \"id\": 303,\n            \"parentId\": 0,\n            \"menuName\": \"å¥åº·æŠ¥å¤‡\",\n            \"url\": \"\",\n            \"icon\": \"el-icon-platform-eleme\",\n            \"orderNum\": 3,\n            \"open\": 0,\n            \"disabled\": false,\n            \"perms\": \"\",\n            \"type\": 0,\n            \"children\": [\n              {\n                \"id\": 273,\n                \"parentId\": 303,\n                \"menuName\": \"å…¨å›½ç–«æƒ…\",\n                \"url\": \"/map\",\n                \"icon\": \"el-icon-s-opportunity\",\n                \"orderNum\": 1,\n                \"open\": 1,\n                \"disabled\": false,\n                \"perms\": \"map:view\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 304,\n                \"parentId\": 303,\n                \"menuName\": \"å¥åº·æ‰“å¡\",\n                \"url\": \"/health\",\n                \"icon\": \"el-icon-s-cooperation\",\n                \"orderNum\": 1,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 305,\n                \"parentId\": 303,\n                \"menuName\": \"æŸ¥çœ‹æƒ…å†µ\",\n                \"url\": null,\n                \"icon\": \"el-icon-c-scale-to-original\",\n                \"orderNum\": 2,\n                \"open\": 1,\n                \"disabled\": false,\n                \"perms\": null,\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 272,\n                \"parentId\": 303,\n                \"menuName\": \"ç–«æƒ…è¾Ÿè°£\",\n                \"url\": \"/rumors\",\n                \"icon\": \"el-icon-help\",\n                \"orderNum\": 5,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": null,\n                \"type\": 0,\n                \"children\": []\n              }\n            ]\n          },\n          {\n            \"id\": 295,\n            \"parentId\": 0,\n            \"menuName\": \"å…¶ä»–ç®¡ç†\",\n            \"url\": \"\",\n            \"icon\": \"el-icon-s-marketing\",\n            \"orderNum\": 5,\n            \"open\": 0,\n            \"disabled\": false,\n            \"perms\": \"\",\n            \"type\": 0,\n            \"children\": [\n              {\n                \"id\": 297,\n                \"parentId\": 295,\n                \"menuName\": \"ç›‘æ§ç®¡ç†\",\n                \"url\": \"\",\n                \"icon\": \"el-icon-warning\",\n                \"orderNum\": 1,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": [\n                  {\n                    \"id\": 298,\n                    \"parentId\": 297,\n                    \"menuName\": \"SQLç›‘æ§\",\n                    \"url\": \"/druid\",\n                    \"icon\": \"el-icon-view\",\n                    \"orderNum\": 1,\n                    \"open\": 0,\n                    \"disabled\": false,\n                    \"perms\": null,\n                    \"type\": 0,\n                    \"children\": []\n                  }\n                ]\n              },\n              {\n                \"id\": 341,\n                \"parentId\": 295,\n                \"menuName\": \"ä¸ªäººåšå®¢\",\n                \"url\": \"/blog\",\n                \"icon\": \"el-icon-view\",\n                \"orderNum\": 1,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 296,\n                \"parentId\": 295,\n                \"menuName\": \"swaggeræ–‡æ¡£\",\n                \"url\": \"/swagger\",\n                \"icon\": \"el-icon-document\",\n                \"orderNum\": 2,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": null,\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 318,\n                \"parentId\": 295,\n                \"menuName\": \"å›¾æ ‡ç®¡ç†\",\n                \"url\": \"/icons\",\n                \"icon\": \"el-icon-star-off\",\n                \"orderNum\": 2,\n                \"open\": 1,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              }\n            ]\n          },\n          {\n            \"id\": 5,\n            \"parentId\": 0,\n            \"menuName\": \"æ—¥å¿—ç®¡ç†\",\n            \"url\": \"/logs\",\n            \"icon\": \"el-icon-camera\",\n            \"orderNum\": 6,\n            \"open\": 0,\n            \"disabled\": false,\n            \"perms\": null,\n            \"type\": 0,\n            \"children\": [\n              {\n                \"id\": 271,\n                \"parentId\": 5,\n                \"menuName\": \"ç™»å…¥æ—¥å¿—\",\n                \"url\": \"/loginLog\",\n                \"icon\": \"el-icon-date\",\n                \"orderNum\": 1,\n                \"open\": 0,\n                \"disabled\": false,\n                \"perms\": \"login:log\",\n                \"type\": 0,\n                \"children\": []\n              },\n              {\n                \"id\": 307,\n                \"parentId\": 5,\n                \"menuName\": \"æ“ä½œæ—¥å¿—\",\n                \"url\": \"/logs\",\n                \"icon\": \"el-icon-edit\",\n                \"orderNum\": 1,\n                \"open\": 1,\n                \"disabled\": false,\n                \"perms\": \"\",\n                \"type\": 0,\n                \"children\": []\n              }\n            ]\n          }\n      ]\n    };\n  },\n  methods: {\n    toggleiscollapse() {\n      this.iscollapse = !this.iscollapse;\n    },\n  },\n  components: {\n    MenuTree,\n},\n};\n</script>\n<style  lang=\'less\' scoped>\n// å¤´éƒ¨å¸ƒå±€\n.el-header {\n  background-color: #001529;\n  display: flex;\n  justify-content: space-between;\n  padding-left: 0;\n  color: #ffffff;\n  align-items: center;\n  font-size: 20px;\n  // å·¦è¾¹å¤´åƒæ ·å¼\n  .left_box {\n    display: flex;\n    align-items: center; //æ–‡æœ¬å±…ä¸­\n\n    img {\n      width: 60px;\n      height: 60px;\n      margin: 0px 0px 10px 15px; //è¾¹ç¼˜\n    }\n    // æ–‡æœ¬\n    span {\n      margin-left: 15px;\n    }\n  }\n  // å³è¾¹å¤´åƒæ ·å¼\n  .right_box {\n    .el-dropdown-menu,\n    img {\n      height: 60px;\n      width: 60px;\n      border-radius: 50%;\n      background-size: contain; //å®¹å™¨åŒ…è£¹å¤´åƒ\n    }\n  }\n}\n// ä¾§è¾¹æ \n.el-aside {\n  background-color: #001529;\n\n  .el-menu-vertical-demo{\n    border-right: none;\n  }\n  // æ”¶èµ·åŠŸèƒ½æ ·å¼\n  .toggle_box {\n    background-color: #001529;\n    color: #FFFFFF;\n    text-align: center;\n    cursor: pointer;\n    font-size: 15px;\n    font-weight: bold;\n    line-height: 24px;\n  }\n}\n// ä¸»ä½“å¸ƒå±€\n.el-main {\n  background-color: #e9eef3;\n}\n\n// æ•´ä¸ªå®¹å™¨é«˜åº¦\n.main_container {\n  height: 100%;\n}\n</style>\n```\n\n\n\n## **2.1ã€MenuTree.vueç»„ä»¶**\n\n```vue\n<template >\n  <div>\n    <template v-for=\"item in this.menuList\">\n      <el-sub-menu\n        :disabled=\"item.disabled\"\n        :index=\"item.id + \'\'\"\n        :key=\"item.id + \'\'\"\n        v-if=\"item.children.length > 0\"\n      >\n        <template #title>\n          <el-icon class=\"is-loading\">\n    <loading />\n  </el-icon>\n          <span>{{ item.menuName }}</span>\n        </template>\n        <MenuTree :menuList=\"item.children\"></MenuTree>\n      </el-sub-menu>\n\n      <el-menu-item v-else :disabled=\"item.disabled\" :index=\"item.url+\'\'\" :router=\"true\" :key=\"item.id+\'\'\">\n        <el-icon class=\"is-loading\">\n    <loading />\n  </el-icon>\n        <span>{{ item.menuName }}</span>\n      </el-menu-item>\n    </template>\n  </div>\n</template>\n\n\n<script>\nexport default {\n  name: \"MenuTree\",\n  props: [\"menuList\"],\n};\n</script>\n<style  >\n/* æº¢å‡ºæ•ˆæœè§£å†³ */\n  .el-menu--collapse span,\n  .el-menu--collapse i.el-sub-menu__icon-arrow{\n    height: 0;\n    width: 0;\n    overflow: hidden;\n    visibility: hidden;\n    display: inline-block;\n  }\n\n</style>\n```\n\n\n\n# 3ã€ç”¨æˆ·ç®¡ç†ç•Œé¢\n\n\n\n# 4ã€ç”¨æˆ·æ•°æ®ç»‘å®šåŠåˆ†é¡µå±•ç¤º\n\n# 5ã€å‰ç«¯ç»‘å®šéƒ¨é—¨ä¿¡æ¯\n\n# 6ã€ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢\n', 0, '2022-09-06 00:05:18', '2022-10-21 20:01:00', 0, 119, 11, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/06/f93deb981fab4796b8d2ce8e39355f3f.jpg', 7);
INSERT INTO `t_blog` VALUES (226, 'linux', 'linuxåˆå­¦', '#Linux\nåœ¨/etc/profileé…ç½®ç¯å¢ƒå˜é‡\n\n```bash\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_333\nexport JRE_HOME=${JAVA_HOME}/jre\nexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\nexport PATH=${JAVA_HOME}/bin:$PATH\n```\n\n\n#ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\n```bash\nsource /etc/profile\n```\n\n\n#éªŒè¯\n```bash\njava -version\n```\n\nåå°å¯åŠ¨java\n```bash\nnohup java -jar xxx.jar &\n```\n\nå…³é—­è¿›ç¨‹\n```bash\nkill -9 è¿›ç¨‹å· \n```\n\næŸ¥çœ‹è¿›ç¨‹å·\n```bash\nps -ef | grep java\n```\n\nåˆ›å»ºæ–‡ä»¶\n```bash\ntouch xxx\n```\n\nåˆ›å»ºç›®å½•\n```bash\nmkdir xxx\n```\n\nè½¯ç¡¬è¿æ¥\n#è½¯è¿æ¥\n```bash\nln -sf target source #å¼ºåˆ¶æ‰§è¡Œ\n```\n\n#ç¡¬è¿æ¥\n```bash\nln target source\n```\n\næŸ¥æ‰¾\n```bash\nfind -name *xxx* #æŸ¥æ‰¾xxxåå­—çš„æ–‡ä»¶\nfind /path -xx xxx #åœ¨/pathç›®å½•ä¸‹æŸ¥æ‰¾xxxåå­—çš„æ–‡ä»¶\n```\n\nè¾“å‡ºé‡å®šå‘\n```bash\necho xxx | grep xxx #grepä¸ºç®¡é“å‘½ä»¤ è¿æ¥ |å‰é¢å‘½ä»¤è¾“å‡ºçš„å†…å®¹\n```\n\næŸ¥çœ‹\n```bash\ncat\ntop #æŸ¥çœ‹ç¡¬ä»¶å ç”¨æƒ…å†µ\n```\n# Vim\n```bash\nvimç¼–è¾‘\n1.vimæ’¤é”€æ“ä½œ\nå°†vimè°ƒæ•´åˆ°å‘½ä»¤æ¨¡å¼\né”®å…¥å°å†™u\n2.æ¢å¤æ’¤é”€æ“ä½œ\nå°†vimè°ƒæ•´åˆ°å‘½ä»¤æ¨¡å¼\né”®å…¥Ctrl + r\n3.å‡ºç°vimæ„å¤–é€€å‡ºæ—¶\nls -aæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶\nrm -f åˆ é™¤swapæ–‡ä»¶\n4.å¤åˆ¶è¯¥æ–‡ä»¶ä¸­çš„ç¬¬2ã€3è¡Œå†…å®¹ï¼Œå¹¶å°†æ‰€å¤åˆ¶å†…å®¹ç²˜è´´åœ¨æœ€å\nâ€¢  æŒ‰â€œESCâ€ä»æ’å…¥æ¨¡å¼é€€å›åˆ°æ™®é€šæ¨¡å¼ï¼›\nâ€¢  å°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬2è¡Œï¼Œè¾“å…¥å¿«æ·å‘½ä»¤â€œ2yyâ€ï¼Œè¡¨ç¤ºå¤åˆ¶ä»å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œå¼€å§‹çš„2è¡Œï¼›\nâ€¢  ç„¶åå°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬3è¡Œï¼Œè¾“å…¥å¿«æ·å‘½ä»¤â€œpâ€ï¼Œè¡¨ç¤ºå°†åˆšæ‰å¤åˆ¶çš„å†…å®¹ç²˜è´´åœ¨å½“å‰è¡Œåé¢\n5. åˆ é™¤ç¬¬1è¡Œå†…å®¹ï¼Œé€€å‡ºä½†ä¸å­˜ç›˜ï¼Œç„¶åé‡æ–°ä½¿ç”¨vimæ‰“å¼€vimfileæ–‡ä»¶\nâ€¢  åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼Œè¾“å…¥å¿«æ·ç§»åŠ¨å‘½ä»¤â€œggâ€ï¼Œå°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œï¼Œç„¶åè¾“å…¥å¿«æ·å‘½ä»¤â€œddâ€è¡¨ç¤ºåˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œï¼›\nâ€¢  æŒ‰â€œï¼šâ€è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥q!å‘½ä»¤ï¼Œè¡¨ç¤ºå¼ºåˆ¶é€€å‡ºvimç¼–è¾‘ï¼Œå¿½ç•¥æ‰€åšçš„ä¿®æ”¹ï¼Œå³ä¸å­˜ç›˜é€€å‡ºï¼›\n\n6.å°†æ–‡ä»¶å¦å­˜ä¸º/home/vimbakï¼Œåˆ é™¤ç¬¬1è¡Œåæ‰€æœ‰è¡Œï¼Œä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºï¼Œæ¯”è¾ƒvimfileå’Œvimbakæ–‡ä»¶å†…å®¹çš„ä¸åŒ\nâ€¢ è¾“å…¥â€œï¼šâ€è¿›å…¥åˆ°å‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥å‘½ä»¤w /home/vimbakï¼Œå³å°†å½“å‰å†…å®¹å†™å…¥åˆ°æ–‡ä»¶/home/vimbakä¸­ï¼Œè¯¥å‘½ä»¤å¯ä»¥ç”¨äºå¯¹å½“å‰å†…å®¹åšå¤‡ä»½ï¼›\nâ€¢ åœ¨æ™®é€šæ¨¡å¼ä¸‹å°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬2è¡Œï¼Œè¾“å…¥å¿«æ·å‘½ä»¤â€œ4ddâ€è¡¨ç¤ºåˆ é™¤ä»å½“å‰è¡Œå¼€å§‹çš„4è¡Œï¼›\nâ€¢ è¾“å…¥â€œï¼šâ€è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥å‘½ä»¤wqï¼Œå­˜ç›˜é€€å‡ºã€‚\n\n7.åˆ é™¤ã€å¤åˆ¶\nåˆ é™¤ï¼š\nå…¨éƒ¨åˆ é™¤ï¼šæŒ‰escåï¼Œç„¶ådG\né€‰ä¸­å†…å®¹ååˆ é™¤ï¼šd  åˆ é™¤é€‰ä¸­å†…å®¹ \nåˆ é™¤å…‰æ ‡æŒ‡å‘çš„è¡Œï¼šdd\nå¤åˆ¶ï¼š\nå¤åˆ¶å¤šè¡Œ æ–¹æ³•1ï¼š\nï¼ˆ1ï¼‰å°†å…‰æ ‡ç§»åŠ¨åˆ°è¦å¤åˆ¶çš„æ–‡æœ¬å¼€å§‹çš„åœ°æ–¹ï¼ŒæŒ‰vè¿›å…¥å¯è§†æ¨¡å¼ã€‚\nï¼ˆ2ï¼‰å°†å…‰æ ‡ç§»åŠ¨åˆ°è¦å¤åˆ¶çš„æ–‡æœ¬çš„ç»“æŸçš„åœ°æ–¹ï¼ŒæŒ‰yå¤åˆ¶ã€‚æ­¤æ—¶vimä¼šè‡ªåŠ¨å°†å…‰æ ‡å®šä½åˆ°é€‰ä¸­æ–‡æœ¬çš„å¼€å§‹çš„åœ°æ–¹ï¼Œå¹¶é€€å‡ºå¯è§†æ¨¡å¼ã€‚\nï¼ˆ4ï¼‰æˆ‘ç§»åŠ¨å…‰æ ‡åˆ°æ–‡æœ¬ç»“æŸçš„åœ°æ–¹ï¼ŒæŒ‰pç²˜è´´\n\nå¤åˆ¶å¤šè¡Œ æ–¹æ³•2ï¼š\n:9ï¼Œ15 copy 16 è¡¨ç¤ºå¤åˆ¶9ï½15è¡Œå†…å®¹ï¼Œå¹¶å°†å¤åˆ¶å¥½çš„å†…å®¹æ”¾ç½®åˆ°16è¡Œ\n\né€‰ä¸­å†…å®¹åå¤åˆ¶ï¼šy  å¤åˆ¶é€‰ä¸­å†…å®¹åˆ°0å·å¯„å­˜å™¨ \n+y  å¤åˆ¶é€‰ä¸­å†…å®¹åˆ°ï¼‹å¯„å­˜å™¨ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿçš„å‰ªè´´æ¿ï¼Œä¾›å…¶ä»–ç¨‹åºç”¨\n\n8ã€‚ä¸ä¿å­˜é€€å‡º\nï¼šq!\n```\n\n# Linuxåˆ›å»ºè„šæœ¬æ­¥éª¤\n```bash\nç¬¬ä¸€æ­¥ï¼šåˆ›å»ºè„šæœ¬\ntouch hello.sh\nç¬¬äºŒæ­¥ï¼šç¼–è¾‘è„šæœ¬\nvi hello.sh\nè¾“å…¥ï¼šç¬¬ä¸€è¡Œä¸å˜ åå‡ è¡Œæ ¹æ®éœ€è¦ç¼–å†™\n#!/bin/bash\necho â€œhello è„šæœ¬â€\nç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡\npwdæŸ¥çœ‹ å°†ç›®å½•æ‰€åœ¨çš„é…ç½®åˆ°PATH:åé¢\nexport PATH=$PATH: /XX/XX/XX\nç¬¬å››æ­¥ï¼šä¿®æ”¹è„šæœ¬æƒé™\nchmod 755 hello.sh\nç¬¬äº”æ­¥ï¼šæ‰§è¡Œè„šæœ¬\nhell0.sh\næˆ–è€…./hello.sh(æœ‰æƒé™çš„æƒ…å†µ)\næˆ–è€… sh hello.sh\n\nä¿®å¤ç¯å¢ƒå˜é‡PATHçš„æ–¹æ³•\nä¿®å¤PATHå˜é‡çš„æ–¹æ³•ã€‚ä¿®å¤PATHå˜é‡å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯é‡æ–°ç»™PATHå˜é‡èµ‹å€¼å°±å¯ä»¥äº†ã€‚è‡³äºPATHçš„é»˜è®¤å€¼å¯ä»¥ä»å…¶ä»–çš„æœåŠ¡å™¨ä¸Šå¤åˆ¶è¿‡æ¥ã€‚\nä½¿ç”¨\"echo $PATH\"å‘½ä»¤å°±å¯ä»¥æŸ¥çœ‹å½“å‰æœåŠ¡å™¨çš„PATHå˜é‡å€¼ï¼Œåœ¨æ­£å¸¸çš„æœåŠ¡å™¨ä¸Šè¿è¡Œå‘½ä»¤å¹¶å¤åˆ¶è¾“å‡ºçš„ç»“æœï¼Œç„¶åç”¨\"export PATH\"å‘½ä»¤é‡æ–°ç»™PATHå‘½ä»¤èµ‹å€¼å°±å¯ä»¥äº†ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š\n\"export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\"\n```\n\n\n# ç”¨æˆ·\n```bash\n1ã€ç”¨æˆ·åˆ›å»ºåŠåˆ é™¤\nä¸€ã€useradd -m +ç”¨æˆ·åï¼Œå°†åœ¨/homeç›®å½•ä¸‹åˆ›å»ºåŒåæ–‡ä»¶å¤¹\nuseradd -m roberta\näºŒã€åˆ©ç”¨ï¼ˆ passwd + ç”¨æˆ·åï¼‰ä¸ºæŒ‡å®šçš„ç”¨æˆ·åè®¾ç½®å¯†ç ã€‚\npasswd roberta\nä¸‰ã€ç™»é™†æŒ‡å®šç”¨æˆ·\nsu roberta\nå››ã€åˆ é™¤ç”¨æˆ·ï¼Œå‘½ä»¤ï¼šuserdel ç”¨æˆ·åã€‚è‹¥æƒ³å°†å®ƒåœ¨ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ä¹Ÿåˆ é™¤æ‰ï¼Œä½¿ç”¨å‘½ä»¤ï¼šuserdel -r ç”¨æˆ·å\nuserdel -r roberta\n```\n\n# å˜é‡\n```bash\nåˆ›å»ºå˜é‡\nmyVar=\"xxx\"\n#æ˜¾ç¤ºå˜é‡\necho $myVar\nå¦‚æœå˜é‡çš„å€¼ä¸­åŒ…å«äº†ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦å·ï¼Œé‚£ä¹ˆå˜é‡çš„å€¼è¦ç”¨\"(åŒå¼•å·)æˆ–\'(å•å¼•å·)æ‹¬èµ·æ¥ã€‚\nmyVar=\' we \'\necho $myVar\n\nä½¿ç”¨${å˜é‡å:å¼€å§‹ä½ç½®:é•¿åº¦}å¯ä»¥è·å¾—å˜é‡ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ã€‚\n\nåˆ é™¤Shellå˜é‡\nunset myVar\nå˜é‡å€¼çš„æ¡ä»¶æ›¿æ¢\n${å˜é‡å-é»˜è®¤å€¼}ï¼šå½“å˜é‡æœªå®šä¹‰æ—¶ï¼Œè¿”å›é»˜è®¤å€¼ã€‚\n echo ${myVar-\"å˜é‡æœªå®šä¹‰\"}\n å˜é‡æœªå®šä¹‰\n \n ${å˜é‡å:-é»˜è®¤å€¼}ï¼šå½“å˜é‡æœªå®šä¹‰æˆ–ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨é»˜è®¤å€¼ã€‚\n \n ${å˜é‡å+é»˜è®¤å€¼}ï¼šå½“å˜é‡å·²èµ‹å€¼(åŒ…å«ç©ºå­—ç¬¦ä¸²)æ—¶ï¼Œè¿”å›é»˜è®¤å€¼ã€‚\n \n ${å˜é‡å:+é»˜è®¤å€¼}ï¼šå½“å˜é‡å·²èµ‹å€¼éç©ºå€¼æ—¶ï¼Œè¿”å›é»˜è®¤å€¼ã€‚\n \n ${å˜é‡å=é»˜è®¤å€¼}ï¼šå½“å˜é‡æœªå®šä¹‰æ—¶ï¼Œè¿”å›å¹¶è®¾ç½®å˜é‡ä¸ºé»˜è®¤å€¼ã€‚\nè·å–å½“å‰æ—¶é—´\ndate \"+%Y-%m-%d_%H:%M:%S\"\nlinux$åè¾¹æ‹¬å·è¡¨ç¤º\nå°æ‹¬å·é‡Œé¢æ˜¯linuxå‘½ä»¤\n\næ¯”å¦‚Â  Â cat $(pwd) > aaa ç­‰ä»·äº cat `pwd` > aaaÂ Â \n\n$()ï¼šè¿™ä¸ªå°æ‹¬å·é‡Œæ”¾çš„æ˜¯å‘½ä»¤ï¼Œå’Œ``åå¼•å·ä½œç”¨ä¸€æ ·ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤\n\n${}ï¼šè¿™é‡Œé¢æ”¾çš„æ˜¯å˜é‡ï¼Œç”¨æ¥å¼•ç”¨çš„\n\n$( )ä¸­æ”¾çš„æ˜¯å‘½ä»¤ï¼Œç›¸å½“äº` `ï¼Œä¾‹å¦‚todaydate=$(date +%Y%m%d) æ„æ€æ˜¯æ‰§è¡Œdateå‘½ä»¤ï¼Œè¿”å›æ‰§è¡Œç»“æœç»™å˜é‡todaydateï¼Œä¹Ÿå¯ä»¥å†™ä¸ºtodaydate=`date +%Y%m%d`ï¼›\n\n${ }ä¸­æ”¾çš„æ˜¯å˜é‡ï¼Œä¾‹å¦‚echo ${PATH}å–PATHå˜é‡çš„å€¼å¹¶æ‰“å°ï¼Œä¹Ÿå¯ä»¥ä¸åŠ æ‹¬å·æ¯”å¦‚$PATHã€‚\n\n```\n\n# linuxä¸­ï¼Œ&å’Œ&&,|å’Œ||\nåœ¨linuxä¸­ï¼Œ&å’Œ&&,|å’Œ||ä»‹ç»å¦‚ä¸‹ï¼š\n& Â è¡¨ç¤ºä»»åŠ¡åœ¨åå°æ‰§è¡Œï¼Œå¦‚è¦åœ¨åå°è¿è¡Œredis-server,åˆ™æœ‰Â Â redis-server &\n&& è¡¨ç¤ºå‰ä¸€æ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæ‰æ‰§è¡Œåä¸€æ¡å‘½ä»¤ ï¼Œå¦‚ echo \'1â€˜ && echo \'2\' Â Â Â \n| è¡¨ç¤ºç®¡é“ï¼Œä¸Šä¸€æ¡å‘½ä»¤çš„è¾“å‡ºï¼Œä½œä¸ºä¸‹ä¸€æ¡å‘½ä»¤å‚æ•°ï¼Œå¦‚ echo \'yes\' | wc -l\n|| è¡¨ç¤ºä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥åï¼Œæ‰æ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤ï¼Œå¦‚ cat nofile || echo \"fail\"\né˜²ç«å¢™\nå¯åŠ¨\n```bash\nsystemctl start firewalld\n```\n\næ”¾è¡Œç«¯å£\nä¾‹å¦‚æ”¾è¡Œ3306ç«¯å£\n```bash\nfirewall-cmd --zone=public --add-port=3306/tcp --permanent\n```\n\næŸ¥çœ‹ç«¯å£\n```bash\nfirewall-cmd --list-all\n```\n\n# ç£ç›˜ç®¡ç†\n```bash\ndf ï¼ˆåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿæ•´ä½“çš„ç£ç›˜ä½¿ç”¨é‡ï¼‰duï¼ˆæ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡ï¼‰\ndf -h #æ˜¾ç¤ºM\n```\n\n', 0, '2022-09-06 00:28:58', '2022-10-21 20:01:00', 0, 120, 6, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/06/7998e485e3824e6bac77d32a92c4a37f.jpg', 7);
INSERT INTO `t_blog` VALUES (227, 'Hadoopå­¦ä¹ ', '2022å¹´9æœˆ6æ—¥(ç¬¬ä¸€èŠ‚è¯¾hadoop)', '\n\n## ä¸‰æ¬¡ä¿¡æ¯åŒ–æµªæ½®\n\nç¬¬ä¸‰æ¬¡ä¿¡æ¯åŒ–æµªæ½®æ¶ŒåŠ¨ï¼Œå¤§æ•°æ®æ—¶ä»£å…¨é¢å¼€å¯ã€‚äººç±»ç¤¾ä¼šä¿¡æ¯ç§‘æŠ€çš„å‘å±•ä¸ºå¤§æ•°æ®æ—¶ä»£çš„åˆ°æ¥æä¾›äº†æŠ€æœ¯æ”¯æ’‘ï¼Œè€Œæ•°æ®äº§ç”Ÿæ–¹å¼çš„å˜é©æ˜¯ä¿ƒè¿›å¤§æ•°æ®æ—¶ä»£åˆ°æ¥è‡³å…³é‡è¦çš„å› ç´ ã€‚\n\n### 1 ç¬¬ä¸‰æ¬¡ä¿¡æ¯åŒ–æµªæ½®\n\n æ ¹æ®IBMå‰é¦–å¸­æ‰§è¡Œå®˜éƒ­å£«çº³çš„è§‚ç‚¹ï¼ŒITé¢†åŸŸæ¯éš”15å¹´å°±ä¼šè¿æ¥ä¸€æ¬¡é‡å¤§å˜é©ï¼ˆè§è¡¨1-1ï¼‰ã€‚1980å¹´å‰åï¼Œä¸ªäººè®¡ç®—æœºï¼ˆPCï¼‰å¼€å§‹æ™®åŠï¼Œä½¿å¾—è®¡ç®—æœºèµ°å…¥ä¼ä¸šå’Œåƒå®¶ä¸‡æˆ·ï¼Œå¤§å¤§æé«˜äº†ç¤¾ä¼šç”Ÿäº§åŠ›ï¼Œä¹Ÿä½¿äººç±»è¿æ¥äº†ç¬¬ä¸€æ¬¡ä¿¡æ¯åŒ–æµªæ½®ï¼ŒIntelã€IBMã€è‹¹æœã€å¾®è½¯ã€è”æƒ³ç­‰ä¼ä¸šæ˜¯è¿™ä¸ªæ—¶æœŸçš„æ ‡å¿—ã€‚éšåï¼Œåœ¨1995å¹´å‰åï¼Œäººç±»å¼€å§‹å…¨é¢è¿›å…¥äº’è”ç½‘æ—¶ä»£ï¼Œäº’è”ç½‘çš„æ™®åŠæŠŠä¸–ç•Œå˜æˆâ€œåœ°çƒæ‘â€ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥è‡ªç”±å¾œå¾‰äºä¿¡æ¯çš„æµ·æ´‹ï¼Œç”±æ­¤ï¼Œäººç±»è¿æ¥äº†ç¬¬äºŒæ¬¡ä¿¡æ¯åŒ–æµªæ½®ï¼Œè¿™ä¸ªæ—¶æœŸä¹Ÿç¼”é€ äº†é›…è™ã€è°·æ­Œã€é˜¿é‡Œå·´å·´ã€ç™¾åº¦ç­‰äº’è”ç½‘å·¨å¤´ã€‚æ—¶éš”15å¹´ï¼Œåœ¨2010å¹´å‰åï¼Œäº‘è®¡ç®—ã€å¤§æ•°æ®ã€ç‰©è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œæ‹‰å¼€äº†ç¬¬ä¸‰æ¬¡ä¿¡æ¯åŒ–æµªæ½®çš„å¤§å¹•ï¼Œå¤§æ•°æ®æ—¶ä»£å·²ç»åˆ°æ¥ï¼Œä¹Ÿå¿…å°†æ¶Œç°å‡ºä¸€æ‰¹æ–°çš„å¸‚åœºæ ‡æ†ä¼ä¸šã€‚\n\nâ€‹              è¡¨1-1ã€€ä¸‰æ¬¡ä¿¡æ¯åŒ–æµªæ½®![img](https://p.ananas.chaoxing.com/star3/origin/03bcf8102bed601a8048402ac1bacd1d.png)\n\n**1ã€ ä¿¡æ¯ç§‘æŠ€ä¸ºå¤§æ•°æ®æ—¶ä»£æä¾›æŠ€æœ¯æ”¯æ’‘**\n\n ä¿¡æ¯ç§‘æŠ€éœ€è¦è§£å†³ä¿¡æ¯å­˜å‚¨ã€ä¿¡æ¯ä¼ è¾“å’Œä¿¡æ¯å¤„ç†3ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œäººç±»ç¤¾ä¼šåœ¨ä¿¡æ¯ç§‘æŠ€é¢†åŸŸçš„ä¸æ–­è¿›æ­¥ï¼Œä¸ºå¤§æ•°æ®æ—¶ä»£çš„åˆ°æ¥æä¾›äº†æŠ€æœ¯æ”¯æ’‘ã€‚\n\n**ï¼ˆ1ï¼‰å­˜å‚¨è®¾å¤‡å®¹é‡ä¸æ–­å¢åŠ **\n\næ•°æ®è¢«å­˜å‚¨åœ¨ç£ç›˜ã€ç£å¸¦ã€å…‰ç›˜ã€é—ªå­˜ç­‰å„ç§ç±»å‹çš„å­˜å‚¨ä»‹è´¨ä¸­ï¼Œéšç€ç§‘å­¦æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œå­˜å‚¨è®¾å¤‡çš„åˆ¶é€ å·¥è‰ºä¸æ–­å‡çº§ï¼Œå®¹é‡å¤§å¹…å¢åŠ ï¼Œé€Ÿåº¦ä¸æ–­æå‡ï¼Œä»·æ ¼å´åœ¨ä¸æ–­ä¸‹é™ï¼ˆè§å›¾1-1ï¼‰ã€‚\n\n![img](https://p.ananas.chaoxing.com/star3/origin/e142c6b02b273b54e7ea5a75eabad044.png)\n\næ—©æœŸçš„å­˜å‚¨è®¾å¤‡å®¹é‡å°ã€ä»·æ ¼é«˜ã€ä½“ç§¯å¤§ï¼Œä¾‹å¦‚ï¼ŒIBMåœ¨1956å¹´ç”Ÿäº§çš„ä¸€ä¸ªæ—©æœŸçš„å•†ä¸šç¡¬ç›˜ï¼Œå®¹é‡åªæœ‰5MBï¼Œä¸ä»…ä»·æ ¼æ˜‚è´µï¼Œè€Œä¸”ä½“ç§¯æœ‰ä¸€ä¸ªå†°ç®±é‚£ä¹ˆå¤§ã€‚ç›¸åï¼Œä»Šå¤©å®¹é‡ä¸º1TBçš„ç¡¬ç›˜ï¼Œå¤§å°åªæœ‰3.5è‹±å¯¸ï¼ˆçº¦8.89cmï¼‰ï¼Œè¯»å†™é€Ÿåº¦è¾¾åˆ°200MB/sï¼Œä»·æ ¼ä»…ä¸º400å…ƒå·¦å³ã€‚å»‰ä»·ã€é«˜æ€§èƒ½çš„ç¡¬ç›˜å­˜å‚¨è®¾å¤‡ï¼Œä¸ä»…æä¾›äº†æµ·é‡çš„å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶å¤§å¤§é™ä½äº†æ•°æ®å­˜å‚¨æˆæœ¬ã€‚\n\nä¸æ­¤åŒæ—¶ï¼Œä»¥é—ªå­˜ä¸ºä»£è¡¨çš„æ–°å‹å­˜å‚¨ä»‹è´¨ä¹Ÿå¼€å§‹å¾—åˆ°å¤§è§„æ¨¡çš„æ™®åŠå’Œåº”ç”¨ã€‚é—ªå­˜æ˜¯ä¸€ç§æ–°å…´çš„åŠå¯¼ä½“å­˜å‚¨å™¨ï¼Œä»1989å¹´è¯ç”Ÿç¬¬ä¸€æ¬¾é—ªå­˜äº§å“å¼€å§‹ï¼Œé—ªå­˜æŠ€æœ¯ä¸æ–­è·å¾—æ–°çš„çªç ´ï¼Œå¹¶é€æ¸åœ¨è®¡ç®—æœºå­˜å‚¨äº§å“å¸‚åœºä¸­ç¡®ç«‹äº†è‡ªå·±çš„é‡è¦åœ°ä½ã€‚é—ªå­˜æ˜¯ä¸€ç§éæ˜“å¤±æ€§å­˜å‚¨å™¨ï¼Œå³ä½¿å‘ç”Ÿæ–­ç”µä¹Ÿä¸ä¼šä¸¢å¤±æ•°æ®ï¼›å› æ­¤ï¼Œå¯ä»¥ä½œä¸ºæ°¸ä¹…æ€§å­˜å‚¨è®¾å¤‡ï¼Œå®ƒå…·æœ‰ä½“ç§¯å°ã€è´¨é‡è½»ã€èƒ½è€—ä½ã€æŠ—æŒ¯æ€§å¥½ç­‰ä¼˜è‰¯ç‰¹æ€§ã€‚\n\n é—ªå­˜èŠ¯ç‰‡å¯ä»¥è¢«å°è£…åˆ¶ä½œæˆSDå¡ã€Uç›˜å’Œå›ºæ€ç›˜ç­‰å„ç§å­˜å‚¨äº§å“ï¼ŒSDå¡å’ŒUç›˜ä¸»è¦ç”¨äºä¸ªäººæ•°æ®å­˜å‚¨ï¼Œå›ºæ€ç›˜åˆ™è¶Šæ¥è¶Šå¤šåœ°åº”ç”¨äºä¼ä¸šçº§æ•°æ®å­˜å‚¨ã€‚ä¸€ä¸ª 32GB çš„ SD å¡ï¼Œä½“ç§¯åªæœ‰24 mmÃ—32 mmÃ—2.1 mmï¼Œè´¨é‡åªæœ‰0.5gã€‚ä»¥å‰7 200 r/minçš„ç¡¬ç›˜ï¼Œä¸€ç§’é’Ÿè¯»å†™æ¬¡æ•°åªæœ‰100 IOPS ï¼ˆInput/Output Operations Per Secondï¼‰ï¼Œä¼ è¾“é€Ÿç‡åªæœ‰50 MB/sï¼Œè€Œç°åœ¨åŸºäºé—ªå­˜çš„å›ºæ€ç›˜ï¼Œæ¯ç§’é’Ÿè¯»å†™æ¬¡æ•°æœ‰å‡ ä¸‡ç”šè‡³æ›´é«˜çš„IOPSï¼Œè®¿é—®å»¶è¿Ÿåªæœ‰å‡ åå¾®ç§’ï¼Œå…è®¸æˆ‘ä»¬ä»¥æ›´å¿«çš„é€Ÿåº¦è¯»å†™æ•°æ®ã€‚\n\næ€»ä½“è€Œè¨€ï¼Œæ•°æ®é‡å’Œå­˜å‚¨è®¾å¤‡å®¹é‡äºŒè€…ä¹‹é—´æ˜¯ç›¸è¾…ç›¸æˆã€äº’ç›¸ä¿ƒè¿›çš„ã€‚ä¸€æ–¹é¢ï¼Œéšç€æ•°æ®çš„ä¸æ–­äº§ç”Ÿï¼Œéœ€è¦å­˜å‚¨çš„æ•°æ®é‡ä¸æ–­å¢åŠ ï¼Œå¯¹å­˜å‚¨è®¾å¤‡çš„å®¹é‡æå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼Œä¿ƒä½¿å­˜å‚¨è®¾å¤‡ç”Ÿäº§å•†åˆ¶é€ æ›´å¤§å®¹é‡çš„äº§å“æ»¡è¶³å¸‚åœºéœ€æ±‚ï¼›å¦ä¸€æ–¹é¢ï¼Œæ›´å¤§å®¹é‡çš„å­˜å‚¨è®¾å¤‡è¿›ä¸€æ­¥åŠ å¿«äº†æ•°æ®é‡å¢é•¿çš„é€Ÿåº¦ï¼Œåœ¨å­˜å‚¨è®¾å¤‡ä»·æ ¼é«˜ä¼çš„å¹´ä»£ï¼Œç”±äºè€ƒè™‘åˆ°æˆæœ¬é—®é¢˜ï¼Œä¸€äº›ä¸å¿…è¦æˆ–å½“å‰ä¸èƒ½æ˜æ˜¾ä½“ç°ä»·å€¼çš„æ•°æ®å¾€å¾€ä¼šè¢«ä¸¢å¼ƒã€‚ä½†æ˜¯ï¼Œéšç€å•ä½å­˜å‚¨ç©ºé—´ä»·æ ¼çš„ä¸æ–­é™ä½ï¼Œäººä»¬å¼€å§‹å€¾å‘äºæŠŠæ›´å¤šçš„æ•°æ®ä¿å­˜èµ·æ¥ï¼Œä»¥æœŸåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»å¯ä»¥ç”¨æ›´å…ˆè¿›çš„æ•°æ®åˆ†æå·¥å…·ä»ä¸­æŒ–æ˜ä»·å€¼ã€‚\n\n**ï¼ˆ2ï¼‰CPUå¤„ç†èƒ½åŠ›å¤§å¹…æå‡**\n\nCPUå¤„ç†é€Ÿåº¦çš„ä¸æ–­æå‡ä¹Ÿæ˜¯ä¿ƒä½¿æ•°æ®é‡ä¸æ–­å¢åŠ çš„é‡è¦å› ç´ ã€‚æ€§èƒ½ä¸æ–­æå‡çš„CPUï¼Œå¤§å¤§æé«˜äº†å¤„ç†æ•°æ®çš„èƒ½åŠ›ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´å¿«åœ°å¤„ç†ä¸æ–­ç´¯ç§¯çš„æµ·é‡æ•°æ®ã€‚ä»20ä¸–çºª80å¹´ä»£è‡³ä»Šï¼ŒCPUçš„åˆ¶é€ å·¥è‰ºä¸æ–­æå‡ï¼Œæ™¶ä½“ç®¡æ•°é‡ä¸æ–­å¢åŠ ï¼ˆè§å›¾1-3ï¼‰ï¼Œè¿è¡Œé¢‘ç‡ä¸æ–­æé«˜ï¼Œæ ¸å¿ƒï¼ˆCoreï¼‰æ•°é‡é€æ¸å¢å¤šï¼Œè€ŒåŒç­‰ä»·æ ¼æ‰€èƒ½è·å¾—çš„CPUå¤„ç†èƒ½åŠ›ä¹Ÿå‘ˆå‡ ä½•çº§æ•°ä¸Šå‡ã€‚åœ¨30å¤šå¹´é‡Œï¼ŒCPUçš„å¤„ç†é€Ÿåº¦å·²ç»ä»10 MHzæé«˜åˆ°3.6 GHzï¼Œåœ¨2013å¹´ä¹‹å‰çš„å¾ˆé•¿ä¸€æ®µæ—¶æœŸï¼ŒCPUå¤„ç†é€Ÿåº¦çš„å¢åŠ ä¸€ç›´éµå¾ªâ€œæ‘©å°”å®šå¾‹â€ï¼Œæ€§èƒ½æ¯éš”18ä¸ªæœˆæé«˜ä¸€å€ï¼Œä»·æ ¼ä¸‹é™ä¸€åŠã€‚\n\n![img](https://img-blog.csdnimg.cn/20200218141012311.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpbmppYXlpbmE=,size_16,color_FFFFFF,t_70)\n\n**ï¼ˆ3ï¼‰ç½‘ç»œå¸¦å®½ä¸æ–­å¢åŠ **\n\nç§»åŠ¨é€šä¿¡å®½å¸¦ç½‘ç»œè¿…é€Ÿå‘å±•ï¼Œ3Gç½‘ç»œåŸºæœ¬æ™®åŠï¼Œ4Gç½‘ç»œè¦†ç›–èŒƒå›´ä¸æ–­åŠ å¤§ï¼Œå„ç§ç»ˆç«¯è®¾å¤‡å¯ä»¥éšæ—¶éšåœ°ä¼ è¾“æ•°æ®ã€‚å¤§æ•°æ®æ—¶ä»£ï¼Œä¿¡æ¯ä¼ è¾“ä¸å†é­é‡ç½‘ç»œå‘å±•åˆæœŸçš„ç“¶é¢ˆå’Œåˆ¶çº¦ã€‚\n\n![img](https://p.ananas.chaoxing.com/star3/origin/ccb7ae2cf066bb51215767bfc80d8ed8.png)\n\n# å¤§æ•°æ®å‘å±•å†ç¨‹\n\n### 1 å¤§æ•°æ®çš„å‘å±•å†ç¨‹\n\n\n\n| é˜¶æ®µ                   | æ—¶é—´                   | å†…å®¹                                                         |\n| ---------------------- | ---------------------- | ------------------------------------------------------------ |\n| ç¬¬ä¸€é˜¶æ®µï¼šèŒèŠ½æœŸ       | 20ä¸–çºª90å¹´ä»£è‡³21ä¸–çºªåˆ | éšç€æ•°æ®æŒ–æ˜ç†è®ºå’Œæ•°æ®åº“æŠ€æœ¯çš„é€æ­¥æˆç†Ÿï¼Œä¸€æ‰¹å•†ä¸šæ™ºèƒ½å·¥å…·å’ŒçŸ¥è¯†ç®¡ç†æŠ€æœ¯å¼€å§‹è¢«åº”ç”¨ï¼Œå¦‚æ•°æ®ä»“åº“ã€ä¸“å®¶ç³»ç»Ÿã€çŸ¥è¯†ç®¡ç†æ–°ç³»ç»Ÿç­‰ |\n| ç¬¬äºŒé˜¶æ®µï¼šæˆç†ŸæœŸ       | 21ä¸–çºªå‰10å¹´           | Web2.0åº”ç”¨è¿…çŒ›å‘å±•ï¼Œéç»“æ„åŒ–æ•°æ®å¤§é‡äº§ç”Ÿï¼Œä¼ ç»Ÿå¤„ç†åŠæ³•éš¾ä»¥åº”å¯¹ï¼Œå¸¦åŠ¨äº†å¤§æ•°æ®æŠ€æœ¯çš„å¿«é€Ÿçªç ´ï¼Œå¤§æ•°æ®è§£å†³æ–¹æ¡ˆé€æ¸èµ°å‘æˆç†Ÿï¼Œå½¢æˆäº†å¹¶è¡Œè®¡ç®—ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸¤å¤§æ ¸å¿ƒæŠ€æœ¯ï¼Œè°·æ­Œçš„GFSå’ŒMap Reduceç­‰å¤§æ•°æ®æŠ€æœ¯å—åˆ°è¿½æ§ï¼ŒHadoopå¹³å°å¤§è¡Œå…¶é“ |\n| ç¬¬ä¸‰é˜¶æ®µï¼šå¤§è§„æ¨¡åº”ç”¨æœŸ | 2010å¹´ä»¥å             | å¤§æ•°æ®åº”ç”¨æ¸—é€å„è¡Œå„ä¸šï¼Œæ•°æ®é©±åŠ¨å†³ç­–ï¼Œä¿¡æ¯ç¤¾ä¼šæ™ºèƒ½åŒ–ç¨‹åº¦å¤§å¹…æé«˜ |\n\n# å¤§æ•°æ®çš„ç‰¹ç‚¹\n\nå¤§æ•°æ®çš„â€œ4Vâ€ï¼Œæˆ–è€…è¯´æ˜¯å¤§æ•°æ®çš„4ä¸ªç‰¹ç‚¹ï¼ŒåŒ…å«4ä¸ªå±‚é¢ï¼š\n\n**ï¼ˆ1ï¼‰æ•°æ®é‡å¤§ï¼ˆVolumeï¼‰**\n\nå¤§æ•°æ®æ‘©å°”å®šå¾‹ï¼šæ ¹æ®IDCä½œå‡ºçš„ä¼°æµ‹ï¼Œæ•°æ®ä¸€ç›´éƒ½åœ¨ä»¥æ¯å¹´50%çš„é€Ÿåº¦å¢é•¿ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸¤å¹´å°±å¢é•¿ä¸€å€ã€‚äººç±»åœ¨æœ€è¿‘ä¸¤å¹´äº§ç”Ÿçš„æ•°æ®é‡ç›¸å½“äºä¹‹å‰äº§ç”Ÿçš„å…¨éƒ¨æ•°æ®é‡ã€‚\n\n\n\næˆªè‡³ç›®å‰ï¼Œäººç±»ç”Ÿäº§çš„æ‰€æœ‰å°åˆ·ææ–™çš„æ•°æ®é‡æ˜¯200PBï¼Œè€Œå†å²ä¸Šå…¨äººç±»æ€»å…±è¯´è¿‡çš„è¯çš„æ•°æ®é‡å¤§çº¦æ˜¯35EBã€‚å½“å‰ï¼Œå…¸å‹ä¸ªäººè®¡ç®—æœºç¡¬ç›˜çš„å®¹é‡ä¸ºTBé‡çº§ï¼Œè€Œä¸€äº›å¤§ä¼ä¸šçš„æ•°æ®é‡å·²ç»æ¥è¿‘EBé‡çº§ã€‚\n\néç»“æ„åŒ–æ•°æ®çš„è¶…å¤§è§„æ¨¡å’Œå¢é•¿ï¼Œå¯¼è‡´æ•°æ®é›†åˆçš„è§„æ¨¡ä¸æ–­æ‰©å¤§ï¼Œæ•°æ®å•ä½å·²ä»GBåˆ°TBå†åˆ°PBçº§ï¼Œç”šè‡³å¼€å§‹ä»¥EBå’ŒZBæ¥è®¡æ•°ã€‚\n\n**ï¼ˆ2ï¼‰æ•°æ®ç±»å‹ç¹å¤šï¼ˆVarietyï¼‰**\n\nå¤§æ•°æ®çš„ç±»å‹ä¸ä»…åŒ…æ‹¬ç½‘ç»œæ—¥å¿—ã€éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ã€åœ°ç†ä½ç½®ä¿¡æ¯ç­‰ç»“æ„åŒ–æ•°æ®ï¼Œè¿˜åŒ…æ‹¬åŠç»“æ„åŒ–æ•°æ®ç”šè‡³æ˜¯éç»“æ„åŒ–æ•°æ®ï¼Œå…·æœ‰å¼‚æ„æ€§å’Œå¤šæ ·æ€§çš„ç‰¹ç‚¹ã€‚\n\n**ï¼ˆ3ï¼‰å¤„ç†é€Ÿåº¦å¿«ï¼ˆVelocityï¼‰**\n\nè¦æ±‚å¤§æ•°æ®çš„å¤„ç†é€Ÿåº¦å¿«ï¼Œæ—¶æ•ˆæ€§é«˜ï¼Œéœ€è¦å®æ—¶åˆ†æè€Œéæ‰¹é‡å¼åˆ†æï¼Œæ•°æ®çš„è¾“å…¥ã€å¤„ç†å’Œåˆ†æè¿è´¯æ€§åœ°å¤„ç†ã€‚\n\n **(4)  ä»·å€¼å¯†åº¦ä½ï¼ˆValue ï¼‰**\n\nå¤§æ•°æ®æœ¬èº«å­˜åœ¨è¾ƒå¤§çš„æ½œåœ¨ä»·å€¼ï¼Œä½†ç”±äºå¤§æ•°æ®çš„æ•°æ®é‡è¿‡å¤§ï¼Œå…¶ä»·å€¼å¾€å¾€å‘ˆç°ç¨€ç–æ€§çš„ç‰¹ç‚¹ã€‚è™½ç„¶å•ä½æ•°æ®çš„ä»·å€¼å¯†åº¦åœ¨ä¸æ–­é™ä½ï¼Œä½†æ˜¯æ•°æ®çš„æ•´ä½“ä»·å€¼åœ¨æé«˜ã€‚\n\n![img](https://img-blog.csdnimg.cn/img_convert/e62ede601d715a468a0121529111ca23.png)\n\n### 1 å¤§æ•°æ®å¯¹ç§‘å­¦ç ”ç©¶çš„å½±å“\n\n â‘  ç¬¬ä¸€ç§èŒƒå¼ï¼Œå®éªŒç§‘å­¦ï¼šåœ¨æœ€åˆçš„ç§‘å­¦ç ”ç©¶é˜¶æ®µï¼Œäººç±»é‡‡ç”¨å®éªŒæ¥è§£å†³ä¸€äº›ç§‘å­¦é—®é¢˜ã€‚\n\n â‘¡ç¬¬äºŒç§èŒƒå¼ï¼Œç†è®ºç§‘å­¦ï¼šå®éªŒç§‘å­¦çš„ç ”ç©¶ä¼šå—åˆ°å½“æ—¶å®éªŒæ¡ä»¶çš„é™åˆ¶ï¼Œéš¾ä»¥å®Œæˆå¯¹è‡ªç„¶ç°è±¡æ›´ç²¾ç¡®çš„ç†è§£ã€‚éšç€ç§‘å­¦çš„è¿›æ­¥ï¼Œäººç±»å¼€å§‹é‡‡ç”¨å„ç§æ•°å­¦ã€å‡ ä½•ã€ç‰©ç†ç­‰ç†è®ºï¼Œæ„å»ºé—®é¢˜æ¨¡å‹å’Œè§£å†³æ–¹æ¡ˆã€‚\n\nâ‘¢ç¬¬ä¸‰ç§èŒƒå¼ï¼Œè®¡ç®—ç§‘å­¦ï¼šéšç€1946å¹´äººç±»å†å²ä¸Šç¬¬ä¸€å°è®¡ç®—æœºENIACçš„è¯ç”Ÿï¼Œäººç±»ç¤¾ä¼šå¼€å§‹æ­¥å…¥è®¡ç®—æœºæ—¶ä»£ï¼Œç§‘å­¦ç ”ç©¶ä¹Ÿè¿›å…¥äº†ä¸€ä¸ªä»¥â€œè®¡ç®—â€ä¸ºä¸­å¿ƒçš„å…¨æ–°æ—¶æœŸã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè®¡ç®—ç§‘å­¦ä¸»è¦ç”¨äºå¯¹å„ä¸ªç§‘å­¦é—®é¢˜è¿›è¡Œè®¡ç®—æœºæ¨¡æ‹Ÿå’Œå…¶ä»–å½¢å¼çš„è®¡ç®—ã€‚é€šè¿‡è®¾è®¡ç®—æ³•å¹¶ç¼–å†™ç›¸åº”ç¨‹åºè¾“å…¥è®¡ç®—æœºè¿è¡Œï¼Œäººç±»å¯ä»¥å€ŸåŠ©äºè®¡ç®—æœºçš„é«˜é€Ÿè¿ç®—èƒ½åŠ›å»è§£å†³å„ç§é—®é¢˜ã€‚è®¡ç®—æœºå…·æœ‰å­˜å‚¨å®¹é‡å¤§ã€è¿ç®—é€Ÿåº¦å¿«ã€ç²¾åº¦é«˜ã€å¯é‡å¤æ‰§è¡Œç­‰ç‰¹ç‚¹ï¼Œæ˜¯ç§‘å­¦ç ”ç©¶çš„åˆ©å™¨ï¼Œæ¨åŠ¨äº†äººç±»ç¤¾ä¼šçš„é£é€Ÿå‘å±•ã€‚ï¼ˆå…ˆæå‡ºå¯èƒ½çš„ç†è®ºï¼Œå†æœé›†æ•°æ®ï¼Œç„¶åé€šè¿‡è®¡ç®—æ¥éªŒè¯ï¼‰\n\n â‘£ç¬¬å››ç§èŒƒå¼ï¼Œæ•°æ®å¯†é›†å‹ç§‘å­¦ï¼šéšç€æ•°æ®çš„ä¸æ–­ç´¯ç§¯ï¼Œå…¶å®è´µä»·å€¼æ—¥ç›Šå¾—åˆ°ä½“ç°ï¼Œç‰©è”ç½‘å’Œäº‘è®¡ç®—çš„å‡ºç°ï¼Œæ›´æ˜¯ä¿ƒæˆäº†äº‹ç‰©å‘å±•ä»é‡å˜åˆ°è´¨å˜çš„è½¬å˜ï¼Œä½¿äººç±»ç¤¾ä¼šå¼€å¯äº†å…¨æ–°çš„å¤§æ•°æ®æ—¶ä»£ã€‚è¿™æ—¶ï¼Œè®¡ç®—æœºå°†ä¸ä»…ä»…èƒ½åšåˆ°æ¨¡æ‹Ÿä»¿çœŸï¼Œè¿˜èƒ½è¿›è¡Œåˆ†ææ€»ç»“ï¼Œå¾—åˆ°ç†è®ºã€‚åœ¨å¤§æ•°æ®ç¯å¢ƒä¸‹ï¼Œä¸€åˆ‡å°†ä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œä»æ•°æ®ä¸­å‘ç°é—®é¢˜ã€è§£å†³é—®é¢˜ï¼ŒçœŸæ­£ä½“ç°æ•°æ®çš„ä»·å€¼ã€‚å¤§æ•°æ®å°†æˆä¸ºç§‘å­¦å·¥ä½œè€…çš„å®è—ï¼Œä»æ•°æ®ä¸­å¯ä»¥æŒ–æ˜æœªçŸ¥æ¨¡å¼å’Œæœ‰ä»·å€¼çš„ä¿¡æ¯ï¼ŒæœåŠ¡äºç”Ÿäº§å’Œç”Ÿæ´»ï¼Œæ¨åŠ¨ç§‘æŠ€åˆ›æ–°å’Œç¤¾ä¼šè¿›æ­¥ã€‚ï¼ˆå…ˆæœ‰äº†å¤§é‡å·²çŸ¥çš„æ•°æ®ï¼Œç„¶åé€šè¿‡è®¡ç®—å¾—å‡ºä¹‹å‰æœªçŸ¥çš„ç†è®ºï¼‰\n\n### 2 å¤§æ•°æ®å¯¹æ€ç»´æ–¹å¼çš„å½±å“\n\n â‘ å…¨æ ·è€ŒéæŠ½æ ·\n\n â‘¡æ•ˆç‡è€Œéç²¾ç¡®\n\n â‘¢ç›¸å…³è€Œéå› æœ\n\n### 3 å¤§æ•°æ®å¯¹ç¤¾ä¼šå‘å±•çš„å½±å“\n\n â‘ å¤§æ•°æ®å†³ç­–æˆä¸ºä¸€ç§æ–°çš„å†³ç­–æ–¹å¼\n\n â‘¡å¤§æ•°æ®åº”ç”¨ä¿ƒè¿›ä¿¡æ¯æŠ€æœ¯ä¸å„è¡Œä¸šçš„æ·±åº¦èåˆ\n\n â‘¢å¤§æ•°æ®å¼€å‘æ¨åŠ¨æ–°æŠ€æœ¯å’Œæ–°åº”ç”¨çš„ä¸æ–­æ¶Œç°\n\n### 4  å¤§æ•°æ®å¯¹å°±ä¸šå¸‚åœºçš„å½±å“\n\nå¤§æ•°æ®çš„å…´èµ·ä½¿å¾—æ•°æ®ç§‘å­¦å®¶æˆä¸ºçƒ­é—¨äººæ‰ã€‚\n\nå°½ç®¡æœ‰å°‘æ•°äººè®¤ä¸ºæœªæ¥æœ‰æ›´å¤šçš„æ•°æ®ä¼šé‡‡ç”¨è‡ªåŠ¨åŒ–å¤„ç†ï¼Œä¼šé€æ­¥é™ä½å¯¹æ•°æ®ç§‘å­¦å®¶çš„éœ€æ±‚ï¼Œä½†æ˜¯ä»ç„¶æœ‰æ›´å¤šçš„äººè®¤ä¸ºï¼Œéšç€æ•°æ®ç§‘å­¦å®¶ç»™ä¼ä¸šæ‰€å¸¦æ¥çš„å•†ä¸šä»·å€¼çš„æ—¥ç›Šä½“ç°ï¼Œå¸‚åœºå¯¹æ•°æ®ç§‘å­¦å®¶çš„éœ€æ±‚ä¼šè¶Šå‘æ—ºç››ã€‚\n\n### 5 å¤§æ•°æ®å¯¹äººæ‰åŸ¹å…»çš„å½±å“\n\nå¤§æ•°æ®çš„å…´èµ·å°†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ”¹å˜ä¸­å›½é«˜æ ¡ä¿¡æ¯æŠ€æœ¯ç›¸å…³ä¸“ä¸šçš„ç°æœ‰æ•™å­¦å’Œç§‘ç ”ä½“åˆ¶ã€‚ä¸€æ–¹é¢ï¼Œæ•°æ®ç§‘å­¦å®¶æ˜¯ä¸€ä¸ªéœ€è¦æŒæ¡ç»Ÿè®¡ã€æ•°å­¦ã€æœºå™¨å­¦ä¹ ã€å¯è§†åŒ–ã€ç¼–ç¨‹ç­‰å¤šæ–¹é¢çŸ¥è¯†çš„å¤åˆå‹äººæ‰ã€‚å¦ä¸€æ–¹é¢ï¼Œæ•°æ®ç§‘å­¦å®¶éœ€è¦å¤§æ•°æ®åº”ç”¨å®æˆ˜ç¯å¢ƒï¼Œåœ¨çœŸæ­£çš„å¤§æ•°æ®ç¯å¢ƒä¸­ä¸æ–­å­¦ä¹ ã€å®è·µå¹¶èä¼šè´¯é€šï¼Œå°†è‡ªèº«æŠ€æœ¯èƒŒæ™¯ä¸æ‰€åœ¨è¡Œä¸šä¸šåŠ¡éœ€æ±‚è¿›è¡Œæ·±åº¦èåˆï¼Œä»æ•°æ®ä¸­å‘ç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚\n\né«˜æ ¡åŸ¹å…»æ•°æ®ç§‘å­¦å®¶äººæ‰éœ€è¦é‡‡å–â€œä¸¤æ¡è…¿â€èµ°è·¯çš„ç­–ç•¥ï¼Œå³â€œå¼•è¿›æ¥â€å’Œâ€œèµ°å‡ºå»â€ã€‚æ‰€è°“â€œå¼•è¿›æ¥â€ï¼Œæ˜¯æŒ‡é«˜æ ¡è¦åŠ å¼ºä¸ä¼ä¸šçš„ç´§å¯†åˆä½œï¼Œä»ä¼ä¸šå¼•è¿›ç›¸å…³æ•°æ®ï¼Œä¸ºå­¦ç”Ÿæ­å»ºèµ·æ¥è¿‘ä¼ä¸šåº”ç”¨å®é™…çš„ã€ä»¿çœŸçš„å¤§æ•°æ®å®æˆ˜ç¯å¢ƒï¼Œè®©å­¦ç”Ÿæœ‰æœºä¼šç†è§£ä¼ä¸šä¸šåŠ¡éœ€æ±‚å’Œæ•°æ®å½¢å¼ï¼Œä¸ºå¼€å±•æ•°æ®åˆ†æå¥ å®šåŸºç¡€ï¼ŒåŒæ—¶ä»ä¼ä¸šå¼•è¿›å…·æœ‰ä¸°å¯Œå®æˆ˜ç»éªŒçš„é«˜çº§äººæ‰ï¼Œæ‰¿æ‹…èµ·æ•°æ®ç§‘å­¦å®¶ç›¸å…³è¯¾ç¨‹æ•™å­¦ä»»åŠ¡ï¼Œåˆ‡å®æé«˜æ•™å­¦è´¨é‡ã€æ°´å¹³å’Œå®ç”¨æ€§ã€‚æ‰€è°“â€œèµ°å‡ºå»â€ï¼Œæ˜¯æŒ‡ç§¯æé¼“åŠ±å’Œå¼•å¯¼å­¦ç”Ÿèµ°å‡ºæ ¡å›­ï¼Œè¿›å…¥äº’è”ç½‘ã€é‡‘èã€ç”µä¿¡ç­‰å…·å¤‡å¤§æ•°æ®åº”ç”¨ç¯å¢ƒçš„ä¼ä¸šå»å¼€å±•å®è·µæ´»åŠ¨ï¼ŒåŒæ—¶åŠªåŠ›åŠ å¼ºäº§ã€å­¦ã€ç ”åˆä½œï¼Œåˆ›é€ æ¡ä»¶è®©é«˜æ ¡æ•™å¸ˆå‚ä¸åˆ°ä¼ä¸šå¤§æ•°æ®é¡¹ç›®ä¸­ï¼Œå®ç°ç†è®ºçŸ¥è¯†ä¸å®é™…åº”ç”¨çš„æ·±å±‚æ¬¡èåˆï¼Œé”»ç‚¼é«˜æ ¡æ•™å¸ˆçš„å¤§æ•°æ®å®æˆ˜èƒ½åŠ›ï¼Œä¸ºæ›´å¥½åŸ¹å…»æ•°æ®ç§‘å­¦å®¶äººæ‰å¥ å®šåŸºç¡€ã€‚', 0, '2022-09-06 10:26:14', '2022-10-21 20:01:00', 0, 121, 9, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/06/6fa092e312eb4c98a6f93ab4aab9bcc0.jpg', 7);
INSERT INTO `t_blog` VALUES (228, 'æ³¨è§£å’Œåå°„', 'JAVAå­¦ä¹ ä¹‹æ³¨è§£å’Œåå°„', 'æ³¨è§£\nâ—†Annotationæ˜¯ä»JDK5.0å¼€å§‹å¼•å…¥çš„æ–°æŠ€æœ¯.\nâ—†Annotationçš„ä½œç”¨ :\nâ¢ä¸æ˜¯ç¨‹åºæœ¬èº«,å¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Š(è¿™- -ç‚¹å’Œæ³¨é‡Š(comment)æ²¡ä»€ä¹ˆåŒºåˆ«)\nâ¢å¯ä»¥è¢«å…¶ä»–ç¨‹åº(æ¯”å¦‚:ç¼–è¯‘å™¨ç­‰)è¯»å–.\nâ—†Annotationçš„æ ¼å¼:\nâ¢æ³¨è§£æ˜¯ä»¥\"@æ³¨é‡Šå\"åœ¨ä»£ç ä¸­å­˜åœ¨çš„, è¿˜å¯ä»¥æ·»åŠ ä¸€-äº›å‚æ•°å€¼, ä¾‹\nå¦‚:@SuppressWarnings(value=\"unchecked\").\nâ—†Annotationåœ¨å“ªé‡Œä½¿ç”¨?\nâ¢å¯ä»¥é™„åŠ åœ¨package , class , methodï¼Œfieldç­‰ä¸Šé¢,ç›¸å½“äºç»™ä»–ä»¬æ·»åŠ äº†é¢å¤–çš„è¾…åŠ©ä¿¡æ¯ï¼Œ\næˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç¼–ç¨‹å®ç°å¯¹è¿™äº›å…ƒæ•°æ®çš„è®¿é—®\nå†…ç½®æ³¨è§£\nâ¢@Override :å®šä¹‰åœ¨java.lang.Overrideä¸­,æ­¤æ³¨é‡Šåªé€‚ç”¨äºä¿®è¾æ–¹æ³•,è¡¨ç¤º-ä¸€ä¸ªæ–¹æ³•å£°æ˜æ‰“ç®—\né‡å†™è¶…ç±»ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•å£°æ˜.\nâ¢@Deprecated :å®šä¹‰åœ¨java.lang.Deprecatedä¸­,æ­¤æ³¨é‡Šå¯ä»¥ç”¨äºä¿®è¾æ–¹æ³•,å±æ€§,ç±»,è¡¨ç¤ºä¸\né¼“åŠ±ç¨‹åºå‘˜ä½¿ç”¨è¿™æ ·çš„å…ƒç´ ï¼Œé€šå¸¸æ˜¯å› ä¸ºå®ƒå¾ˆå±é™©æˆ–è€…å­˜åœ¨æ›´å¥½çš„é€‰æ‹©.\nâ¢@SuppressWarnings :å®šä¹‰åœ¨java.lang.SuppressWarningsä¸­ï¼Œç”¨æ¥æŠ‘åˆ¶ç¼–è¯‘æ—¶çš„è­¦å‘Šä¿¡æ¯.\n0ä¸å‰ä¸¤ä¸ªæ³¨é‡Šæœ‰æ‰€ä¸åŒ,ä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°æ‰èƒ½æ­£ç¡®ä½¿ç”¨ï¼Œè¿™äº›å‚æ•°éƒ½æ˜¯å·²ç»å®šä¹‰å¥½äº†çš„,\næˆ‘ä»¬é€‰æ‹©æ€§çš„ä½¿ç”¨å°±å¥½äº†.\nV @SuppressWarnings(\"ll\")\nV @SuppressWarnings(\"unchecked\")\nV @SuppressWarnings(value={\"unchecked\",\"deprecation\"})\nVç­‰ç­‰.....\nå…ƒæ³¨è§£\nâ—†å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£, Javaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta -annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥\næä¾›å¯¹å…¶ä»–annotationç±»å‹ä½œè¯´æ˜.\nâ—†>è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨java.lang .annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ°.( @Target , @Retentionï¼Œ\n@Documented , @Inherited )\nâ¢@Target:ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´(å³:è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹)\nâ¢@Retention :è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯,ç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ\nâ¢(SOURCE < CL _ASS < RUNTIME)\nâ¢@Document:è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­\nâ¢@Inherited: è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£\n//æµ‹è¯•å…ƒæ³¨è§£\n```java\npublic class Test02 {\n@MyAnnotation\npublic void test(){\n}\n}\n//å®šä¹‰ä¸€ä¸ªæ³¨è§£\n@Target(value = ElementType .METHOD)\n@interface MyAnnotation{\n}\n```\n\n\n è‡ªå®šä¹‰æ³¨è§£\nâ¢ä½¿ç”¨@interfaceè‡ªå®šä¹‰æ³¨è§£æ—¶,è‡ªåŠ¨ç»§æ‰¿äº†java.lang.annotation.Annotationæ¥å£\nâ¢åˆ†æ:\nV @ interfaceç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£,æ ¼å¼: public @ interfaceæ³¨è§£å{å®šä¹‰å†…å®¹}\nVå…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°.\nVæ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°.\nVè¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹(è¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹,Class , Stringï¼Œenum ).\nVå¯ä»¥é€šè¿‡defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼\nVå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜, -èˆ¬å‚æ•°åä¸ºvalue\nVæ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼,æˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶, ç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ï¼Œ0ä½œä¸ºé»˜è®¤å€¼.\n//è‡ªå®šä¹‰æ³¨è§£\n```java\npublic class Test03 {\n//æ³¨è§£å¯ä»¥æ˜¾ç¤ºèµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼ ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç»™æ³¨è§£èµ‹å€¼\n@MyAnnotation2(age = 18,name = \"å°åˆ˜\")\npublic void test(){}\n@MyAnnotation3 (\"liu\")\npublic void test2(){\n@Target({ElementType. TYPE,ElementType . METHOD})\n@Retention (Retent ionPolicy . RUNTIME)\n@interface MyAnnotation2{\n//æ³¨è§£çš„å‚æ•°:å‚æ•°ç±»å‹+å‚æ•°å();\nStr ing name() default \"\";\nint age();\nint id() default -1;// å¦‚æœé»˜è®¤å€¼ä¸º-1,ä»£è¡¨ä¸å­˜åœ¨.\nString[] schools() default {\"å¤§å­¦\" , \"æ¸…åå¤§å­¦\"};\n@Target({ElementType. TYPE,ElementType .METHOD})\n@Retention (RetentionPolicy . RUNTIME)\n@interface MyAnnotation3{\nString value();\n```\n\n\nåå°„\nâ¢Reflection (åå°„)æ˜¯Javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸå€Ÿ\nåŠ©äºReflection APIå–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠ\næ–¹æ³•ã€‚\nClass C = Class forName(\"java.lang.String\")\nâ¢åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡(ä¸€ ä¸ªç±»åªæœ‰\nä¸€ä¸ªClasså¯¹è±¡)ï¼Œ è¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹\nè±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€-é¢é•œå­ï¼Œ é€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥ï¼Œ\næˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸º:åå°„\næ­£å¸¸æ–¹å¼:\nå¼•å…¥ éœ€è¦çš„\"åŒ…ç±»â€åç§°â†’ é€šè¿‡newå®ä¾‹åŒ– â†’[å–å¾—å®ä¾‹åŒ–å¯¹è±¡\nåå°„æ–¹å¼:\nå®ä¾‹åŒ–å¯¹è±¡ â†’ getClass()æ–¹æ³• â†’ å¾—åˆ°å®Œæ•´çš„â€œåŒ…ç±»â€åç§°\n\nJavaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½\nâ¢åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»\nâ¢åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡\nâ¢åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•\nâ¢åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯\nâ¢åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•\nâ¢åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£\nâ¢ç”ŸæˆåŠ¨æ€ä»£ç†\nâ¢\n........\nä¼˜ç‚¹:\nâ¢å¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘,ä½“ç°å‡ºå¾ˆå¤§çš„çµæ´»æ€§\nç¼ºç‚¹:\nâ¢å¯¹æ€§èƒ½æœ‰å½±å“ã€‚ä½¿ç”¨åå°„åŸºæœ¬ä¸Šæ˜¯ä¸€-ç§è§£é‡Šæ“ä½œ,æˆ‘ä»¬å¯ä»¥å‘Šè¯‰JVM,æˆ‘ä»¬å¸Œæœ›\nåšä»€ä¹ˆå¹¶ä¸”å®ƒæ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è¿™ç±»æ“ä½œæ€»æ˜¯æ…¢äºç›´æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚\nClassç±»\nå¯¹è±¡ç…§é•œå­åå¯ä»¥å¾—åˆ°çš„ä¿¡æ¯:æŸä¸ªç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€æŸä¸ªç±»åˆ°åº•å®ç°äº†å“ªäº›æ¥å£\nå¯¹äºæ¯ä¸ªç±»è€Œè¨€ï¼ŒJREéƒ½ä¸ºå…¶ä¿ç•™ä¸€ä¸ªä¸å˜çš„Classç±»å‹çš„å¯¹è±¡ã€‚ä¸€ä¸ªClasså¯¹è±¡åŒ…å«äº†ç‰¹\nå®šæŸä¸ªç»“æ„(class/interface/enum/annotation/primitive type/void/])çš„æœ‰å…³ä¿¡æ¯ã€‚\nâ¢Class æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»\nâ¢Class å¯¹è±¡åªèƒ½ç”±ç³»ç»Ÿå»ºç«‹å¯¹è±¡è€Œ69116\nâ¢ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹\nâ¢ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶\nâ¢æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—è‡ªå·±æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆ\nâ¢é€šè¿‡Classå¯ä»¥å®Œæ•´åœ°å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„\nâ¢Classç±»æ˜¯Reflectionçš„æ ¹æºï¼Œ é’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„\nClasså¯¹è±¡\nå¸¸ç”¨æ–¹æ³•\n\n\nè·å–ç±»çš„æ–¹æ³•\na)è‹¥å·²çŸ¥å…·ä½“çš„ç±»ï¼Œé€šè¿‡ç±»çš„classå±æ€§è·å–,è¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜ã€‚\nClass clazz = Person.class;\nb)å·²çŸ¥æŸä¸ªç±»çš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„getClass()æ–¹æ³•è·å–Classå¯¹è±¡\nClass clazz = person.getClass();\nc) å·²çŸ¥ä¸€ä¸ªç±»çš„å…¨ç±»åï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å–,\nå¯èƒ½æŠ›å‡ºClassNotFoundException\nClass clazz = Class.forName(\"demo01 .Student\");\nd)å†…ç½®åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ç”¨ç±»å.Type\ne)è¿˜å¯ä»¥åˆ©ç”¨Classl oaderæˆ‘ä»¬ä¹‹åè®²è§£\næ¼”ç¤º\nå“ªäº›ç±»æœ‰classå¯¹è±¡\nâ¢class: å¤–éƒ¨ç±»ï¼Œæˆå‘˜(æˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»)ï¼Œå±€éƒ¨å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»ã€‚\nâ¢interface:æ¥å£\nâ¢[]:æ•°ç»„\nâ¢enum:æšä¸¾\nannotation:æ³¨è§£@interface\nâ¢primitive type: åŸºæœ¬æ•°æ®ç±»å‹\nâ¢\nvoid\nå†…å­˜åˆ†æ\n\n\nç±»åŠ è½½è¿‡ç¨‹\n\n\nç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£\nâ¢åŠ è½½:å°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„,\nç„¶åç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡.\nâ¢é“¾æ¥:å°†Javaç±»çš„_ äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMçš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹ã€‚\nâ¢éªŒè¯: ç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜\nâ¢å‡†å¤‡:æ­£å¼ä¸ºç±»å˜é‡(static) åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µ,è¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…ã€‚\nâ¢è§£æ:è™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨(å¸¸é‡å)æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨(åœ°å€)çš„è¿‡ç¨‹ã€‚\nâ¢åˆå§‹åŒ–:\nâ¢æ‰§è¡Œç±»æ„é€ å™¨<clinit> ()æ–¹æ³•çš„è¿‡ç¨‹ã€‚ç±»æ„é€ å™¨<clinit> ()æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€\nä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚(ç±»æ„é€ å™¨ æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€ å™¨)ã€‚\nâ¢å½“åˆå§‹åŒ–- -ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚\nâ¢è™šæ‹Ÿæœºä¼šä¿è¯- ä¸ªç±»çš„< clinit> ()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”å’ŒåŒæ­¥ã€‚\nä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–?\nâ¢ç±»çš„ä¸»åŠ¨å¼•ç”¨(- -å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–)\nâ¢å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»\nâ¢new- -ä¸ªç±»çš„å¯¹è±¡\nâ¢è°ƒç”¨ç±»çš„é™æ€æˆå‘˜(é™¤äº†finalå¸¸é‡)å’Œé™æ€æ–¹æ³•\nâ¢ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹ æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨\nâ¢å½“åˆå§‹åŒ–- -ä¸ªç±»,å¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»\nâ¢ç±»çš„è¢«åŠ¨å¼•ç”¨(ä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–)\nâ¢å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å¦‚:å½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼\nè‡´å­ç±»åˆå§‹åŒ–\nâ¢é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–\nâ¢å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–(å¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†)\nç±»åŠ è½½å™¨çš„ä½œç”¨\nâ¢ç±»åŠ è½½çš„ä½œç”¨:å°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶\næ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®\nå…¥å£ã€‚\nâ¢ç±»ç¼“å­˜:æ ‡å‡†çš„JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»ï¼Œä½†- -æ—¦æŸä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œå®ƒå°†ç»´\næŒåŠ è½½(ç¼“å­˜)ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡JVMåƒåœ¾å›æ”¶æœºåˆ¶å¯ä»¥å›æ”¶è¿™äº›Classå¯¹è±¡\n\n\n\n\nè·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„\né€šè¿‡åå°„è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„\nFieldã€Methodã€ Constructorã€ Superclassã€ Interfaceã€ Annotation\nâ¢å®ç°çš„å…¨éƒ¨æ¥å£\nv\nâ¢æ‰€ç»§æ‰¿çš„çˆ¶ç±»\nâ¢å…¨éƒ¨çš„æ„é€ å™¨\nâ¢å…¨éƒ¨çš„æ–¹æ³•\nâ¢å…¨éƒ¨çš„Field\nâ¢æ³¨è§£\nâ¢ã€‚ã€‚ã€‚\næœ‰äº†Classå¯¹è±¡ï¼Œèƒ½åšä»€ä¹ˆ?\nâ¢åˆ›å»ºç±»çš„å¯¹è±¡:è°ƒç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•\nâ¢1) ç±»å¿…é¡»æœ‰-ä¸ªæ— å‚æ•°çš„æ„é€ å™¨ã€‚\nâ¢2)ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿ\næ€è€ƒ?éš¾é“æ²¡æœ‰æ— å‚çš„æ„é€ å™¨å°±ä¸èƒ½åˆ›å»ºå¯¹è±¡äº†å—?åªè¦åœ¨æ“ä½œçš„æ—¶å€™æ˜ç¡®çš„è°ƒç”¨ç±»ä¸­çš„æ„é€ å™¨,\nå¹¶å°†å‚æ•°ä¼ é€’è¿›å»ä¹‹åï¼Œæ‰å¯ä»¥å®ä¾‹åŒ–æ“ä½œã€‚\nâ¢æ­¥éª¤å¦‚ä¸‹:\n1)é€šè¿‡Classç±»çš„getDeclaredConstructor(Class .. parameterTypes)å–å¾—æœ¬ç±»çš„æŒ‡å®šå½¢å‚ç±»å‹çš„æ„\né€ å™¨\n```java\n2)å‘æ„é€ å™¨çš„å½¢å‚ä¸­ä¼ é€’ä¸€ä¸€ä¸ªå¯¹è±¡æ•°ç»„è¿›å» ,é‡Œé¢åŒ…å«äº†æ„é€ å™¨ä¸­æ‰€éœ€çš„å„ä¸ªå‚æ•°ã€‚\n3)é€šè¿‡Constructorå®ä¾‹åŒ–å¯¹è±¡\n//é€šè¿‡åå°„è°ƒç”¨æ™®é€šæ–¹æ³•\nUser user3 = (User)c1. newInstance();\n//é€šè¿‡åå°„è·å–ä¸€ä¸ªæ–¹æ³•\nMethod setName = c1. getDeclaredMethod( name: \"setName\", Str ing. class);\n//invoke :æ¿€æ´»çš„æ„æ€\n// (å¯¹è±¡ï¼Œ\"æ–¹æ³•çš„å€¼\") \nsetName. invoke (user3, ..rgs.: \"xiaoliu\") ;\nSystem. out. pr intln(user3. getName());\n//é€šè¿‡åå°„æ“ä½œå±æ€§\nSystem. out. pr intln(\"88888888888888888888888\") ;\nUser user4 = (User )c1. newIns tance() ;\nField name = c1. getDeclaredField( name: \"namel\"\') ;\n//ä¸èƒ½ç›´æ¥æ“ä½œç§æœ‰å±æ€§ï¼Œæˆ‘ä»¬éœ€ è¦å…³é—­ç¨‹åºçš„å®‰å…¨æ£€æµ‹ï¼Œå±æ€§æˆ– è€…æ–¹æ³•çš„setAccessible(true)ã€‚\nname . setAccessible(true); //\nname . set(user4, \"xiaoliu2\");\nSystem.out. println(user4. getName());\n```\n\n\nåå°„æ“ä½œæ³›å‹\nâ¢Javaé‡‡ç”¨æ³›å‹æ“¦é™¤çš„æœºåˆ¶æ¥å¼•å…¥æ³›å‹, Javaä¸­çš„æ³›å‹ä»…ä»…æ˜¯ç»™ç¼–è¯‘å™¨javacä½¿ç”¨çš„,ç¡®ä¿æ•°æ®\nçš„å®‰å…¨æ€§å’Œå…å»å¼ºåˆ¶ç±»å‹è½¬æ¢é—®é¢˜,ä½†æ˜¯, - -æ—¦ç¼–è¯‘å®Œæˆ,æ‰€æœ‰å’Œæ³›å‹æœ‰å…³çš„ç±»å‹å…¨éƒ¨æ“¦é™¤\nâ¢ä¸ºäº†é€šè¿‡åå°„æ“ä½œè¿™äº›ç±»å‹, Javaæ–°å¢äº†ParameterizedType , GenericArrayTypeï¼Œ\nTypeVariableå’ŒWildcardTypeå‡ ç§ç±»å‹æ¥ä»£è¡¨ä¸èƒ½è¢«å½’ä¸€åˆ°Classç±»ä¸­çš„ç±»å‹ä½†æ˜¯ åˆå’ŒåŸ\nå§‹ç±»å‹é½åçš„ç±»å‹.\nâ¢ParameterizedType :è¡¨ç¤º-ç§å‚æ•°åŒ–ç±»å‹ï¼Œæ¯”å¦‚Collection<String>\nâ¢GenericArrayType :è¡¨ç¤ºä¸€ç§å…ƒç´ ç±»å‹æ˜¯å‚æ•°åŒ–ç±»å‹æˆ–è€…ç±»å‹å˜é‡çš„æ•°ç»„ç±»å‹\nâ¢TypeVariable :æ˜¯å„ç§ç±»å‹å˜é‡çš„å…¬å…±çˆ¶æ¥å£\nâ¢WildcardType :ä»£è¡¨- -ç§é€šé…ç¬¦ç±»å‹è¡¨è¾¾å¼\n```java\npublic static void main(String[] args) throws NoSuchMethodException {\n    Method method = Test11.class. getMethod( name: \"test01\", Map.class, List.class);\n    Type[] genericPar ameterTypes = method. getGener icPar ameterTypes();\n    for (Type genericParameterType : gener icPar ameterTypes) {\n    System. out . pr intln(\"#\"+ gener icPar ameterType);\n    if (genericPar ameterType instanceof Par ameter izedType) {\n    Type[] actualTypeArguments = ((Parameter izedType) genericParameterType) .getActualTypeAr guments();\n    folr (Type actualTypeArgument : ac tualTypeAr guments) {\n    System.out .pr int ln( actualTypeAr gument) ;\n    }\n    }\n    method = Test11. class . getMethod( name: \"test02\"ï¼Œ..arameterTypes: null);\n    Type gener icReturnType\n    method. getGener icReturnType() ;\n    if (gener icReturnType instanceof Par ameterizedType){\n    Type[] actualTypeAr guments = ((Parameter izedType) gener icReturnType) . getActualTypeAr guments();\n    for (Type actualTypeAr gument : actua lTypeAr guments) {\n    System. out . pr intln(actualTypeAr gument) ;\n    }\n    }\nï½\n\n```\n', 0, '2022-09-06 23:31:13', '2022-10-21 20:01:00', 0, 1, 10, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/06/1179235c90cc4c858c59e3f047437e3c.jpg', 7);
INSERT INTO `t_blog` VALUES (230, 'ã€Šè·¯äººã€‹', NULL, ' ::: hljs-center\n\nã€Šè·¯äººã€‹\n		\n			  	  â€”â€”è¯—äººè¥¿è´\n\n\n::: hljs-center\n\nä¸çŸ¥ä¸ºä½•ï¼Œæ˜æ˜æƒ³å’Œä½ è¯´è¯ã€‚\nå´éª—ä½ è¯´ï¼Œ\né£é›¨æ­£å¥½ï¼Œè¯¥å»å†™ç‚¹è¯—å¥ã€‚\n\n\nä¸å¿…å˜²è®½æˆ‘ï¼Œä½ ç¬‘å‡ºå£°æ¥ï¼Œ\næˆ‘ä¹Ÿå½“æ˜¯å¤©ç±ã€‚\nä¸å¿…æ€€æœ‰æ•Œæ„ï¼Œä½ æ‰€æœ‰å¿ƒè®¡ï¼Œ\næˆ‘éƒ½å½“æ˜¯ä½ å¯¹æˆ‘çš„å¿ƒæ„ã€‚\n\næˆ‘çš„å®¿å‘½åˆ†ä¸ºä¸¤æ®µï¼Œ\næœªé‡è§ä½ æ—¶ï¼Œå’Œé‡è§ä½ ä»¥åã€‚\nä½ æ²»å¥½æˆ‘çš„å¿§éƒï¼Œè€Œåèµæˆ‘æ‚²ä¼¤ã€‚\nå¿§éƒå’Œæ‚²ä¼¤ä¹‹é—´çš„ç‰‡åˆ»æ¬¢å–œï¼Œé€æ”¯äº†æˆ‘ç”Ÿå‘½å…¨éƒ¨çš„çƒ­æƒ…å‚¨è“„ã€‚\næƒ³é¥®ä¸€äº›é…’ï¼Œè®©çµé­‚å¤±é‡ï¼Œå¥½è¢«é£å¹èµ°ã€‚\nå¯ä¸€æƒ³åˆ°ç»ˆå°†æ˜¯ä½ çš„è·¯äººï¼Œ\nä¾¿è§‰å¾—ï¼Œæ²¦ä¸ºæ•´ä¸ªä¸–ç•Œçš„è·¯äººã€‚\né£è™½å¤§ï¼Œéƒ½ç»•è¿‡æˆ‘çµé­‚ã€‚\n\n:::\n', 0, '2022-09-08 01:36:47', '2022-10-21 20:01:00', 0, 118, 10, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/653c01916a9341d19943de27fc4b5587.jpg', 8);
INSERT INTO `t_blog` VALUES (231, 'logback.xml', NULL, '<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!-- çº§åˆ«ä»é«˜åˆ°ä½ OFF ã€ FATAL ã€ ERROR ã€ WARN ã€ INFO ã€ DEBUG ã€ TRACE ã€ ALL -->\n<!-- æ—¥å¿—è¾“å‡ºè§„åˆ™ æ ¹æ®å½“å‰ROOT çº§åˆ«ï¼Œæ—¥å¿—è¾“å‡ºæ—¶ï¼Œçº§åˆ«é«˜äºrooté»˜è®¤çš„çº§åˆ«æ—¶ ä¼šè¾“å‡º -->\n<!-- ä»¥ä¸‹ æ¯ä¸ªé…ç½®çš„ filter æ˜¯è¿‡æ»¤æ‰è¾“å‡ºæ–‡ä»¶é‡Œé¢ï¼Œä¼šå‡ºç°é«˜çº§åˆ«æ–‡ä»¶ï¼Œä¾ç„¶å‡ºç°ä½çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ï¼Œé€šè¿‡filter è¿‡æ»¤åªè®°å½•æœ¬çº§åˆ«çš„æ—¥å¿— -->\n<!-- scan å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚ -->\n<!-- scanPeriod è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ -->\n<!-- debug å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ -->\n<configuration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\">\n\n    <!-- åŠ¨æ€æ—¥å¿—çº§åˆ« -->\n    <jmxConfigurator/>\n\n    <!--*****************************************************************************-->\n    <!--è‡ªå®šä¹‰é¡¹ å¼€å§‹-->\n    <!--*****************************************************************************-->\n\n    <!-- å®šä¹‰æ—¥å¿—æ–‡ä»¶ è¾“å‡ºä½ç½® -->\n    <property name=\"log.home_dir\" value=\"D:/javaå­¦ä¹ /xitong/logs\"/>\n    <property name=\"log.app_name\" value=\"http-demo\"/>\n    <!-- æ—¥å¿—æœ€å¤§çš„å†å² 30å¤© -->\n    <property name=\"log.maxHistory\" value=\"30\"/>\n    <property name=\"log.maxSize\" value=\"5MB\"/>\n    <!-- æ—¥å¿—ç•Œåˆ« -->\n    <property name=\"log.level\" value=\"info\"/>\n    <!-- æ‰“å°sqlè¯­å¥ éœ€è¦æŒ‡å®šdao/mapperå±‚åŒ…çš„ä½ç½® -->\n    <property name=\"mapper.package\" value=\"com.xiaoliu.system.mapper\"/>\n\n    <!-- å½©è‰²æ—¥å¿— -->\n    <!-- é…ç½®æ ¼å¼å˜é‡ï¼šCONSOLE_LOG_PATTERN å½©è‰²æ—¥å¿—æ ¼å¼ -->\n    <!-- magenta:æ´‹çº¢ -->\n    <!-- boldMagenta:ç²—çº¢-->\n    <!-- cyan:é’è‰² -->\n    <!-- white:ç™½è‰² -->\n    <!-- magenta:æ´‹çº¢ -->\n    <property name=\"CONSOLE_LOG_PATTERN\"\n              value=\"%yellow(%date{yyyy-MM-dd HH:mm:ss}) |%highlight(%-5level) |%blue(%thread) |%blue(%file:%line) |%green(%logger) |%cyan(%msg%n)\"/>\n\n    <!--*****************************************************************************-->\n    <!--è‡ªå®šä¹‰é¡¹ ç»“æŸ-->\n    <!--*****************************************************************************-->\n\n    <!-- ConsoleAppender æ§åˆ¶å°è¾“å‡ºæ—¥å¿— -->\n    <appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <pattern>\n                <!-- è®¾ç½®æ—¥å¿—è¾“å‡ºæ ¼å¼ -->\n                ${CONSOLE_LOG_PATTERN}\n            </pattern>\n        </encoder>\n    </appender>\n\n    <!-- ERRORçº§åˆ«æ—¥å¿— -->\n    <!-- æ»šåŠ¨è®°å½•æ–‡ä»¶ï¼Œå…ˆå°†æ—¥å¿—è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œå½“ç¬¦åˆæŸä¸ªæ¡ä»¶æ—¶ï¼Œå°†æ—¥å¿—è®°å½•åˆ°å…¶ä»–æ–‡ä»¶ RollingFileAppender -->\n    <appender name=\"ERROR\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <!-- è¿‡æ»¤å™¨ï¼Œåªè®°å½•WARNçº§åˆ«çš„æ—¥å¿— -->\n        <!-- æœæ—¥å¿—çº§åˆ«ç­‰äºé…ç½®çº§åˆ«ï¼Œè¿‡æ»¤å™¨ä¼šæ ¹æ®onMath å’Œ onMismatchæ¥æ”¶æˆ–æ‹’ç»æ—¥å¿—ã€‚ -->\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <!-- è®¾ç½®è¿‡æ»¤çº§åˆ« -->\n            <level>ERROR</level>\n            <!-- ç”¨äºé…ç½®ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMatch>ACCEPT</onMatch>\n            <!-- ç”¨äºé…ç½®ä¸ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <!-- æœ€å¸¸ç”¨çš„æ»šåŠ¨ç­–ç•¥ï¼Œå®ƒæ ¹æ®æ—¶é—´æ¥åˆ¶å®šæ»šåŠ¨ç­–ç•¥.æ—¢è´Ÿè´£æ»šåŠ¨ä¹Ÿè´Ÿè´£è§¦å‘æ»šåŠ¨ -->\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <!--æ—¥å¿—è¾“å‡ºä½ç½® å¯ç›¸å¯¹ã€å’Œç»å¯¹è·¯å¾„ -->\n            <fileNamePattern>\n                ${log.home_dir}/error/%d{yyyy-MM-dd}/${log.app_name}-%i.log\n            </fileNamePattern>\n            <!-- å¯é€‰èŠ‚ç‚¹ï¼Œæ§åˆ¶ä¿ç•™çš„å½’æ¡£æ–‡ä»¶çš„æœ€å¤§æ•°é‡ï¼Œè¶…å‡ºæ•°é‡å°±åˆ é™¤æ—§æ–‡ä»¶,å‡è®¾è®¾ç½®æ¯ä¸ªæœˆæ»šåŠ¨ï¼Œä¸”<maxHistory>æ˜¯6ï¼Œ\n            åˆ™åªä¿å­˜æœ€è¿‘6ä¸ªæœˆçš„æ–‡ä»¶ï¼Œåˆ é™¤ä¹‹å‰çš„æ—§æ–‡ä»¶ã€‚æ³¨æ„ï¼Œåˆ é™¤æ—§æ–‡ä»¶æ˜¯ï¼Œé‚£äº›ä¸ºäº†å½’æ¡£è€Œåˆ›å»ºçš„ç›®å½•ä¹Ÿä¼šè¢«åˆ é™¤ -->\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <!--æ—¥å¿—æ–‡ä»¶æœ€å¤§çš„å¤§å°-->\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>\n                <!-- è®¾ç½®æ—¥å¿—è¾“å‡ºæ ¼å¼ -->\n                %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n\n            </pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- WARNçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"WARN\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <!-- è¿‡æ»¤å™¨ï¼Œåªè®°å½•WARNçº§åˆ«çš„æ—¥å¿— -->\n        <!-- æœæ—¥å¿—çº§åˆ«ç­‰äºé…ç½®çº§åˆ«ï¼Œè¿‡æ»¤å™¨ä¼šæ ¹æ®onMath å’Œ onMismatchæ¥æ”¶æˆ–æ‹’ç»æ—¥å¿—ã€‚ -->\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <!-- è®¾ç½®è¿‡æ»¤çº§åˆ« -->\n            <level>WARN</level>\n            <!-- ç”¨äºé…ç½®ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMatch>ACCEPT</onMatch>\n            <!-- ç”¨äºé…ç½®ä¸ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ -->\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <!--æ—¥å¿—è¾“å‡ºä½ç½® å¯ç›¸å¯¹ã€å’Œç»å¯¹è·¯å¾„ -->\n            <fileNamePattern>${log.home_dir}/warn/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <!--å½“å¤©çš„æ—¥å¿—å¤§å° è¶…è¿‡MaxFileSizeæ—¶,å‹ç¼©æ—¥å¿—å¹¶ä¿å­˜-->\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- INFOçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"INFO\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>INFO</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/info/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- DEBUGçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"DEBUG\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>DEBUG</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/debug/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!-- TRACEçº§åˆ«æ—¥å¿— appender -->\n    <appender name=\"TRACE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>TRACE</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/trace/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!--è®¾ç½®ä¸€ä¸ªå‘ä¸Šä¼ é€’çš„appender,æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¾“å‡º-->\n    <appender name=\"app\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            <fileNamePattern>${log.home_dir}/app/%d{yyyy-MM-dd}/${log.app_name}-%i.log</fileNamePattern>\n            <maxHistory>${log.maxHistory}</maxHistory>\n            <MaxFileSize>${log.maxSize}</MaxFileSize>\n        </rollingPolicy>\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger - %msg%n</pattern>\n        </encoder>\n    </appender>\n\n\n    <!--org.springframework.webåŒ…ä¸‹çš„ç±»çš„æ—¥å¿—è¾“å‡º-->\n    <logger name=\"org.springframework.web\" additivity=\"false\" level=\"WARN\">\n        <appender-ref ref=\"WARN\"/>\n    </logger>\n    <!--daoå±‚åŒ…ä¸‹çš„ç±»çš„æ—¥å¿—è¾“å‡º-->\n    <logger name=\"${mapper.package}\" additivity=\"false\" level=\"DEBUG\">\n        <appender-ref ref=\"app\"/>\n        <appender-ref ref=\"ERROR\"/>\n        <!--æ‰“å°æ§åˆ¶å°-->\n        <appender-ref ref=\"CONSOLE\"/>\n    </logger>\n\n\n    <!-- rootçº§åˆ«   DEBUG -->\n    <root>\n        <!-- æ‰“å°debugçº§åˆ«æ—¥å¿—åŠä»¥ä¸Šçº§åˆ«æ—¥å¿— -->\n        <level value=\"${log.level}\"/>\n        <!-- æ§åˆ¶å°è¾“å‡º -->\n        <appender-ref ref=\"CONSOLE\"/>\n        <!-- ä¸ç®¡ä»€ä¹ˆåŒ…ä¸‹çš„æ—¥å¿—éƒ½è¾“å‡ºæ–‡ä»¶ -->\n        <appender-ref ref=\"ERROR\"/>\n        <appender-ref ref=\"INFO\"/>\n        <appender-ref ref=\"WARN\"/>\n        <appender-ref ref=\"DEBUG\"/>\n        <appender-ref ref=\"TRACE\"/>\n    </root>\n</configuration>\n\n', 0, '2022-09-09 16:16:50', '2022-10-21 20:01:00', 0, 1, 4, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/06/6fa092e312eb4c98a6f93ab4aab9bcc0.jpg', 7);
INSERT INTO `t_blog` VALUES (232, 'mybatiUtil', 'mybatiså·¥å…·ç±»', '\n```java\n/**\n * @author: 61åˆ†\n * @date: 2022/9/9 15:53\n * @description:\n */\n\n    private static SqlSessionFactory sqlSessionFactory;\n    static {\n        try {\n            InputStream inputStream = Resources.getResourceAsStream(\"mybatis.xml\");\n            sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static SqlSession getSqlSession(){\n        return sqlSessionFactory.openSession();\n    }\n}\n```\n\n', 0, '2022-09-09 16:26:54', '2022-10-21 20:01:00', 0, 124, 8, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/670685b9a0fa4dae860db88ed6f82db1.png', 7);
INSERT INTO `t_blog` VALUES (233, 'SpringIOC', 'IOCåº•å±‚åŸç†1', '# spring\n\n## 1ã€springæ˜¯ä»€ä¹ˆï¼Ÿ\n\n- Springæ¡†æ¶æ˜¯ä¸€ä¸ª[å¼€æ”¾æºä»£ç ](https://baike.baidu.com/item/å¼€æ”¾æºä»£ç /114160?fromModule=lemma_inlink)çš„[J2EE](https://baike.baidu.com/item/J2EE/110838?fromModule=lemma_inlink)åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œç”±[Rod Johnson](https://baike.baidu.com/item/Rod Johnson/1423612?fromModule=lemma_inlink)å‘èµ·ï¼Œæ˜¯é’ˆå¯¹beançš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†çš„è½»é‡çº§å®¹å™¨ï¼ˆlightweight containerï¼‰ã€‚ \n- Springè§£å†³äº†å¼€å‘è€…åœ¨J2EEå¼€å‘ä¸­é‡åˆ°çš„è®¸å¤šå¸¸è§çš„é—®é¢˜ï¼Œæä¾›äº†åŠŸèƒ½å¼ºå¤§IOCã€[AOP](https://baike.baidu.com/item/AOP/1332219?fromModule=lemma_inlink)åŠWeb MVCç­‰åŠŸèƒ½ã€‚ Springå¯ä»¥å•ç‹¬åº”ç”¨äºæ„ç­‘åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥å’ŒStrutsã€Webworkã€Tapestryç­‰ä¼—å¤šWebæ¡†æ¶ç»„åˆä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä¸ Swingç­‰[æ¡Œé¢åº”ç”¨ç¨‹åº](https://baike.baidu.com/item/æ¡Œé¢åº”ç”¨ç¨‹åº/2331979?fromModule=lemma_inlink)APç»„åˆã€‚å› æ­¤ï¼Œ Springä¸ä»…ä»…èƒ½åº”ç”¨äºJ2EEåº”ç”¨ç¨‹åºä¹‹ä¸­ï¼Œä¹Ÿå¯ä»¥åº”ç”¨äºæ¡Œé¢åº”ç”¨ç¨‹åºä»¥åŠå°åº”ç”¨ç¨‹åºä¹‹ä¸­ã€‚\n- Springæ¡†æ¶ä¸»è¦ç”±ä¸ƒéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ **Spring Core**ã€ **Spring AOP**ã€ **Spring ORM**ã€ **Spring DAO**ã€**Spring Context**ã€ **Spring Web**å’Œ **Spring Web MVC**\n\n## **2ã€**Springä¸¤ä¸ªæ ¸å¿ƒï¼šIOCã€AOP\n\n### IOC(æ§åˆ¶åè½¬ Inversion of Control)\n\nï¼ˆ1ï¼‰æŠŠåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç”±springæ¡†æ¶ç®¡ç†\n\n###  AOP(é¢å‘åˆ‡é¢ Aspect Oriented Programming)\n\n(1) ä¸ä¿®æ”¹æºä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹ç¨‹åºè¿›è¡ŒåŠŸèƒ½å¢å¼º\n\n## 3ã€springç‰¹ç‚¹\n\nï¼ˆ1ï¼‰æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘\n\nï¼ˆ2ï¼‰AOPç¼–ç¨‹çš„æ”¯æŒ\n\nï¼ˆ3ï¼‰æ–¹ä¾¿æ•´åˆå…¶ä»–çš„æ¡†æ¶\n\nï¼ˆ4ï¼‰å¾ˆå¥½çš„æœ‰JAVAEE APIçš„ä½¿ç”¨éš¾åº¦\n\nï¼ˆ5ï¼‰æ–¹ä¾¿äº‹åŠ¡çš„æ“ä½œ\n\n# springæ¨¡å—\n\n![image20220908211310093.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/b4ea827ecfbe4bcfbc3babbd6a256cc3.png)\n\n# 4ã€å…¥é—¨æ¡ˆä¾‹\n\n1ã€å¯¼åŒ…\n\n```java\n<!--        //beans-->\n\n<dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-beans</artifactId>\n  <version>5.3.22</version>\n</dependency>\n<!--        //core-->\n\n    <dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-core</artifactId>\n  <version>5.3.22</version>\n</dependency>\n<!--        //context-->\n    <dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-context</artifactId>\n  <version>5.3.22</version>\n</dependency>\n```\n\n2ã€å®ä½“ç±»\n\n```java\n /**\n * @author: 61åˆ†\n * @date: 2022/9/8 21:58\n * @description:\n */\npublic class User {\n    private String name;\n    private Integer id;\n\n    public String getName() {\n        return name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public User() {\n    }\n\n    public User(String name, Integer id, Integer age) {\n        this.name = name;\n        this.id = id;\n        this.age = age;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    private Integer age;\n\n}\n```\n\n3ã€bean(éœ€è¦æ”¾åœ¨resourceç›®å½•ä¸‹)\n\n```java\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"User\" class=\"com.xiaoliu.entity.User\"></bean>\n\n</beans>\n```\n\n4ã€è¿›è¡Œä»£ç æµ‹è¯•\n\n```java\npublic class TestSpring {\n\n    @Test\n    public void test(){\n        //1ã€åŠ è½½springçš„é…ç½®æ–‡ä»¶\n        ApplicationContext context =\n                new ClassPathXmlApplicationContext(\"bean1.xml\");\n//        2ã€è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡\n        User user = context.getBean(\"User\", User.class);\n        System.out.println(user);\n//\n    }\n}\n```\n\n# IOCå®¹å™¨\n\n## ä»€ä¹ˆæ˜¯IOCï¼Ÿ\n\n**æ§åˆ¶åè½¬**ï¼ˆInversion of Controlï¼Œç¼©å†™ä¸º**IoC**ï¼‰ï¼Œæ˜¯[é¢å‘å¯¹è±¡ç¼–ç¨‹](https://baike.baidu.com/item/é¢å‘å¯¹è±¡ç¼–ç¨‹/254878?fromModule=lemma_inlink)ä¸­çš„ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œå¯ä»¥ç”¨æ¥å‡ä½è®¡ç®—æœº[ä»£ç ](https://baike.baidu.com/item/ä»£ç /86048?fromModule=lemma_inlink)ä¹‹é—´çš„[è€¦åˆåº¦](https://baike.baidu.com/item/è€¦åˆåº¦/2603938?fromModule=lemma_inlink)ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ–¹å¼å«åš**[ä¾èµ–æ³¨å…¥](https://baike.baidu.com/item/ä¾èµ–æ³¨å…¥/5177233?fromModule=lemma_inlink)**ï¼ˆDependency Injectionï¼Œç®€ç§°**DI**ï¼‰ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å«â€œä¾èµ–æŸ¥æ‰¾â€ï¼ˆDependency Lookupï¼‰ã€‚é€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œç”±ä¸€ä¸ªè°ƒæ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“å°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œä¾èµ–è¢«æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚\n\n## 1ã€åº•å±‚åŸç†\n\n ï¼ˆ1ï¼‰xmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„\n\nï¼ˆ2ï¼‰IOCåŸç†ï¼ˆå›¾è§£ï¼‰\n\n### åŸå§‹çš„åšæ³•ï¼š\n\næ™®é€šæ¨¡å¼ï¼š\n![image20220909222358714.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/e5da958557e44ce58663a2572f09b719.png)\n\nå·¥å‚æ¨¡å¼ï¼š\n\n\n![image20220909222855262.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/74dac8e588d14a2daae883fe1392db40.png)\n### IOCè¿‡ç¨‹ï¼š\n\n![image20220909223418876.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/b8d74e0f6848430e860b1128fd6c726b.png)\n\n### IOCï¼ˆæ¥å£ï¼‰\n\n1ã€iocæ€æƒ³åŸºäºiocå®¹å™¨ï¼Œiocå®¹å™¨æœ¬è´¨æ˜¯å¯¹è±¡å·¥å‚\n\n2ã€Springæä¾›IOCå®ç°çš„ä¸¤ç§æ–¹å¼\n\n- BeanFactoryï¼ˆæœ€åŸºæœ¬çš„å®ç°æ–¹å¼ï¼‰ï¼Œæ˜¯springå†…éƒ¨ä½¿ç”¨çš„æ¥å£ï¼Œä¸æä¾›ç»™å¼€å‘äººå‘˜å®ç°\n\n**ç‰¹ç‚¹**ï¼šåŠ è½½é…ç½®æ–‡ä»¶æ—¶ï¼Œä¸ä¼šåˆ›å»ºé‡Œé¢çš„å¯¹è±¡ï¼Œåœ¨ä½¿ç”¨æ—¶æ‰å»åˆ›å»º\n\n- ApplicationContext:BeanFactoryçš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬é¢å‘å¼€å‘äººå‘˜ä½¿ç”¨\n\n**ç‰¹ç‚¹**ï¼Œåœ¨åŠ è½½é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±ä¼šæŠŠåœ¨é…ç½®æ–‡ä»¶ä¸­çš„å¯¹è±¡è¿›è¡Œåˆ›å»º\n\n3ã€ApplicationContextæ¥å£ä¸­æœ‰å®ç°ç±»\n\n![image20220909224428894.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/5388fcb18ca140e1aebc226d2dc2d293.png)', 0, '2022-09-09 23:05:19', '2022-10-21 20:01:00', 0, 123, 5, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/b4ea827ecfbe4bcfbc3babbd6a256cc3.png', 7);
INSERT INTO `t_blog` VALUES (234, 'ç½‘ç«™é—®é¢˜æ±‡æ€»', 'BUG', '## 1ã€æŒ‰ç…§æ ‡ç­¾æˆ–ç±»åˆ«ï¼ŒæŸ¥æ‰¾æ–‡ç« æ—¶ï¼Œåˆ†é¡µbug\né¢„å¤„ç†ï¼šæŒ‰ç…§æ ‡ç­¾æˆ–ç±»åˆ«æŸ¥æ‰¾æ—¶ï¼Œä¸è¿›è¡Œåˆ†é¡µï¼ŒæŸ¥å‡ºå…¨éƒ¨\n### å·²è§£å†³âœ…\n## 2ã€ç¼–è¾‘æ–‡ç« æ—¶ï¼Œç¼“å­˜æ²¡æœ‰æ›´æ–°ï¼Œ\né¢„å¤„ç†ï¼šç¼–è¾‘æ—¶ï¼Œåˆ é™¤ç¼“å­˜ï¼Œé‡æ–°è·å–\n## 3ã€å¯ä»¥æ·»åŠ è§†é¢‘é¡µé¢\n## 4ã€åå°ä¸»é¡µéƒ¨åˆ†å¯ä»¥æ·»åŠ ä¸œè¥¿\n## 5ã€æ ‡ç­¾æ‚¬åœæ²¡æœ‰ç«‹ä½“æ„Ÿ\né¢„å¤„ç†ï¼šæ·»åŠ æ ‡ç­¾æˆ–ç±»åˆ«é¼ æ ‡æ‚¬åœæ•ˆæœ\n### å·²è§£å†³âœ…\n## 6ã€ç¼“å­˜æ—¶ï¼Œè¯„è®ºæ‰“å¼€æ—¶ï¼Œåˆ›å»ºæ—¶é—´æ˜¾ç¤ºçš„æ˜¯æ—¶é—´æˆ³\né¢„å¤„ç†ï¼šåå°ç¼“å­˜å­˜å…¥çš„æ˜¯ç»è¿‡åºåˆ—åŒ–çš„ï¼Œæ˜¾ç¤ºé—®é¢˜å¯èƒ½æ˜¯å‡ºåœ¨å‰ç«¯ã€‚\n## 7ã€ç§»åŠ¨ç«¯ä¸åšäº†ï¼Œ\n## 8ã€åå°ç•™è¨€æ¿çš„æ•°æ®è¢«é®ç›–ã€‚å‰ç«¯æ˜¾ç¤ºæ ·å¼çš„é—®é¢˜\né¢„å¤„ç†ï¼šæš‚æ—¶ä¸çŸ¥é“å’‹åš\n## 9ã€ç½‘é¡µæ„Ÿè§‰æœ‰ç‚¹å•è°ƒï¼Œå¤šçœ‹çœ‹åˆ«äººçš„åšå®¢\n## 10ã€ç½‘ç«™å›¾æ ‡å¯ä»¥å¤§ä¸€ç‚¹\n## 11ã€åœ¨é¦–é¡µæ–‡ç« æŸ¥æ‰¾çš„æ—¶å€™ï¼Œæ²¡æœ‰è·³è½¬åˆ°ç›®æ ‡é¡µ\n## 12ã€åšå®¢è¯¦æƒ…é¡µé¢å³é¢„è§ˆé¡µé¢çš„èƒŒæ™¯å¯ä»¥é€æ˜ä¸€ç‚¹\n## 13ã€el-cardé¼ æ ‡æ‚¬åœçš„é˜´å½±æ•ˆæœå¼„æˆé»‘è‰²è¦å¥½ç‚¹ï¼Œä¸è¦ç™½è‰²\n## 14ã€è¿˜æœ‰åå°é€€å‡ºç™»å½•æ—¶ï¼ŒæŠŠé‚£ä¸ªä¸­é—´æç¤ºæ¢æˆå³è¾¹å¼¹å‡ºï¼Œæ¯æ¬¡éƒ½æŒ¡ç€ğŸ˜¡', 0, '2022-09-09 23:42:48', '2022-10-21 20:01:00', 1, 118, 40, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/03/896c734fbcb64374b44d837e33975cd7.jpg', 9);
INSERT INTO `t_blog` VALUES (235, 'æ“ä½œç³»ç»Ÿç¬¬ä¸€ç« æ€»ç»“', 'æ€ç»´å¯¼å›¾', '::: hljs-center\n\n**ğŸ“•æ¥è‡ªç½—åŒå­¦æ€»ç»“çš„æ€ç»´å¯¼å›¾**\n\n:::\nğŸ’¡ ++(éåŸåˆ›)++\n\n![æ¥è‡ªç½—åŒå­¦æ€»ç»“çš„æ€ç»´å¯¼å›¾](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/11/e8a8d5d2ce9d4c37a273b09b9ac03b38.png)', 0, '2022-09-11 22:15:27', '2022-10-21 20:01:00', 0, 122, 7, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/11/e8a8d5d2ce9d4c37a273b09b9ac03b38.png', 7);
INSERT INTO `t_blog` VALUES (236, 'Mybatis02', 'mybatis02', '**Mapå’Œæ¨¡ç³ŠæŸ¥è¯¢**\n\nå¯ä»¥ä½¿ç”¨mapè¿›è¡Œä¼ å€¼ï¼Œ\n\nå‚æ•°è¿‡å¤šçš„æ—¶å€™å¯ä»¥ä½¿ç”¨map\n\n**ä½†æ˜¯ä¸å¥½ç»´æŠ¤ã€‚**\n\n**é…ç½®**\n\nMyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚ é…ç½®æ–‡æ¡£çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š\n\n- configurationï¼ˆé…ç½®ï¼‰\n\n- - propertiesï¼ˆå±æ€§ï¼‰\n\n  - settingsï¼ˆè®¾ç½®ï¼‰\n\n  - typeAliasesï¼ˆç±»å‹åˆ«åï¼‰\n\n  - typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰\n\n  - objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰\n\n  - pluginsï¼ˆæ’ä»¶ï¼‰\n\n  - environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰\n\n  - - environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰\n\n    - - transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰\n      - dataSourceï¼ˆæ•°æ®æºï¼‰\n\n  - databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰\n\n  - mappersï¼ˆæ˜ å°„å™¨ï¼‰\n\n**å±æ€§**\n\né…ç½®æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <typeAliases>\n        <typeAlias type=\"com.xiaoliu.entity.User\" alias=\"User\"/>\n    </typeAliases>\n    <environments default=\"development\">\n        <environment id=\"development\">\n            <transactionManager type=\"JDBC\"/>\n            <dataSource type=\"POOLED\">\n                <property name=\"driver\" value=\"com.mysql.cj.jdbc.Driver\"/>\n                <property name=\"url\" value=\"jdbc:mysql://localhost:3306/jdbc?userUnicode=true;characterEncoding=utf8;serverTimezone=UTC\"/>\n                <property name=\"username\" value=\"root\"/>\n                <property name=\"password\" value=\"123456\"/>\n            </dataSource>\n        </environment>\n    </environments>\n    <mappers>\n        <mapper resource=\"mapper/UserMapper.xml\"/>\n    </mappers>\n</configuration>\n\n```\n\n**ç¯å¢ƒé…ç½®**\n\nMYBATISå¯ä»¥é€‚åº”å¤šç§ç¯å¢ƒ\n\nä½†**SqlSessionFactory**å®ä¾‹åªèƒ½ä½¿ç”¨ä¸€ç§ç¯å¢ƒ\n\nMYBATISé»˜è®¤çš„äº‹åŠ¡ç®¡ç†å™¨ æ˜¯JDBC è¿æ¥æ± ï¼šJDBC ï¼Œé»˜è®¤çš„ç¯å¢ƒä¸ºdevelopment\n\n**å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶**\n\n```xml	\nä¾‹å¦‚\næ–°å»ºdb.propertiesæ–‡ä»¶\njdbc.driver=com.mysql.cj.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/8&serverTimezone=GMT%2B8\njdbc.username=root\njdbc.password=\njdbc.initPoolSize = 5\njdbc.maxPoolSize=10\n\næ–°å»ºmybatis XMLæ–‡ä»¶\nç™»å½•åå¤åˆ¶\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\nPUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n\"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n<!--å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶-->\n<properties resource=\"db.properties\"></properties>\n<!--ç¯å¢ƒé…ç½®-->\n<environments default=\"development\">\n    <environment id=\"development\">\n        <transactionManager type=\"JDBC\"/>\n        <dataSource type=\"POOLED\">\n            <property name=\"driver\" value=\"${jdbc.driver}\"/>\n            <property name=\"url\" value=\"${jdbc.url}\"/>\n            <property name=\"username\" value=\"${jdbc.username}\"/>\n            <property name=\"password\" value=\"${jdbc.password}\"/>\n        </dataSource>\n    </environment>\n</environments>\n\n<!--æ˜ å°„å†™å¥½çš„SQLæ˜ å°„æ–‡ä»¶ï¼Œå¹¶ä¸”æ³¨å†Œåˆ°å…¨å±€é…ç½®æ–‡ä»¶mybatis-configä¸­-->\n<mappers>\n    <mapper resource=\"EmployeeMapper.xml\"></mapper>\n</mappers>\n</configuration>\n```\n\n\n\n **è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜**\n\n**resultMap**\n\nç»“æœé›†æ˜ å°„\n\nå®ä½“ç±»\n\n\n\n```java\nprivate Integer id;\nprivate String address;\nprivate String useraddress;\nprivate Integer age;\nprivate Integer userage;\n```\n\n```xml	\n<!--                            typeæ˜¯éœ€è¦æ˜ å°„çš„å®ä½“-->\n    <resultMap id=\"UserMap\" type=\"User\">\n<!--        columnæ˜¯å­—æ®µï¼Œpropertyå®ä½“çš„å±æ€§-->\n        <result column=\"id\" property=\"id\"/>\n        <result column=\"name\" property=\"username\"/>\n        <result column=\"age\" property=\"userage\"/>\n        <result column=\"address\" property=\"useraddress\"/>\n    </resultMap>\n    <select id=\"getUserListByMap\" resultMap=\"UserMap\">\n        select * from people;\n    </select>\n```\n\n```java\n@Test\npublic void TestByMap(){\n    UserService userService = new UserImpl();\n    List<User> list = userService.getUserListByMap();\n    for (User user1 : list) {\n        System.out.println(\"id:\"+user1.getId()+\"name:\"+user1.getUsername()+\"age:\"+user1.getUserage()+\"address:\"+user1.getUseraddress()+\"\\n\");\n    }\n}\n```\n\n\n\nç»“æœ\n\n![æˆªå›¾.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/12/ca1575115ff8453093230536a4336a45.png)\n\n**é«˜çº§æ˜ å°„**\n\n**æ—¥å¿—å·¥å‚**\n\n| logImpl | æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚ | SLF4J \\| LOG4J \\| LOG4J2 \\| JDK_LOGGING \\| COMMONS_LOGGING \\| STDOUT_LOGGING \\| NO_LOGGING | æœªè®¾ç½® |\n| ------- | ----------------------------------------------------- | ------------------------------------------------------------ | ------ |\n|         |                                                       |                                                              |        |\n\nå¼€å¯æ—¥å¿—\n\n```xml\n<settings>\n    <setting name=\"logImpl\" value=\"STDOUT_LOGGING\"/>\n</settings>\n```\n\n**LOG4J**\n\nä»€ä¹ˆæ˜¯LOG4J\n\n Log4jæ˜¯[Apache](https://baike.baidu.com/item/Apache/8512995?fromModule=lemma_inlink)çš„ä¸€ä¸ªå¼€æºé¡¹ç›®\n\næˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯[æ§åˆ¶å°](https://baike.baidu.com/item/æ§åˆ¶å°/2438626?fromModule=lemma_inlink)ã€æ–‡ä»¶ã€[GUI](https://baike.baidu.com/item/GUI?fromModule=lemma_inlink)ç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€[NT](https://baike.baidu.com/item/NT/3443842?fromModule=lemma_inlink)çš„äº‹ä»¶è®°å½•å™¨ã€[UNIX](https://baike.baidu.com/item/UNIX?fromModule=lemma_inlink) [Syslog](https://baike.baidu.com/item/Syslog?fromModule=lemma_inlink)[å®ˆæŠ¤è¿›ç¨‹](https://baike.baidu.com/item/å®ˆæŠ¤è¿›ç¨‹/966835?fromModule=lemma_inlink)ç­‰ï¼›\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚\n\n1ã€å…ˆå¯¼åŒ…\n\n```xml\n<dependency>\n    <groupId>log4j</groupId>\n    <artifactId>log4j</artifactId>\n    <version>1.2.17</version>\n</dependency>\n```\n\n2ã€é…ç½®æ–‡ä»¶\n\nlog4j.properties\n\n```prop\n#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç \nlog4j.rootLogger=DEBUG,console,file\n\n#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®\nlog4j.appender.console = org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target = System.out\nlog4j.appender.console.Threshold=DEBUG\nlog4j.appender.console.layout = org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=[%c]-%m%n\n\n#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®\nlog4j.appender.file = org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=./log/logFile.log\nlog4j.appender.file.MaxFileSize=10mb\nlog4j.appender.file.Threshold=DEBUG\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=[%p][%d{yy-MM-dd}][%c]%m%n\n\n#æ—¥å¿—è¾“å‡ºçº§åˆ«\nlog4j.logger.org.mybatis=DEBUG\nlog4j.logger.java.sql=DEBUG\nlog4j.logger.java.sql.Statement=DEBUG\nlog4j.logger.java.sql.ResultSet=DEBUG\nlog4j.logger.java.sql.PreparedStatement=DEBUG\n\n```\n\n3ã€åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯æ—¥å¿—\n\n```xml\n<settings>\n    <setting name=\"logImpl\" value=\"LOG4J\"/>\n</settings>\n```\n\n**å¼€å¯é©¼å³°å‘½å**\n\n```xml\n<settings>\n    <setting name=\"mapUnderscoreToCamelCase\" value=\"true\"/>\n</settings>\n```\n\n**é¢å‘æ³¨è§£å¼€å‘**\n\næ³¨è§£çš„åº•å±‚æ˜¯åå°„\n\n```java\n@Select(\"select * from people\")\n@Results({\n	@Result(id=true,property=\"id\",column=\"id\"),\n	@Result(property=\"name\",column=\"name\"),\n	@Result(property=\"age\",column=\"age\"),\n        @Result(property=\"address\",column=\"address\"),\n})\npublic List<User> getAllUser();\n```\n![qwe.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/12/3f3b56b0348146ef80e220e018bad582.png)', 0, '2022-09-12 23:46:02', '2022-10-21 20:01:00', 0, 124, 3, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/12/3f3b56b0348146ef80e220e018bad582.png', 7);
INSERT INTO `t_blog` VALUES (237, 'mybatis03', 'å­¦ä¹ mybatisç¬”è®°', '# **mybatisæ‰§è¡Œæµç¨‹**\n\nMybatisæ ¸å¿ƒç±»ï¼š\n\n**SqlSessionFactory**ï¼šæ¯ä¸ªåŸºäº MyBatis çš„åº”ç”¨éƒ½æ˜¯ä»¥ä¸€ä¸ª SqlSessionFactory çš„å®ä¾‹ä¸ºä¸­å¿ƒçš„ã€‚SqlSessionFactory çš„å®ä¾‹å¯ä»¥é€šè¿‡ SqlSessionFactoryBuilder è·å¾—ã€‚è€Œ SqlSessionFactoryBuilder åˆ™å¯ä»¥ä» XML é…ç½®æ–‡ä»¶æˆ–é€šè¿‡Javaçš„æ–¹å¼æ„å»ºå‡º SqlSessionFactory çš„å®ä¾‹ã€‚SqlSessionFactory ä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œå»ºè®®ä½¿ç”¨å•ä¾‹æ¨¡å¼æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼ã€‚ä¸€ä¸ªSqlSessionFactoryå¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ä¸€ä¸ªç¯å¢ƒï¼ˆenvironmentï¼‰ï¼Œå¦‚æœä½ è¦ä½¿ç”¨å¤šä¸ªæ•°æ®åº“å°±é…ç½®å¤šä¸ªç¯å¢ƒåˆ†åˆ«å¯¹åº”ä¸€ä¸ªSqlSessionFactoryã€‚\n\n**SqlSession**ï¼šSqlSessionæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæœ‰2ä¸ªå®ç°ç±»ï¼Œåˆ†åˆ«æ˜¯DefaultSqlSession(é»˜è®¤ä½¿ç”¨)ä»¥åŠSqlSessionManagerã€‚SqlSessioné€šè¿‡å†…éƒ¨å­˜æ”¾çš„æ‰§è¡Œå™¨ï¼ˆExecutorï¼‰æ¥å¯¹æ•°æ®è¿›è¡ŒCRUDã€‚æ­¤å¤–SqlSessionä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºæ¯ä¸€æ¬¡æ“ä½œå®Œæ•°æ®åº“åéƒ½è¦è°ƒç”¨closeå¯¹å…¶è¿›è¡Œå…³é—­ï¼Œå®˜æ–¹å»ºè®®é€šè¿‡try-finallyæ¥ä¿è¯æ€»æ˜¯å…³é—­SqlSessionã€‚\n\n**Executor**ï¼šExecutorï¼ˆæ‰§è¡Œå™¨ï¼‰æ¥å£æœ‰ä¸¤ä¸ªå®ç°ç±»ï¼Œå…¶ä¸­BaseExecutoræœ‰ä¸‰ä¸ªç»§æ‰¿ç±»åˆ†åˆ«æ˜¯BatchExecutorï¼ˆé‡ç”¨è¯­å¥å¹¶æ‰§è¡Œæ‰¹é‡æ›´æ–°ï¼‰ï¼ŒReuseExecutorï¼ˆé‡ç”¨é¢„å¤„ç†è¯­å¥prepared statementï¼Œè·ŸSimpleçš„å”¯ä¸€åŒºåˆ«å°±æ˜¯å†…éƒ¨ç¼“å­˜statementï¼‰ï¼ŒSimpleExecutorï¼ˆé»˜è®¤ï¼Œæ¯æ¬¡éƒ½ä¼šåˆ›å»ºæ–°çš„statementï¼‰ã€‚ä»¥ä¸Šä¸‰ä¸ªå°±æ˜¯ä¸»è¦çš„Executorã€‚é€šè¿‡ä¸‹å›¾å¯ä»¥çœ‹åˆ°Mybatisåœ¨Executorçš„è®¾è®¡ä¸Šé¢ä½¿ç”¨äº†è£…é¥°å™¨æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨CachingExecutoræ¥è£…é¥°å‰é¢çš„ä¸‰ä¸ªæ‰§è¡Œå™¨ç›®çš„å°±æ˜¯ç”¨æ¥å®ç°ç¼“å­˜ã€‚\n\n![æˆªå›¾2](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/13/4674a8e5ed2443d1880223bbf1c6c689.png)\n\n**MappedStatementï¼š**MappedStatementå°±æ˜¯ç”¨æ¥å­˜æ”¾æˆ‘ä»¬SQLæ˜ å°„æ–‡ä»¶ä¸­çš„ä¿¡æ¯åŒ…æ‹¬sqlè¯­å¥ï¼Œè¾“å…¥å‚æ•°ï¼Œè¾“å‡ºå‚æ•°ç­‰ç­‰ã€‚ä¸€ä¸ªSQLèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªMappedStatementå¯¹è±¡ã€‚\n\n![æˆªå›¾3.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/13/f7335491a70940f4927f816b69d614b6.png)\n\nç¬¬ä¸€æ­¥é€šè¿‡SqlSessionFactoryBuilderåˆ›å»ºSqlSessionFactoryï¼š\n\né¦–å…ˆåœ¨SqlSessionFactoryBuilderçš„buildï¼ˆï¼‰æ–¹æ³•ä¸­å¯ä»¥çœ‹åˆ°MyBatiså†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªç±»XMLConfigBuilderç”¨æ¥è§£æé…ç½®æ–‡ä»¶mybatis-config.xmlã€‚é’ˆå¯¹é…ç½®æ–‡ä»¶ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œè§£æå¹¶å°†æ•°æ®å­˜æ”¾åˆ°Configurationè¿™ä¸ªå¯¹è±¡ä¸­ï¼Œç´§æ¥ç€ä½¿ç”¨å¸¦æœ‰Configurationçš„æ„é€ æ–¹æ³•å‘è¿”å›ä¸€ä¸ªDefautSqlSessionFactoryã€‚\n\n```java\n  public SqlSessionFactory build(InputStream inputStream) {\n    return build(inputStream, null, null);\n  }\n \n  public SqlSessionFactory build(InputStream inputStream, String environment, Properties properties) {\n    try {\n      XMLConfigBuilder parser = new XMLConfigBuilder(inputStream, environment, properties);\n      //è§£æmybatis-config.xml\n      return build(parser.parse());\n    } catch (Exception e) {\n      throw ExceptionFactory.wrapException(\"Error building SqlSession.\", e);\n    } finally {\n      ErrorContext.instance().reset();\n      try {\n        inputStream.close();\n      } catch (IOException e) {\n        // Intentionally ignore. Prefer previous error.\n      }\n    }\n  }\n    \n  //è¿”å›SqlSessionFactoryï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯å®ç°ç±»DefaultSqlSessionFactory\n  public SqlSessionFactory build(Configuration config) {\n    return new DefaultSqlSessionFactory(config);\n  }\n \n  public Configuration parse() {\n    if (parsed) {\n      throw new BuilderException(\"Each XMLConfigBuilder can only be used once.\");\n    }\n    parsed = true;\n    //è·å–æ ¹èŠ‚ç‚¹configuration\n    parseConfiguration(parser.evalNode(\"/configuration\"));\n    return configuration;\n  }\n \n  //å¼€å§‹è§£æmybatis-config.xml,å¹¶æŠŠè§£æåçš„æ•°æ®å­˜æ”¾åˆ°configurationä¸­\n  private void parseConfiguration(XNode root) {\n    try {\n      //ä¿å­˜mybatis-config.xmlä¸­çš„æ ‡ç­¾setting,æœ¬ä¾‹ä¸­å¼€å¯å…¨å±€ç¼“å­˜cacheEnabledï¼Œè®¾ç½®é»˜è®¤æ‰§è¡Œå™¨defaultExecutorType=REUSE\n      Properties settings = settingsAsPropertiess(root.evalNode(\"settings\"));\n      //issue #117 read properties first\n      //è§£ææ˜¯å¦é…ç½®äº†å¤–éƒ¨propertiesï¼Œä¾‹å¦‚æœ¬ä¾‹ä¸­é…ç½®çš„jdbc.propertis\n      propertiesElement(root.evalNode(\"properties\"));\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®äº†VFSï¼Œé»˜è®¤æ²¡æœ‰ï¼Œæœ¬ä¾‹ä¹Ÿæ²¡æœ‰ä½¿ç”¨\n      loadCustomVfs(settings);\n      //æŸ¥çœ‹æ˜¯å¦ç”¨äº†ç±»å‹åˆ«åï¼Œå‡å°‘å®Œå…¨é™å®šåçš„å†—ä½™ï¼Œæœ¬ä¾‹ä¸­ä½¿ç”¨äº†åˆ«åUserä»£æ›¿äº†com.ctc.Model.User\n      typeAliasesElement(root.evalNode(\"typeAliases\"));\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®æ’ä»¶æ¥æ‹¦æˆªæ˜ å°„è¯­å¥çš„æ‰§è¡Œï¼Œä¾‹å¦‚æ‹¦æˆªExecutorçš„Updateæ–¹æ³•ï¼Œæœ¬ä¾‹æ²¡æœ‰ä½¿ç”¨\n      pluginElement(root.evalNode(\"plugins\"))\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®äº†ObjectFactoryï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨å¯¹è±¡çš„æ— å‚æ„é€ æ–¹æ³•æˆ–è€…æ˜¯å¸¦æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œæœ¬ä¾‹æ²¡æœ‰ä½¿ç”¨\n      objectFactoryElement(root.evalNode(\"objectFactory\"));\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®äº†objectWrapperFatory,è¿™ä¸ªç”¨æ¥æˆ–è€…ObjectWapperï¼Œå¯ä»¥è®¿é—®ï¼šå¯¹è±¡ï¼ŒCollectionï¼ŒMapå±æ€§ã€‚æœ¬ä¾‹æ²¡æœ‰ä½¿ç”¨\n      objectWrapperFactoryElement(root.evalNode(\"objectWrapperFactory\"));\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®äº†reflectorFactory,mybatisçš„åå°„å·¥å…·ï¼Œæä¾›äº†å¾ˆå¤šåå°„æ–¹æ³•ã€‚æœ¬ä¾‹æ²¡æœ‰ä½¿ç”¨\n      reflectorFactoryElement(root.evalNode(\"reflectorFactory\"));\n      //æ”¾å…¥å‚æ•°åˆ°configurationå¯¹è±¡ä¸­\n      settingsElement(settings);\n      // read it after objectFactory and objectWrapperFactory issue #631\n      //æŸ¥çœ‹æ•°æ®åº“ç¯å¢ƒé…ç½®\n      environmentsElement(root.evalNode(\"environments\"));\n      //æŸ¥çœ‹æ˜¯å¦ä½¿ç”¨å¤šç§æ•°æ®åº“ï¼Œæœ¬ä¾‹æ²¡æœ‰ä½¿ç”¨\n      databaseIdProviderElement(root.evalNode(\"databaseIdProvider\"));\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®äº†æ–°çš„ç±»å‹å¤„ç†å™¨ï¼Œå¦‚æœè·Ÿå¤„ç†çš„ç±»å‹è·Ÿé»˜è®¤çš„ä¸€è‡´å°±ä¼šè¦†ç›–ã€‚æœ¬ä¾‹æ²¡æœ‰ä½¿ç”¨\n      typeHandlerElement(root.evalNode(\"typeHandlers\"));\n      //æŸ¥çœ‹æ˜¯å¦é…ç½®SQLæ˜ å°„æ–‡ä»¶,æœ‰å››ç§é…ç½®æ–¹å¼ï¼Œresourceï¼Œurlï¼Œclassä»¥åŠè‡ªåŠ¨æ‰«åŒ…packageã€‚æœ¬ä¾‹ä½¿ç”¨package\n      mapperElement(root.evalNode(\"mappers\"));\n    } catch (Exception e) {\n      throw new BuilderException(\"Error parsing SQL Mapper Configuration. Cause: \" + e, e);\n    }\n  }\n \n```\n\nç¬¬äºŒæ­¥é€šè¿‡SqlSessionFactoryåˆ›å»ºSqlSessionï¼š\n\n```java\n  @Override\n  public SqlSession openSession() {\n    return openSessionFromDataSource(configuration.getDefaultExecutorType(), null, false);\n  }\n \n \n  private SqlSession openSessionFromDataSource(ExecutorType execType, TransactionIsolationLevel level, boolean autoCommit) {\n    Transaction tx = null;\n    try {\n      //æ‹¿åˆ°å‰æ–‡ä»mybatisä¸­è§£æåˆ°çš„æ•°æ®åº“ç¯å¢ƒé…ç½®\n      final Environment environment = configuration.getEnvironment();\n      final TransactionFactory transactionFactory = getTransactionFactoryFromEnvironment(environment);\n      //æ‹¿åˆ°jdbcçš„äº‹åŠ¡ç®¡ç†å™¨ï¼Œæœ‰ä¸¤ç§ä¸€ç§æ˜¯jbc,ä¸€ç§çš„managedã€‚æœ¬ä¾‹ä½¿ç”¨çš„æ˜¯JdbcTransaction\n      tx = transactionFactory.newTransaction(environment.getDataSource(), level, autoCommit);\n      //ä»mybatisé…ç½®æ–‡ä»¶å¯ä»¥çœ‹åˆ°æœ¬ä¾‹ä½¿ç”¨äº†REUSEï¼Œå› æ­¤è¿”å›çš„æ˜¯ReuseExecutorå¹¶æŠŠäº‹åŠ¡ä¼ å…¥å¯¹è±¡ä¸­\n      final Executor executor = configuration.newExecutor(tx, execType);\n      return new DefaultSqlSession(configuration, executor, autoCommit);\n    } catch (Exception e) {\n      closeTransaction(tx); // may have fetched a connection so lets call close()\n      throw ExceptionFactory.wrapException(\"Error opening session.  Cause: \" + e, e);\n    } finally {\n      ErrorContext.instance().reset();\n    }\n  }\n \n \n  public Executor newExecutor(Transaction transaction, ExecutorType executorType) {\n    executorType = executorType == null ? defaultExecutorType : executorType;\n    executorType = executorType == null ? ExecutorType.SIMPLE : executorType;\n    Executor executor;\n    if (ExecutorType.BATCH == executorType) {\n      executor = new BatchExecutor(this, transaction);\n    } else if (ExecutorType.REUSE == executorType) {\n      executor = new ReuseExecutor(this, transaction);\n    } else {\n      executor = new SimpleExecutor(this, transaction);\n    }\n    if (cacheEnabled) {\n      executor = new CachingExecutor(executor);\n    }\n    executor = (Executor) interceptorChain.pluginAll(executor);\n    return executor;\n  }\n \n  //è¿”å›ä¸€ä¸ªSqlSessionï¼Œé»˜è®¤ä½¿ç”¨DefaultSqlSession\n  public DefaultSqlSession(Configuration configuration, Executor executor, boolean autoCommit) {\n    this.configuration = configuration;\n    this.executor = executor;\n    this.dirty = false;\n    this.autoCommit = autoCommit;\n  }\n```\n\nç¬¬ä¸‰æ­¥é€šè¿‡SqlSessionæ‹¿åˆ°Mapperå¯¹è±¡çš„ä»£ç†ï¼š\n\n```java\n  @Override\n  public <T> T getMapper(Class<T> type) {\n    return configuration.<T>getMapper(type, this);\n  }\n \n  public <T> T getMapper(Class<T> type, SqlSession sqlSession) {\n    //å‰æ–‡è§£æMybatis-config.xmlçš„æ—¶å€™ï¼Œåœ¨è§£ææ ‡ç­¾mapperå°±æ˜¯ç”¨configurationå¯¹è±¡çš„mapperRegistryå­˜æ”¾æ•°æ®\n    return mapperRegistry.getMapper(type, sqlSession);\n  }\n \n  @SuppressWarnings(\"unchecked\")\n  public <T> T getMapper(Class<T> type, SqlSession sqlSession) {\n    //knownMapperæ˜¯ä¸€ä¸ªHashMapåœ¨å­˜æ”¾mapperRegistryçš„è¿‡ç¨‹ä¸­ï¼Œä»¥æ¯ä¸ªMapperå¯¹è±¡çš„ç±»å‹ä¸ºKey, MapperProxyFactory ä¸ºvalueä¿å­˜ã€‚\n    //ä¾‹å¦‚æœ¬ä¾‹ä¸­ä¿å­˜çš„å°±æ˜¯Key:com.ctc.mapper.UserMapper,valueå°±æ˜¯ä¿å­˜äº†keyçš„MapperProxyFactoryå¯¹è±¡\n    final MapperProxyFactory<T> mapperProxyFactory = (MapperProxyFactory<T>) knownMappers.get(type);\n    if (mapperProxyFactory == null) {\n      throw new BindingException(\"Type \" + type + \" is not known to the MapperRegistry.\");\n    }\n    try {\n      return mapperProxyFactory.newInstance(sqlSession);\n    } catch (Exception e) {\n      throw new BindingException(\"Error getting mapper instance. Cause: \" + e, e);\n    }\n  }\n \n  public T newInstance(SqlSession sqlSession) {\n    //ç”Ÿæˆä¸€ä¸ªmapperProxyå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å®ç°äº†InvocationHandler, Serializableã€‚å°±æ˜¯JDKåŠ¨æ€ä»£ç†ä¸­çš„æ–¹æ³•è°ƒç”¨å¤„ç†å™¨\n    final MapperProxy<T> mapperProxy = new MapperProxy<T>(sqlSession, mapperInterface, methodCache);\n    return newInstance(mapperProxy);\n  }\n \n  public MapperProxy(SqlSession sqlSession, Class<T> mapperInterface, Map<Method, MapperMethod> methodCache) {\n    this.sqlSession = sqlSession;\n    this.mapperInterface = mapperInterface;\n    this.methodCache = methodCache;\n  }\n \n  @SuppressWarnings(\"unchecked\")\n  protected T newInstance(MapperProxy<T> mapperProxy) {\n    //é€šè¿‡JDKåŠ¨æ€ä»£ç†ç”Ÿæˆä¸€ä¸ªMapperçš„ä»£ç†ï¼Œåœ¨æœ¬ä¾‹ä¸­çš„å°±æ˜¯UserMapperçš„ä»£ç†ç±»ï¼Œå®ƒå®ç°äº†UserMapperæ¥å£\n    return (T) Proxy.newProxyInstance(mapperInterface.getClassLoader(), new Class[] { mapperInterface }, mapperProxy);\n  }\n \n```\n\nç¬¬å››æ­¥é€šè¿‡MapperProxyè°ƒç”¨Maperä¸­ç›¸åº”çš„æ–¹æ³•ï¼š\n\n```java\n  @Override\n  public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n   //åˆ¤æ–­å½“å‰è°ƒç”¨çš„methodæ˜¯ä¸æ˜¯Objectä¸­å£°æ˜çš„æ–¹æ³•ï¼Œå¦‚æœæ˜¯çš„è¯ç›´æ¥æ‰§è¡Œã€‚\n   if (Object.class.equals(method.getDeclaringClass())) {\n      try {\n        return method.invoke(this, args);\n      } catch (Throwable t) {\n        throw ExceptionUtil.unwrapThrowable(t);\n      }\n    }\n    final MapperMethod mapperMethod = cachedMapperMethod(method);\n    return mapperMethod.execute(sqlSession, args);\n  }\n \n  //æŠŠå½“å‰è¯·æ±‚æ”¾å…¥ä¸€ä¸ªHashMapä¸­ï¼Œä¸€æ—¦ä¸‹æ¬¡è¿˜æ˜¯åŒæ ·çš„æ–¹æ³•è¿›æ¥ç›´æ¥è¿”å›ã€‚\n  private MapperMethod cachedMapperMethod(Method method) {\n    MapperMethod mapperMethod = methodCache.get(method);\n    if (mapperMethod == null) {\n      mapperMethod = new MapperMethod(mapperInterface, method, sqlSession.getConfiguration());\n      methodCache.put(method, mapperMethod);\n    }\n    return mapperMethod;\n  }\n \n  public Object execute(SqlSession sqlSession, Object[] args) {\n    Object result;\n    switch (command.getType()) {\n      case INSERT: {\n        Object param = method.convertArgsToSqlCommandParam(args);\n        result = rowCountResult(sqlSession.insert(command.getName(), param));\n        break;\n      }\n      case UPDATE: {\n        Object param = method.convertArgsToSqlCommandParam(args);\n        result = rowCountResult(sqlSession.update(command.getName(), param));\n        break;\n      }\n      case DELETE: {\n        Object param = method.convertArgsToSqlCommandParam(args);\n        result = rowCountResult(sqlSession.delete(command.getName(), param));\n        break;\n      }\n      case SELECT:\n        if (method.returnsVoid() && method.hasResultHandler()) {\n          executeWithResultHandler(sqlSession, args);\n          result = null;\n        } else if (method.returnsMany()) {\n          result = executeForMany(sqlSession, args);\n        } else if (method.returnsMap()) {\n          result = executeForMap(sqlSession, args);\n        } else if (method.returnsCursor()) {\n          result = executeForCursor(sqlSession, args);\n        } else {\n          //æœ¬æ¬¡æ¡ˆä¾‹ä¼šæ‰§è¡ŒselectOne\n          Object param = method.convertArgsToSqlCommandParam(args);\n          result = sqlSession.selectOne(command.getName(), param);\n        }\n        break;\n      case FLUSH:\n        result = sqlSession.flushStatements();\n        break;\n      default:\n        throw new BindingException(\"Unknown execution method for: \" + command.getName());\n    }\n    if (result == null && method.getReturnType().isPrimitive() && !method.returnsVoid()) {\n      throw new BindingException(\"Mapper method \'\" + command.getName() \n          + \" attempted to return null from a method with a primitive return type (\" + method.getReturnType() + \").\");\n    }\n    return result;\n  }\n \n  @Override\n  public <T> T selectOne(String statement, Object parameter) {\n    // Popular vote was to return null on 0 results and throw exception on too many.\n    List<T> list = this.<T>selectList(statement, parameter);\n    if (list.size() == 1) {\n      return list.get(0);\n    } else if (list.size() > 1) {\n      throw new TooManyResultsException(\"Expected one result (or null) to be returned by selectOne(), but found: \" + list.size());\n    } else {\n      return null;\n    }\n  }\n \n  @Override\n  public <E> List<E> selectList(String statement, Object parameter, RowBounds rowBounds) {\n    try {\n      MappedStatement ms = configuration.getMappedStatement(statement);\n      return executor.query(ms, wrapCollection(parameter), rowBounds, Executor.NO_RESULT_HANDLER);\n    } catch (Exception e) {\n      throw ExceptionFactory.wrapException(\"Error querying database.  Cause: \" + e, e);\n    } finally {\n      ErrorContext.instance().reset();\n    }\n  }\n \n  //è¿™è¾¹è°ƒç”¨çš„æ˜¯CachingExecutorç±»çš„query,è¿˜è®°å¾—å‰æ–‡è§£æmybatis-config.xmlçš„æ—¶å€™æˆ‘ä»¬æŒ‡å®šäº†REUSEä½†æ˜¯å› ä¸ºåœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯äº†ç¼“å­˜\n  //æ‰€ä»¥ReuseExecutorè¢«CachingExecoturè£…é¥°ï¼Œæ–°å¢äº†ç¼“å­˜çš„åˆ¤æ–­ï¼Œæœ€åè¿˜æ˜¯ä¼šè°ƒç”¨ReuseExecutor\n  @Override\n  public <E> List<E> query(MappedStatement ms, Object parameterObject, RowBounds rowBounds, ResultHandler resultHandler) throws SQLException {\n    BoundSql boundSql = ms.getBoundSql(parameterObject);\n    CacheKey key = createCacheKey(ms, parameterObject, rowBounds, boundSql);\n    return query(ms, parameterObject, rowBounds, resultHandler, key, boundSql);\n  }\n \n  @Override\n  public <E> List<E> query(MappedStatement ms, Object parameterObject, RowBounds rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql)\n      throws SQLException {\n    Cache cache = ms.getCache();\n    if (cache != null) {\n      flushCacheIfRequired(ms);\n      if (ms.isUseCache() && resultHandler == null) {\n        ensureNoOutParams(ms, parameterObject, boundSql);\n        @SuppressWarnings(\"unchecked\")\n        List<E> list = (List<E>) tcm.getObject(cache, key);\n        if (list == null) {\n          //å¦‚æœç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®åˆ™æŸ¥è¯¢æ•°æ®åº“\n          list = delegate.<E> query(ms, parameterObject, rowBounds, resultHandler, key, boundSql);\n          //ç»“æœé›†æ”¾å…¥ç¼“å­˜\n          tcm.putObject(cache, key, list); // issue #578 and #116\n        }\n        return list;\n      }\n    }\n    return delegate.<E> query(ms, parameterObject, rowBounds, resultHandler, key, boundSql);\n  }\n\n```\n\n \n\n â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/u010890358/article/details/80665753\n\n# **å¤æ‚æŸ¥è¯¢ç¯å¢ƒæ­å»º**\n\n**å¤šå¯¹ä¸€**\n\n**æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†**\n\n```java\n<!--    å¤šå¯¹ä¸€-->\n    <!--æ€è·¯\n        1ã€æŸ¥è¯¢æ‰€æœ‰çš„ä¿¡æ¯\n        2ã€æ ¹æ®pidæŸ¥å‡ºè€å¸ˆçš„å…¨éƒ¨ä¿¡æ¯\n    -->\n\n    <select id=\"getStudent\" resultMap=\"studentTeacher\">\n        select * from people;\n    </select>\n    <resultMap id=\"studentTeacher\" type=\"User\">\n        <result column=\"id\" property=\"id\"/>\n        <result column=\"name\" property=\"name\"/>\n<!--        å¤æ‚çš„å±æ€§æˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç†-->\n<!--        å¯¹è±¡ association\n            é›†åˆ collection\n-->\n        <association property=\"teacher\" column=\"pid\" javaType=\"teacher\" select=\"getTeacher\" />\n    </resultMap>\n\n    <select id=\"getTeacher\" resultType=\"teacher\">\n        select * from  user where id = #{id};\n    </select>\n```\n\n**æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†** \n\n```xml\n<!--    æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†-->\n    <select id=\"getStudent2\" resultMap=\"studentTeacher2\">\n        SELECT p.id sid,p.`name` sname,u.`name` tname FROM people p ,`user` u WHERE p.pid = u.id;\n    </select>\n    <resultMap id=\"studentTeacher2\" type=\"user\">\n        <result property=\"id\" column=\"sid\"/>\n        <result property=\"name\" column=\"sname\"/>\n        <association property=\"teacher\" javaType=\"teacher\">\n            <result property=\"name\" column=\"tname\"/>\n        </association>\n    </resultMap>\n```\n\n## **ä¸€å¯¹å¤š**\n\nç¬¬ä¸€ç§**ã€æŒ‰ç…§ç»“æœåµŒå¥—æŸ¥è¯¢**\n\n```xml\n <select id=\"getStudents\" resultMap=\"getTeacherStudent\">\n        SELECT p.id sid,p.name sname,u.`name` tname,u.id tid from people p,`user` u where p.pid = u.id and u.id =#{tid}\n    </select>\n    <resultMap id=\"getTeacherStudent\" type=\"Teacher\">\n        <result property=\"id\" column=\"tid\"/>\n        <result property=\"name\" column=\"tname\"/>\n<!--        é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯ï¼Œæˆ‘ä»¬ç”¨oftypeä½¿ç”¨-->\n        <collection property=\"students\" ofType=\"user\">\n            <result property=\"id\" column=\"sid\"/>\n            <result property=\"name\" column=\"sname\"/>\n        </collection>\n    </resultMap>\n    \n    ç»“æœï¼š\n    Teacher(id=1, name=å°åˆ˜, students=[User(name=å°åˆ˜, id=1, address=null, age=null, teacher=null, pid=null), \n    User(name=å¤§åˆ˜, id=2, address=null, age=null, teacher=null, pid=null)]\n```\n\nç¬¬äºŒç§ã€**æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†**\n\n```xml\n<select id=\"getStudents2\" resultMap=\"getTeacherStudent2\">\n    select * from user where id = #{tid}\n</select>\n<resultMap id=\"getTeacherStudent2\" type=\"teacher\">\n    <collection property=\"students\" javaType=\"ArrayList\" ofType=\"user\" select=\"getStudentByTeacherId\" column=\"id\" />\n</resultMap>\n<select id=\"getStudentByTeacherId\" resultType=\"user\">\n    select * from people where pid = #{tid}\n</select>\n\nç»“æœ:\n    Teacher(id=null, name=å°åˆ˜, students=[User(name=å°åˆ˜, id=1, address=å…‰æ˜å¤§é“, age=12, teacher=null, pid=1), \n    User(name=å¤§åˆ˜, id=2, address=å…‰æ˜å¤§é“, age=13, teacher=null, pid=1), \n    User(name=xiaoliu, id=3, address=å…‰æ˜å¤§é“, age=31, teacher=null, pid=1)]\n```\n\n**å°ç»“ï¼š**\n\nå…³è”ï¼šassociation ã€å¤šå¯¹ä¸€ã€‘\n\né›†åˆï¼šcollection    ã€ä¸€å¯¹å¤šã€‘\n\njavaType & ofType\n\njavaType ç”¨æ¥æŒ‡å®šå®ä½“ç±»å±æ€§çš„ç±»å‹\n\nofType ç”¨æ¥æŒ‡å®šæ˜ å°„åˆ°**list**æˆ–è€…é›†åˆä¸­çš„**entityï¼Œæ³›å‹ä¸­çš„çº¦æŸç±»**\n\n**![æˆªå›¾4](æˆªå›¾4.png)**\n\n**æ³¨æ„ç‚¹ï¼šä¿è¯sqlè¯­å¥çš„å¯è¯»æ€§ï¼Œå°½é‡ä¿è¯é€šä¿—æ˜“æ‡‚**\n\n**æ³¨æ„ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€ï¼Œå±æ€§å’Œå­—æ®µåçš„é—®é¢˜**\n\n**å¦‚æœé—®é¢˜ä¸å¥½æ’æŸ¥ï¼Œå¯ä»¥ä½¿ç”¨æ—¥å¿—**\n\n**é¢è¯•é«˜é¢‘ï¼š**\n\n**Mysqlå¼•æ“**\n\n**InnoDBåº•å±‚åŸç†**\n\n**ç´¢å¼•**\n\n**ç´¢å¼•ä¼˜åŒ–ï¼**\n\n\n\n# åŠ¨æ€SQL\n\nä»€ä¹ˆæ˜¯åŠ¨æ€sqlï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒçš„sqlè¯­å¥ã€‚\n\nMyBatis 3 æ›¿æ¢äº†ä¹‹å‰çš„å¤§éƒ¨åˆ†å…ƒç´ ï¼Œå¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨è¦å­¦ä¹ çš„å…ƒç´ ç§ç±»æ¯”åŸæ¥çš„ä¸€åŠè¿˜è¦å°‘ã€‚\n\n- if\n- choose (when, otherwise)\n- trim (where, set)\n- foreach\n\n## IF\n\n```xml\n<select id=\"queryBlogIf\" parameterType=\"map\" resultType=\"blog\">\n    select * from t_blog where 1=1\n        <if test=\"tittle !=null\">\n            and tittle=#{tittle}\n        </if>\n        <if test=\"description!=null\">\n            and description=#{description}\n        </if>\n</select>\n```', 0, '2022-09-13 23:35:55', '2022-10-21 20:01:00', 0, 124, 5, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/13/4674a8e5ed2443d1880223bbf1c6c689.png', 7);
INSERT INTO `t_blog` VALUES (238, 'mybatis04', 'mybatisç¬”è®°', '## trimã€whereã€ set\n\n**where**å…ƒç´ åªä¼šåœ¨è‡³å°‘æœ‰ä¸€ä¸ªå­å…ƒç´ çš„æ¡ä»¶è¿”å› SQLå­å¥çš„æƒ…å†µä¸‹æ‰å»æ’å…¥\"WHERE\"å­å¥ã€‚è€Œä¸”,è‹¥è¯­å¥çš„å¼€å¤´ä¸ºâ€œAND\"æˆ–\"ORâ€ï¼Œ where å…ƒç´ ä¹Ÿä¼šå°†å®ƒä»¬å»é™¤ã€‚\n\nå¦‚æœ *where* å…ƒç´ ä¸ä½ æœŸæœ›çš„ä¸å¤ªä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ trim å…ƒç´ æ¥å®šåˆ¶ *where* å…ƒç´ çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œå’Œ *where* å…ƒç´ ç­‰ä»·çš„è‡ªå®šä¹‰ trim å…ƒç´ ä¸ºï¼š\n\n```xml\n<trim prefix=\"WHERE\" prefixOverrides=\"AND |OR \">\n  ...\n</trim>\n```\n\n```java\nè®°å¾—åœ¨å·¥å…·ç±»ä¸­å¼€å¯è‡ªåŠ¨æäº¤äº‹åŠ¡\nreturn sqlSessionFactory.openSession(true);\n```\n\n```java\n<update id=\"updateBlog\" parameterType=\"map\">\n    update t_blog\n    <set>\n        <if test=\"tittle!=null\">\n            tittle=#{tittle},\n        </if>\n        <if test=\"description!=null\">\n            description{description}\n        </if>\n    </set>\n        where id =#{id}\n</update>\n```\n\n\n\n\n\n## chooseã€whenã€otherwise\n\n```xml\n<select id=\"queryBlogChoose\" parameterType=\"map\" resultType=\"blog\">\n    select * from t_blog\n    <where>\n        <choose>\n            <when test=\"tittle!=null\">\n                tittle = #{tittle}\n            </when>\n            <when test=\"description!=null\">\n                and description=#{description}\n            </when>\n            <otherwise>\n                and created_time=#{createdTime}\n            </otherwise>\n        </choose>\n    </where>\n</select>\n```\n\næ»¡è¶³ä¸€ä¸ªæ¡ä»¶å°±è¿”å›\n\n### foreach\n\nå®˜æ–¹å®ä¾‹\n\n```java\n<select id=\"selectPostIn\" resultType=\"domain.blog.Post\">\n  SELECT *\n  FROM POST P\n  WHERE ID in\n  <foreach item=\"item\" index=\"index\" collection=\"list\"\n      open=\"(\" separator=\",\" close=\")\">\n        #{item}\n  </foreach>\n</select>\n```\n\næ¡ˆä¾‹\n\n```xml\n<select id=\"findByFor\" parameterType=\"map\" resultType=\"blog\">\n        select * from t_blog\n        <where>\n        <foreach collection=\"ids\" item=\"item\" open=\" (\" close=\")\" separator=\"or\">\n           id =  #{item}\n        </foreach>\n        </where>\n    </select>\n```\n\n\n\n# sqlç‰‡æ®µ\n\nå°†éœ€è¦å…¬å…±çš„sqlç‰‡æ®µæå–å‡ºæ¥å¤ç”¨\n\n```xml\n<select id=\"queryBlogIf\" parameterType=\"map\" resultType=\"blog\">\n    select * from t_blog\n    <where>\n        <include refid=\"if-tittle-exist\"></include>\n    </where>\n</select>\n<sql id=\"if-tittle-exist\">\n    <if test=\"tittle !=null\">\n        and tittle=#{tittle}\n    </if>\n    <if test=\"description!=null\">\n        and description=#{description}\n    </if>\n</sql>\n```\n\næ³¨æ„äº‹é¡¹ï¼š\n\næœ€å¥½åŸºäºå•è¡¨å®šä¹‰SQLç‰‡æ®µ\n\nä¸è¦å­˜åœ¨whereæ ‡ç­¾\n\n## æ€»ç»“ï¼š\n\nåŠ¨æ€sqlå°±æ˜¯åœ¨æ‹¼æ¥è¯­å¥ï¼ŒæŒ‰ç…§sqlçš„è¯­æ³•æ‹¼æ¥å°±ä¸ä¼šæœ‰é”™\n\n# ç¼“å­˜\n\nå­˜å…¥å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®\n\nä½¿ç”¨ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“ä¹‹é—´çš„äº¤äº’ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡\n\n## mybatisç¼“å­˜\n\né»˜è®¤æƒ…å†µä¸‹æ˜¯å¼€å¯**ä¸€çº§ç¼“å­˜çš„**\n\näºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œå®ƒæ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼ˆä¸€ä¸ªæ¥å£ï¼‰\n\nmybatisä¸­ä¹Ÿæœ‰Cacheæ¥å£\n\nå¯ç”¨çš„æ¸…é™¤ç­–ç•¥æœ‰ï¼š\n\n- `LRU` â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚\n- `FIFO` â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚\n- `SOFT` â€“ è½¯å¼•ç”¨ï¼šåŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚\n- `WEAK` â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚\n\nç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š\n\n1ã€å¢åˆ æ”¹çš„æƒ…å†µï¼Œ\n\n2ã€æŸ¥è¯¢çš„å‚æ•°ä¸ä¸€æ ·\n\n3ã€æŸ¥è¯¢ä¸é€šçš„mapper.xml\n\n4ã€æ‰‹åŠ¨åˆ é™¤ç¼“å­˜\n\n### äºŒçº§ç¼“å­˜\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œåªå¯ç”¨äº†æœ¬åœ°çš„ä¼šè¯ç¼“å­˜ï¼Œå®ƒä»…ä»…å¯¹ä¸€ä¸ªä¼šè¯ä¸­çš„æ•°æ®è¿›è¡Œç¼“å­˜ã€‚ è¦å¯ç”¨å…¨å±€çš„äºŒçº§ç¼“å­˜ï¼Œåªéœ€è¦åœ¨ä½ çš„ SQL æ˜ å°„æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼š\n\n```\n<cache/>\n```\n\nåœ¨æ­¤ä¹‹å‰éœ€è¦å¼€å¯ç¼“å­˜\n\n### ç¼“å­˜åŸç†\n\n![image20220916170248156.png](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/16/1ff53ad3f1e64a44a63ecf1b7b26bdca.png)\n\n## è‡ªå®šä¹‰ç¼“å­˜\n\nehcache\n\n```xml\n<dependency>\n  <groupId>org.mybatis.caches</groupId>\n  <artifactId>mybatis-ehcache</artifactId>\n  <version>1.2.2</version>\n</dependency>\n```\n\nxml\n\n```xml\n    <cache type=\"org.mybatis.caches.ehcache.EhcacheCache\"/>\n```\n\nehcache.xml\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ehcache xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:noNamespaceSchemaLocation=\"http://ehcache.org/ehcache.xsd\"\n         updateCheck=\"true\" monitoring=\"autodetect\"\n         dynamicConfig=\"true\">\n\n\n    <defaultCache\n            maxElementsInMemory=\"1\"\n            eternal=\"false\"\n            overflowToDisk=\"false\"\n            timeToIdleSeconds=\"1800\"\n            timeToLiveSeconds=\"1800\">\n    </defaultCache>\n\n    <cache name=\"data-cache\"\n           maxElementsInMemory=\"500\"\n           overflowToDisk=\"false\"\n           eternal=\"true\"\n           timeToIdleSeconds=\"18000\"\n           timeToLiveSeconds=\"18000\"\n           memoryStoreEvictionPolicy=\"LRU\"\n           transactionalMode=\"off\" />\n    <!--\n    diskStoreï¼šæŒ‡å®šæ•°æ®åœ¨ç£ç›˜ä¸­çš„å­˜å‚¨ä½ç½®ã€‚\n defaultCacheï¼šå½“å€ŸåŠ©CacheManager.add(\"demoCache\")åˆ›å»ºCacheæ—¶ï¼ŒEhCacheä¾¿ä¼šé‡‡ç”¨<defalutCache/>æŒ‡å®šçš„çš„ç®¡ç†ç­–ç•¥\nä»¥ä¸‹å±æ€§æ˜¯å¿…é¡»çš„ï¼š\n maxElementsInMemory - åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®\n maxElementsOnDisk - åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§\n eternal - è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œå¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsï¼ŒtimeToLiveSecondsåˆ¤æ–­\n overflowToDisk - è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š\nä»¥ä¸‹å±æ€§æ˜¯å¯é€‰çš„ï¼š\n timeToIdleSeconds - å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œè¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§\n timeToLiveSeconds - ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§\n diskSpoolBufferSizeMB è¿™ä¸ªå‚æ•°è®¾ç½®DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°.é»˜è®¤æ˜¯30MB.æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº.\n diskPersistent - åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯falseã€‚\n diskExpiryThreadIntervalSeconds - ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ\n memoryStoreEvictionPolicy - å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€‚\n    -->\n</ehcache>\n```', 0, '2022-09-16 22:40:37', '2022-10-21 20:01:00', 0, 124, 4, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/16/1ff53ad3f1e64a44a63ecf1b7b26bdca.png', 7);
INSERT INTO `t_blog` VALUES (239, 'spring02', 'springå­¦ä¹ ç¬”è®°', '**åŸºäºxmlæ–¹å¼æ³¨å…¥å…¶ä»–å±æ€§**\n\n1ã€å­—é¢é‡\n\n- nullå€¼\n\n```xml\n<bean id=\"user\" class=\"com.xiaoliu.entity.User\" >\n    <property name=\"name\">\n        <null/>\n    </property>\n</bean>\n```\n\n- å…¶ä»–å±æ€§\n\n```xml\n<!--    å±æ€§è½¬åŒ–ä¸ºç‰¹è‰²ç¬¦å·\n        1ã€æŠŠ<>è¿›è¡Œè½¬ä¹‰\n        2ã€æŠŠç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ°CDATAé‡Œ\n-->\n    <bean id=\"user\" class=\"com.xiaoliu.entity.User\" >\n        <property name=\"name\">\n            <value>\n                <![CDATA[\n                $XIAOLIU\n                ]]>\n            </value>\n        </property>\n    </bean>\n```\n\næ³¨å…¥å±æ€§-å¤–éƒ¨bean\n\n- åˆ›å»ºserviceå±‚\n\n**userDao**\n\n```java\npublic interface UserDao {\n    void Update();\n\n}\n```\n\n**UserDaoImpl**\n\n```java\npublic class UserDaoImpl implements UserDao{\n\n    @Override\n    public void Update() {\n        System.out.println(\"è¿›å…¥uodate...\");\n    }\n}\n\n```\n\n**service**\n\n```java\npublic interface Service {\n    void Update();\n\n}\n\n```\n\n**serviceImpl**\n\n```java\npublic class ServiceImpl implements Service{\n    private UserDao userDao;\n\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n\n    @Override\n    public void Update() {\n        userDao.Update();\n    }\n}\n\n```\n\n**bean2.xmlé…ç½®æ–‡ä»¶ä¸­**\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n\n<!--    åˆ›å»ºserviceå’Œdaoçš„å¯¹è±¡åˆ›å»º-->\n    <bean id=\"service\" class=\"com.xiaoliu.service.ServiceImpl\">\n<!--        æ³¨å…¥userDaoçš„å¯¹è±¡\n            refå±æ€§ï¼šåˆ›å»ºbeanä¸­å¯¹åº”çš„idçš„å€¼\n    -->\n        <property name=\"userDao\" ref=\"userDao\"></property>\n    </bean>\n    <bean id=\"userDao\" class=\"com.xiaoliu.dao.UserDaoImpl\"></bean>\n</beans>\n```\n\nåœ¨springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®\n\næ³¨å…¥å±æ€§-å†…éƒ¨beanå’Œçº§è”èµ‹å€¼ \n\n- ä¸€å¯¹å¤šçš„å…³ç³»\n\n1ã€ åˆ›å»ºä¸€å¯¹å¤šçš„å…³ç³»å®ä½“ï¼Œéƒ¨é—¨å¯¹å‘˜å·¥\n\n```java\néƒ¨é—¨\npublic class Emp {\n    private String name;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\nå‘˜å·¥\npublic class Dept {\n    private String ename;\n    private String gender;\n    private Dept dept;\n\n    public void setEname(String ename) {\n        this.ename = ename;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    public void setDept(Dept dept) {\n        this.dept = dept;\n    }\n}\n```\n\n2ã€åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®\n\n```xml\n<!--    å†…éƒ¨bean-->\n    <bean id=\"dept\" class=\"com.xiaoliu.entity.Dept\">\n<!--        è®¾ç½®ä¸¤ä¸ªå±æ€§-->\n        <property name=\"ename\" value=\"xiaoliu\"></property>\n        <property name=\"gender\" value=\"nan\"></property>\n<!--        då¯¹è±¡ç±»å‹çš„å±æ€§-->\n        <property name=\"emp\">\n            <bean id=\"emp\" class=\"com.xiaoliu.entity.Emp\">\n                <property name=\"name\" value=\"å®‰ä¿éƒ¨\"></property>\n            </bean>\n        </property>\n    </bean>\n```\n\n3ã€æµ‹è¯•\n\n```java\n@Test\n    public void test4(){\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\"spring/bean3.xml\");\n        Dept dept = context.getBean(\"dept\", Dept.class);\n        dept.toString();\n\n    }\n```\n\n4ã€æ³¨å…¥å±æ€§-çº§è”èµ‹å€¼\n\n1ã€ä¸æ³¨å…¥å¤–éƒ¨beanä¸€è‡´\n\n#### æ³¨å…¥é›†åˆç±»å‹å±æ€§\n\n1ã€æ³¨å…¥æ•°ç»„ç±»å‹çš„å±æ€§,2ã€æ³¨å…¥Listé›†åˆå±æ€§,3ã€æ³¨å…¥mapé›†åˆç±»å‹å±æ€§\n\n åˆ›å»ºå®ä½“\n\n```java\npublic class Stu {\n    private String[] course;\n    private List<String> list;\n    private Map<String,String> maps;\n    private Set<String> sets;\n\n    public void setSets(Set<String> sets) {\n        this.sets = sets;\n    }\n\n    public void setList(List<String> list) {\n        this.list = list;\n    }\n\n    public void setMaps(Map<String, String> maps) {\n        this.maps = maps;\n    }\n\n    public void setCourse(String[] course) {\n        this.course = course;\n    }\n}\n\n```\n\nspringé…ç½®æ–‡ä»¶ä¸­é…ç½®\n\n```xml\n        <bean id=\"stu\" class=\"com.xiaoliu.entity.Stu\">\n<!--                æ•°ç»„ç±»å‹çš„æ³¨å…¥-->\n                <property name=\"course\">\n                        <array>\n                                <value>daliu</value>\n                                <value>xiaoliu</value>\n                                <value>java</value>\n                                <value>array</value>\n                        </array>\n                </property>\n<!--                é›†åˆç±»å‹çš„æ³¨å…¥-->\n            <property name=\"list\">\n                <list>\n                    <value>xiaoliu</value>\n                    <value>daliuliu</value>\n                </list>\n            </property>\n<!--            mapç±»å‹æ³¨å…¥-->\n            <property name=\"maps\">\n                <map>\n                    <entry key=\"we\" value=\"value\"></entry>\n                    <entry key=\"we2\" value=\"value2\"></entry>\n                </map>\n            </property>\n<!--            seté›†åˆ-->\n            <property name=\"sets\">\n                <set>\n                    <value>we</value>\n                    <value>we</value>\n                    <value>we</value>\n                </set>\n            </property>\n        </bean>\n```\n\n#### æ³¨å…¥é›†åˆç±»å‹ä¸ºå¯¹è±¡å±æ€§\n\nå®ä½“\n\n```java\npublic class Course {\n    private String cname;\n\n    @Override\n    public String toString() {\n        return \"Course{\" +\n                \"cname=\'\" + cname + \'\\\'\' +\n                \'}\';\n    }\n\n    public void setCname(String cname) {\n        this.cname = cname;\n    }\n}\n\nå­¦ç”Ÿ\n        private List<Course> courses;\n```\n\né…ç½®æ–‡ä»¶\n\n```xml\n<!--            æ³¨å…¥listå¯¹è±¡é›†åˆ-->\n            <property name=\"courses\">\n                <list>\n                    <ref bean=\"course1\"></ref>\n                    <ref bean=\"course2\"></ref>\n                </list>\n            </property>\n        </bean>\n<!--åˆ›å»ºå¤šä¸ªbeanå¯¹è±¡-->\n    <bean id=\"course1\" class=\"com.xiaoliu.entity.Course\">\n        <property name=\"cname\" value=\"JAVAè¯¾ç¨‹\"></property>\n    </bean>\n    <bean id=\"course2\" class=\"com.xiaoliu.entity.Course\">\n        <property name=\"cname\" value=\"Cè¯¾ç¨‹\"></property>\n    </bean>\n```\n\n æŠŠé›†åˆæ³¨å…¥éƒ¨åˆ†æå‰å‡ºæ¥\n\n1ã€åœ¨springé…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´ï¼ˆideaä¼šè‡ªåŠ¨æ³¨å…¥ï¼‰\n\n2ã€å®ä½“\n\n```java\npublic class Book {\n    private List<String> name;\n\n    @Override\n    public String toString() {\n        return \"Book{\" +\n                \"name=\" + name +\n                \'}\';\n    }\n\n    public void setName(List<String> name) {\n        this.name = name;\n    }\n}\n```\n\n3ã€ä½¿ç”¨utilæ ‡ç­¾å®Œæˆlisté›†åˆæå–å‡ºæ¥\n\n4ã€é…ç½®æ–‡ä»¶ä¸­\n\n```xml\n \n<!--    æèµ·listé›†åˆç±»å‹å±æ€§æ³¨å…¥-->\n    <util:list id=\"bookList\">\n        <value>we</value>\n        <value>qwerqwer</value>\n        <value>qwer</value>\n    </util:list>\n\n    <bean id=\"book\" class=\"com.xiaoliu.entity.Book\">\n        <property name=\"name\" ref=\"bookList\"></property>\n    </bean>\n```\n\n## FactoryBean\n\n1ã€springæœ‰ä¸¤ç§ç±»å‹çš„beanã€ä¸€ç§æ™®é€šçš„beanï¼Œå¦å¤–ä¸€ç§å·¥å‚bean\n\n2ã€æ™®é€šbean\n\n```xml\n   <bean id=\"book\" class=\"com.xiaoliu.entity.Book\">\n        <property name=\"name\" ref=\"bookList\"></property>\n    </bean>\n```\n\n', 0, '2022-09-20 22:17:12', '2022-10-21 20:01:00', 0, 123, 3, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/09/b4ea827ecfbe4bcfbc3babbd6a256cc3.png', 7);
INSERT INTO `t_blog` VALUES (240, 'Springå­¦ä¹ ç¬”è®°', 'Spring', '3ã€å·¥å‚beanï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰beanç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸ä¸€æ ·\n\nç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºç±»ï¼šè®©è¿™ä¸ªç±»ä½œä¸ºå·¥å‚beanï¼Œå®ç°æ¥å£FactoryBean\n\nç¬¬äºŒæ­¥ï¼Œå®ç°æ¥å£æ–¹æ³•\n\n```java\npublic class FCBean implements FactoryBean<Course> {\n    @Override\n    public Course getObject() throws Exception {\n        Course course = new Course();\n        course.setCname(\"we\");\n        return course;\n    }\n\n    @Override\n    public Class<?> getObjectType() {\n        return null;\n    }\n\n    @Override\n    public boolean isSingleton() {\n        return FactoryBean.super.isSingleton();\n    }\n}\n```\n\né…ç½®æ–‡ä»¶\n\n```xml\n	    <bean id=\"myBean\" class=\"com.xiaoliu.entity.FCBean\">\n    </bean>\n```\n\n### Beançš„ä½œç”¨åŸŸ\n\n1ã€åœ¨springä¸­ï¼Œè®¾ç½®åˆ›å»ºbeanå®ä¾‹æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹\n\n2ã€åœ¨springä¸­ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œbeanæ˜¯ä¸€ä¸ªå•å®ä¾‹å¯¹è±¡\n\n3ã€è®¾ç½®å•å®ä¾‹æˆ–å¤šå®ä¾‹\n\nï¼ˆ1ï¼‰é…ç½®æ–‡ä»¶ä¸­beanæ ‡ç­¾æœ‰å±æ€§ï¼ˆscopeï¼‰ç”¨äºè®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹\n\nï¼ˆ2ï¼‰scopeå±æ€§\n\n- é»˜è®¤å€¼singletonï¼Œè¡¨ç¤ºå•ä¾‹\n- prototypeï¼Œè¡¨ç¤ºæ˜¯å¤šå®ä¾‹å¯¹è±¡\n\nï¼ˆ3ï¼‰singletonå’ŒprototypeåŒºåˆ«\n\nå½“scopeä¸ºsingletonæ—¶ï¼ŒåŠ è½½springé…ç½®æ–‡ä»¶æ—¶å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡\n\nå½“scopeä¸ºprototypeæ—¶ï¼Œåœ¨è°ƒç”¨getBeanæ–¹æ³•æ—¶ï¼Œåˆ›å»ºå¤šå®ä¾‹å¯¹è±¡\n\n### Beançš„ç”Ÿå‘½å‘¨æœŸ\n\n1ã€é€šè¿‡æ„é€ å™¨çš„åˆ›å»ºbeanå®ä¾‹ï¼ˆæ— å‚æ„é€ å™¨ï¼‰\n\n2ã€ä¸ºbeançš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»–beanå¼•ç”¨ï¼ˆè°ƒç”¨setæ–¹æ³•ï¼‰\n\n3ã€è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆéœ€è¦ç›¸åº”çš„é…ç½®ï¼‰\n\n4ã€beanå¯ä»¥ä½¿ç”¨\n\n5ã€å½“å®¹å™¨å…³é—­çš„æ—¶ï¼Œè°ƒç”¨beançš„é”€æ¯æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®é”€æ¯æ–¹æ³•ï¼‰\n\nåˆ›å»ºå®ä½“\n\n```java\n\npublic class InitBean {\n    private String name;\n\n    public InitBean() {\n        System.out.println(\"ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡æ— å‚æ„é€ å™¨è·å–å¯¹è±¡\");\n    }\n\n    public void setName(String name) {\n        this.name = name;\n        System.out.println(\"ç¬¬äºŒæ­¥ï¼Œé€šè¿‡setæ–¹æ³•è·å–å±æ€§å€¼\");\n    }\n\n    public void InitMethod(){\n        System.out.println(\"ç¬¬ä¸‰æ­¥ï¼Œåˆå§‹åŒ–bean\");\n    }\n\n    public void DestroyMethod(){\n        System.out.println(\"ç¬¬äº”æ­¥ï¼Œé”€æ¯bean\");\n    }\n}\n\n```\n\né…ç½®æ–‡ä»¶\n\n```xml\n    <bean id=\"initBean\" class=\"com.xiaoliu.entity.InitBean\" init-method=\"InitMethod\" destroy-method=\"DestroyMethod\">\n        <property name=\"name\" value=\"shuxing\"></property>\n    </bean>\n```\n\næµ‹è¯•ç±»\n\n```java\n    @Test\n    public void test4(){\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\"spring/bean4.xml\");\n        InitBean stu = context.getBean(\"initBean\", InitBean.class);\n        System.out.println(\"ç¬¬å››æ­¥ï¼Œæ‹¿åˆ°å±æ€§\"+stu);\n\n//        æ‰‹åŠ¨è®©beané”€æ¯\n        context.close();\n    }\n```\n\nbeançš„åç½®å¤„ç†å™¨ï¼Œä¸€å…±æœ‰ä¸ƒæ­¥\n\n1ã€é€šè¿‡æ„é€ å™¨çš„åˆ›å»ºbeanå®ä¾‹ï¼ˆæ— å‚æ„é€ å™¨ï¼‰\n\n2ã€ä¸ºbeançš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»–beanå¼•ç”¨ï¼ˆè°ƒç”¨setæ–¹æ³•ï¼‰\n\n**3ã€æŠŠæˆ‘ä»¬çš„å®ä¾‹ä¼ é€’ç»™beançš„å‰ç½®å¤„ç†å™¨çš„æ–¹æ³•ï¼ˆpostProcessBeforeInitializationï¼‰**\n\n4ã€è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆéœ€è¦ç›¸åº”çš„é…ç½®ï¼‰\n\n**5ã€æŠŠæˆ‘ä»¬çš„å®ä¾‹ä¼ é€’ç»™beançš„åç½®å¤„ç†å™¨çš„æ–¹æ³•ï¼ˆpostProcessAfterInitializationï¼‰**\n\n6ã€beanå¯ä»¥ä½¿ç”¨\n\n7ã€å½“å®¹å™¨å…³é—­çš„æ—¶ï¼Œè°ƒç”¨beançš„é”€æ¯æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®é”€æ¯æ–¹æ³•ï¼‰\n\n**æ¼”ç¤ºæ·»åŠ åç½®å¤„ç†å™¨æ•ˆæœ**\n\n1ã€åˆ›å»ºç±»ï¼Œå®ç°æ¥å£BeanPostProcessorï¼Œåˆ›å»ºåç½®å¤„ç†å™¨\n\n```java\npublic class MyBeanPost implements BeanPostProcessor {\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println(\"åˆå§‹åŒ–beanä¹‹å‰\");\n        return BeanPostProcessor.super.postProcessBeforeInitialization(bean, beanName);\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println(\"åˆå§‹åŒ–beanä¹‹å\");\n        return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\n    }\n}\n\n```\n\n2ã€é…ç½®æ–‡ä»¶\n\n```xml\n<!--    é…ç½®åç½®å¤„ç†å™¨-->\n    <bean id=\"myBeanPost\" class=\"com.xiaoliu.entity.MyBeanPost\">\n\n    </bean>\n```\n\næµ‹è¯•ç»“æœä¸€å…±ä¸ƒæ­¥\n\n```\n\nç¬¬ä¸€æ­¥ï¼Œé€šè¿‡æ— å‚æ„é€ å™¨è·å–å¯¹è±¡\nç¬¬äºŒæ­¥ï¼Œé€šè¿‡setæ–¹æ³•è·å–å±æ€§å€¼\nåˆå§‹åŒ–beanä¹‹å‰\nç¬¬ä¸‰æ­¥ï¼Œåˆå§‹åŒ–bean\nåˆå§‹åŒ–beanä¹‹å\nç¬¬å››æ­¥ï¼Œæ‹¿åˆ°å±æ€§com.xiaoliu.entity.InitBean@10a035a0\nç¬¬äº”æ­¥ï¼Œé”€æ¯bean\n```\n\n\n\n**-----------------------------------------2022å¹´9æœˆ22æ—¥ 21:08:24---------------------------------------------------**\n\n\n\n### åŸºäºæ³¨è§£æ–¹å¼\n\n#### 1ã€beanç®¡ç†æ“ä½œåˆ›å»ºå¯¹è±¡çš„æ³¨è§£\n\n**1ã€@Component**\n\n**2ã€@Controller**\n\n**3ã€@Service**\n\n**4ã€@Repository**\n\nä¸Šé¢çš„4ä¸ªæ³¨è§£åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºbeanå®ä¾‹\n\n#### 2ã€å®ç°å¯¹è±¡çš„åˆ›å»º\n\nï¼ˆ1ï¼‰å¯¼åŒ…\n\n```xml\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-context</artifactId>\n            <version>5.3.22</version>\n        </dependency>\n```\n\nï¼ˆ2ï¼‰å¼€å¯ç»„ä»¶æ‰«æ\n\n```xml\n<!--    å¼€å¯ç»„ä»¶æ‰«æ-->\n    <context:component-scan base-package=\"com.xiaoliu\"></context:component-scan>\n```\n\nï¼ˆ3ï¼‰ä½¿ç”¨æ³¨è§£ï¼Œåœ¨ç±»ä¸Šé¢\n\n```java\n//åœ¨æ³¨è§£ä¸­valueå€¼å¯ä»¥çœç•¥ä¸å†™ï¼Œ\n//    é»˜è®¤å€¼æ˜¯ç±»åç§°ï¼Œé¦–å­—æ¯å°å†™\n@Component(value = \"Service\")\npublic class Service {\n    public void test1(){\n        System.out.println(\"æ³¨è§£æµ‹è¯•\");\n    }\n}\n\n```\n\nï¼ˆ4ï¼‰å¼€å¯ç»„ä»¶æ‰«æçš„é…ç½®\n\n```xml\n<!--    å®ä¾‹1\n        use-default-filters=\"false\"\n        è‡ªå®šä¹‰æ‰«æçš„é…ç½®\n        include\n        ä¸‹é¢çš„æ˜¯æ‰«æController\n-->\n    <context:component-scan base-package=\"com.xiaoliu\" use-default-filters=\"false\">\n        <context:include-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\"/>\n\n    </context:component-scan>\n<!--    å®ä¾‹2\n        ä¸‹é¢çš„é…ç½®æ˜¯æ‰«ææ‰€æœ‰çš„å†…å®¹\n        exclude\n        ä¸åŒ…å«Controller\n-->\n    <context:component-scan base-package=\"com.xiaoliu\">\n        <context:exclude-filter type=\"annotation\"\n                                expression=\"org.springframework.stereotype.Controller\"/>\n\n    </context:component-scan>\n```\n\n#### 3ã€å®ç°å±æ€§æ³¨å…¥\n\n**ï¼ˆ1ï¼‰@Autowired**\n\næ˜¯æŒ‰ç…§byTypeæ³¨å…¥å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒè¦æ±‚ä¾èµ–å¯¹è±¡å¿…é¡»å­˜åœ¨\n\n**ï¼ˆ2ï¼‰@Qualifier**\n\næ ¹æ®å±æ€§åç§°è¿›è¡Œæ³¨å…¥ï¼Œå’Œautowiredä¸€èµ·ä½¿ç”¨\n\n**ï¼ˆ3ï¼‰@Resource**\n\næ˜¯æŒ‰ç…§byNameæ³¨å…¥å±æ€§ï¼Œæ˜¯åœ¨java-AnnotationåŒ…ä¸‹çš„ï¼Œä½†springæ”¯æŒè¯¥æ³¨è§£\n\nä½†ä¹Ÿå¯ä»¥æ ¹æ®ç±»å‹å’Œåç§°æ³¨å…¥\n\n**ï¼ˆ4ï¼‰@value**\n\næ³¨å…¥æ™®é€šç±»å‹å±æ€§\n\nå¯æ³¨å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶\n\n```java\næ³¨è§£\n    @Value(\"${username}\")\n    private String name;\n```\n\né…ç½®æ–‡ä»¶\n\n```xml\n    <bean id=\"configProperties\" class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\">\n        <property name=\"locations\">\n            <list>\n                <value>classpath:config.properties</value>\n            </list>\n        </property>\n    </bean>\n\n    <bean id=\"we\" class=\"org.springframework.beans.factory.config.PreferencesPlaceholderConfigurer\">\n        <property name=\"properties\" ref=\"configProperties\"></property>\n    </bean>\n```\n\næµ‹è¯•\n\n```java\n    @Test\n    public void test2(){\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\"spring/bean.xml\");\n        UserController bean = context.getBean(\"userController\", UserController.class);\n        bean.testt();\n```\n\n#### 4ã€å®Œå…¨æ³¨è§£å¼€å‘\n\nåˆ›å»ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶\n\n```java\n    @Test\n    public void test2(){\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(SpringConfig.class);\n        UserController bean = context.getBean(\"userController\", UserController.class);\n        bean.testt();\n    }\n```\n\n# AOP\n\n## ä»€ä¹ˆæ˜¯AOPï¼Ÿ\n\né¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAspect Oriented Programï¼‰\n\né€šè¿‡[é¢„ç¼–è¯‘](https://baike.baidu.com/item/é¢„ç¼–è¯‘/3191547?fromModule=lemma_inlink)æ–¹å¼å’Œè¿è¡ŒæœŸé—´åŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚\n\nåˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„[è€¦åˆåº¦](https://baike.baidu.com/item/è€¦åˆåº¦/2603938?fromModule=lemma_inlink)é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚\n\n**ç®€å•æ¦‚æ‹¬å°±æ˜¯ä¸ä¿®æ”¹æºä»£ç ï¼Œå‘å…¶æ·»åŠ åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å»æ‰æ·»åŠ çš„åŠŸèƒ½**\n\n## åº•å±‚åŸç†\n\n1ã€AOPåº•å±‚ä½¿ç”¨äº†åŠ¨æ€ä»£ç†\n\nï¼ˆ1ï¼‰æœ‰ä¸¤ç§æ¸…æƒ…å†µåŠ¨æ€ä»£ç†\n\n**ç¬¬ä¸€ç§ï¼Œæœ‰æ¥å£çš„æƒ…å†µï¼Œä½¿ç”¨JDKçš„åŠ¨æ€ä»£ç†**\n\n![20181228090858878](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/26/79d845fd6ae64a92be9f2b31b0e2234f.png)\n\n\n\n**ç¬¬äºŒç§ï¼Œæ²¡æœ‰æ¥å£çš„æƒ…å†µï¼Œä½¿ç”¨CGLBåŠ¨æ€ä»£ç†**\n\nåŠ¨æ€ä»£ç†éœ€è¦è¢«ä»£ç†ç±»å®ç°æ¥å£ï¼Œå¦‚æœè¢«ä»£ç†ç±»æ²¡æœ‰å®ç°æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¹ˆå®ç°åŠ¨æ€ä»£ç†ï¼Ÿè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°CGLibäº†ã€‚è¿™ç§ä»£ç†æ–¹å¼å°±å«åšCGlibä»£ç†ã€‚\nCglibä»£ç†ä¹Ÿå«ä½œå­ç±»ä»£ç†ï¼Œä»–æ˜¯é€šè¿‡åœ¨å†…å­˜ä¸­æ„å»ºä¸€ä¸ªå­ç±»ï¼Œå¹¶åœ¨å­ç±»ä¸­é‡‡ç”¨æ–¹æ³•æ‹¦æˆªçš„æŠ€æœ¯æ‹¦æˆªæ‰€æœ‰çˆ¶ç±»æ–¹æ³•çš„è°ƒç”¨ï¼Œç„¶ååŠ å…¥è‡ªå·±éœ€è¦çš„æ“ä½œã€‚å› ä¸ºä½¿ç”¨çš„æ˜¯ç»§æ‰¿çš„æ–¹å¼ï¼Œæ‰€ä»¥ä¸èƒ½ä»£ç†final ç±»ã€‚\n![æ‰¹æ³¨ 20220923 005620.png](3)\n\n\nï¼ˆ1ï¼‰åˆ›å»ºè¢«ä»£ç†ç±»UserService\n\n```java\npublic class UserService {\n	\n\n	public void getName(){\n		System.out.println(\"å¼ ä¸‰ï¼\");\n	}\n\n}\n```\n\nä¸èƒ½ä¸ºfinal\nï¼ˆ2ï¼‰åˆ›å»ºä»£ç†å·¥å‚ç±»ProxyFactory\n\n```java\npublic class ProxyFactory<T> implements MethodInterceptor {\n\n	private T target;\n	\n	public ProxyFactory(T target) {\n		this.target = target;\n	}\n	\n	// åˆ›å»ºä»£ç†å¯¹è±¡\n	\n	public Object getProxyInstance() {\n	\n		// 1.cglibå·¥å…·ç±»\n		Enhancer en = new Enhancer();\n		// 2.è®¾ç½®çˆ¶ç±»\n		en.setSuperclass(this.target.getClass());\n		// 3.è®¾ç½®å›è°ƒå‡½æ•°\n		en.setCallback(this);\n	\n		return en.create();\n	}\n\n   //æ‹¦æˆªæ–¹æ³•\n	@Override\n	public Object intercept(Object obj, Method method, Object[] args,\n			MethodProxy methodProxy) throws Throwable {\n		System.out.println(\"å¼€å§‹äº‹åŠ¡...\");\n\n		// æ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³•\n		Object result = method.invoke(target, args);\n	\n		System.out.println(\"æäº¤äº‹åŠ¡...\");\n		return result;\n	}\n\n}\n\n```\n\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_34609889/article/details/85317582\n\n\n\nâ€‹												**2022å¹´9æœˆ23æ—¥ 17:14:58**\n\n\n\n**JDKåŠ¨æ€ä»£ç†**\n\njava.lang.reflect.Proxy\n\nï¼ˆ1ï¼‰è°ƒç”¨newProxyInstanceæ–¹æ³•\n\næ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°\n\n1ã€ç±»åŠ è½½å™¨\n\n2ã€å¢å¼ºæ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œè¿™ä¸ªç±»å®ç°çš„æ¥å£ï¼Œæ”¯æŒå¤šä¸ªæ¥å£\n\n3ã€å®ç°è¿™ä¸ªæ¥å£InvocationHandlerï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå†™å¢å¼ºä»£ç \n\nç¤ºä¾‹\n\nï¼ˆ1ï¼‰åˆ›å»ºæ¥å£ï¼Œå®šä¹‰æ–¹æ³•\n\n```java\npublic interface UserDao {\n    public int test(int a, int b);\n}\n\n```\n\nï¼ˆ2ï¼‰ç¼–å†™å®ç°ç±»ï¼Œå®ç°æ–¹æ³•\n\n```java\npublic class UserDaoImpl implements UserDao {\n    @Override\n    public int test(int a, int b) {\n        return a+ b ;\n    }\n}\n```\n\nï¼ˆ3ï¼‰ä½¿ç”¨Proxyç±»åˆ›å»ºæ¥å£ä»£ç†å¯¹è±¡\n\n```java\npublic class JDKProxy {\n    public static void main(String[] args) {\n        Class[] interfaces = {\n                UserDao.class\n        };\n        UserDaoImpl userDao = new UserDaoImpl();\n        UserDao o = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new UserDaoProxy(userDao));\n        int test = o.test(1, 2);\n        System.out.println(test);\n    }\n}\n\nclass UserDaoProxy implements InvocationHandler {\n    private Object object;\n\n    public UserDaoProxy(Object object) {\n        this.object = object;\n    }\n\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\n//        æ–¹æ³•ä¹‹å‰\n        System.out.println(\"æ–¹æ³•æ‰§è¡Œä¹‹å‰...\"+method.getName()+\"ä¼ é€’çš„å‚æ•°\"+ Arrays.toString(args));\n\n//       å¢å¼ºæ–¹æ³•\n        Object invoke = method.invoke(object, args);\n\n//        æ–¹æ³•ä¹‹å\n        System.out.println(\"æ–¹æ³•æ‰§è¡Œä¹‹å...\"+object);\n        return invoke;\n    }\n}\n\n```\n\n## AOPï¼ˆæœ¯è¯­ï¼‰\n\n**1ã€è¿æ¥ç‚¹**\n\nç±»é‡Œé¢å“ªäº›æ–¹æ³•å¯ä»¥è¢«å¢å¼ºï¼Œè¿™äº›æ–¹æ³•è¢«ç§°ä¸ºè¿æ¥ç‚¹\n\n**2ã€åˆ‡å…¥ç‚¹**\n\nå®é™…è¢«çœŸæ­£å¢å¼ºçš„æ–¹æ³•ï¼Œç§°ä¸ºåˆ‡å…¥ç‚¹\n\n**3ã€é€šçŸ¥ï¼ˆå¢å¼ºï¼‰**\n\nï¼ˆ1ï¼‰å®é™…è¢«å¢å¼ºçš„éƒ¨åˆ†ï¼Œè¢«ç§°ä¸ºé€šçŸ¥ï¼ˆå¢å¼ºï¼‰\n\nï¼ˆ2ï¼‰é€šçŸ¥æœ‰å¾ˆå¤šç±»å‹\n\n- å‰ç½®é€šçŸ¥\n\nâ€‹			æ–¹æ³•å‰\n\n- åç½®é€šçŸ¥\n\nâ€‹			æ–¹æ³•å\n\n- ç¯ç»•é€šçŸ¥\n\nâ€‹			æ–¹æ³•å‰å\n\n- å¼‚å¸¸é€šçŸ¥\n\nâ€‹			å¼‚å¸¸æ—¶\n\n- æœ€ç»ˆé€šçŸ¥\n\nâ€‹			æœ€ç»ˆï¼ˆç±»ä¼¼finallyï¼‰\n\n**4ã€åˆ‡é¢**\n\næ˜¯åŠ¨ä½œï¼ŒæŠŠé€šçŸ¥åº”ç”¨åˆ°åˆ‡å…¥ç‚¹è¿‡ç¨‹\n\n## AOPæ“ä½œ\n\n1ã€springæ¡†æ¶ä¸€èˆ¬éƒ½æ˜¯åŸºäºAspectJå®ç°AOPæ“ä½œ\n\nï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯AspectJ?\n\nAspectJä¸æ˜¯springç»„æˆéƒ¨åˆ†ï¼Œç‹¬ç«‹AOPï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸springæ¡†æ¶ä¸€èµ·å®ç°AOPæ“ä½œ\n\n2ã€åŸºäºAspectJå®ç°AOPæ“ä½œ\n\nï¼ˆ1ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶æ–¹å¼å®ç°\n\nï¼ˆ2ï¼‰åŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆä¸€èˆ¬ä½¿ç”¨ï¼‰\n\n3ã€å¯¼åŒ…\n\n```xml\n<dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-aspects</artifactId>\n            <version>5.3.23</version>\n        </dependency>\n```\n\n4ã€åˆ‡å…¥ç‚¹çš„è¡¨è¾¾å¼\n\nï¼ˆ1ï¼‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ä½œç”¨ï¼šæˆ‘ä»¬å¯¹å“ªä¸ªç±»é‡Œçš„å“ªä¸ªæ–¹æ³•è¿›è¡Œå¢å¼º\n\nï¼ˆ2ï¼‰è¯­æ³•ç»“æ„ï¼š\n\n**Execution([æƒé™ä¿®é¥°ç¬¦] [è¿”å›ç±»å‹] [ç±»å…¨è·¯å¾„] [æ–¹æ³•åç§°] ([å‚æ•°åˆ—è¡¨]))**\n\n```\nå®ä¾‹1ï¼šå¯¹com.xiaoliu.dao.UserDaoç±»é‡Œé¢çš„addè¿›è¡Œå¢å¼º\n\nExecutionï¼ˆpublic void com.xiaoliu.dao.UserDao.add(...)ï¼‰\n\n\n\nå®ä¾‹2ï¼šå¯¹com.xiaoliu.dao.UserDaoç±»é‡Œé¢çš„æ‰€æœ‰è¿›è¡Œå¢å¼º\n\nExecutionï¼ˆpublic void com.xiaoliu.dao.UserDao.*(...)ï¼‰\n\n\n\nå®ä¾‹2ï¼šå¯¹com.xiaoliu.dao.*åŒ…é‡Œæ‰€æœ‰çš„ç±»ã€æ–¹æ³•è¿›è¡Œå¢å¼º\n\nExecutionï¼ˆpublic void com.xiaoliu.dao.UserDao.*(...)ï¼‰\n```\n\n### åŸºäºAspectJæ³¨è§£\n\n#### 1ã€åˆ›å»ºç±»ï¼Œç¼–å†™æ–¹æ³•\n\n```java\npublic class User {\n    public void add(){\n        System.out.println(\"add...\");\n    }\n}\n```\n\n#### 2ã€åˆ›å»ºå¢å¼ºç±»ï¼ˆç¼–å†™å¢å¼ºé€»è¾‘ï¼‰\n\n```java\npublic class UserProxy {\n//    å‰ç½®é€šçŸ¥\n    public void before(){\n        System.out.println(\"before...\");\n    }\n}\n```\n\n#### 3ã€è¿›è¡Œé€šçŸ¥çš„é…ç½®\n\nï¼ˆ1ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯æ³¨è§£çš„æ‰«æ\n\n```xml\n<!--    å¼€å¯æ³¨è§£æ‰«æ-->\n    <context:component-scan base-package=\"com.xiaoliu\"></context:component-scan>\n```\n\nï¼ˆ2ï¼‰ä½¿ç”¨æ³¨è§£åˆ›å»ºUserå’ŒUserPorxyå¯¹è±¡\n\n```java\n@Component\npublic class User {\n    public void add(){\n        System.out.println(\"add...\");\n    }\n}\n\n@Component\npublic class UserProxy {\n//    å‰ç½®é€šçŸ¥\n    public void before(){\n        System.out.println(\"before...\");\n    }\n}\n\n```\n\nï¼ˆ3ï¼‰åœ¨å¢å¼ºç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Aspect\n\n```java\n@Component\n@Aspect\npublic class UserProxy {\n//    å‰ç½®é€šçŸ¥\n    public void before(){\n        System.out.println(\"before...\");\n    }\n}\n```\n\nï¼ˆ4ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯ç”Ÿæˆä»£ç†å¯¹è±¡\n\n```xml\n<!--    å¼€å¯aspectç”Ÿæˆä»£ç†å¯¹è±¡ã€-->\n    <aop:aspectj-autoproxy></aop:aspectj-autoproxy>\n```\n\n#### 4ã€é…ç½®ä¸åŒç±»å‹çš„é€šçŸ¥\n\nï¼ˆ1ï¼‰åœ¨æˆ‘ä»¬å¢å¼ºç±»çš„é‡Œé¢ï¼Œåœ¨ä½œä¸ºé€šçŸ¥æ–¹æ³•çš„ä¸Šæ·»åŠ é€šçŸ¥ç±»å‹çš„æ³¨è§£ï¼Œä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼é…ç½®\n\n**@Beforeè¡¨ç¤ºå‰ç½®é€šçŸ¥**\n\n```java\n@Component\n@Aspect\npublic class UserProxy {\n//    å‰ç½®é€šçŸ¥\n//    beforeä½œä¸ºå‰ç½®é€šçŸ¥\n    @Before(value = \"execution(public void com.xiaoliu.aop.User.add(..))\")\n    public void before(){\n        System.out.println(\"before...\");\n    }\n\n    //æœ€ç»ˆé€šçŸ¥\n    @After(value = \"execution(public void com.xiaoliu.aop.User.add(..))\")\n    public void after(){\n        System.out.println(\"after...\");\n    }\n    //@Around ç¯ç»•é€šçŸ¥ @AfterReturningåç½®é€šçŸ¥ @AfterThrowingå¼‚å¸¸é€šçŸ¥ \n}\n```\n\n#### 5ã€æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼\n\n```java\n//    ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–\n    @Pointcut(value = \"execution(public void com.xiaoliu.aop.User.add(..))\")\n    public void pointdemo(){\n    }\n\n//    å‰ç½®é€šçŸ¥\n//    beforeä½œä¸ºå‰ç½®é€šçŸ¥\n    @Before(value = \"pointdemo()\")\n    public void before(){\n        System.out.println(\"before...\");\n    }\n```\n\n#### 6ã€æœ‰å¤šä¸ªå¢å¼ºç±»å¯¹åŒä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºï¼Œè®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§\n\nï¼ˆ1ï¼‰åœ¨å¢å¼ºç±»ä¸Šæ·»åŠ æ³¨è§£@Orderï¼ˆæ•°å­—ç±»å‹å€¼ï¼‰ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜\n\n```java\n@Component\n@Aspect\n@Order(1)\npublic class PersonProxy {\n\n\n    //    ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–\n    @Pointcut(value = \"execution(public void com.xiaoliu.aop.User.add(..))\")\n    public void pointDemo(){\n    }\n\n    //    å‰ç½®é€šçŸ¥\n//    beforeä½œä¸ºå‰ç½®é€šçŸ¥\n    @Before(value = \"pointDemo()\")\n    public void before(){\n        System.out.println(\"Person before...\");\n    }\n}\n```\n\n### åŸºäºAspectJé…ç½®æ–‡ä»¶\n\n#### 1ã€åˆ›å»ºä¸¤ä¸ªç±»ï¼Œå¢å¼ºç±»å’Œè¢«å¢å¼ºç±»ï¼Œåˆ›å»ºæ–¹æ³•\n\n```java\npublic class Book {\n    public void buy(){\n        System.out.println(\"buy...\");\n    }\n}\n\npublic class BookProxy {\n    public void before(){\n        System.out.println(\"before...\");\n    }\n}\n```\n\n#### 2ã€åœ¨springé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªå¯¹è±¡\n\n```xml\n\n    <bean id=\"book\" class=\"com.xiaoliu.aopXml.Book\"></bean>\n    <bean id=\"bookProxy\" class=\"com.xiaoliu.aopXml.BookProxy\"></bean>\n```\n\n#### 3ã€åœ¨springä¸­é…ç½®åˆ‡å…¥ç‚¹ ã€åˆ‡é¢\n\n```xml\n	<!--    é…ç½®aopå¢å¼º-->\n    <aop:config>\n<!--        é…ç½®åˆ‡å…¥ç‚¹-->\n        <aop:pointcut id=\"p\" expression=\"execution(* com.xiaoliu.aopXml.Book.buy(..))\"/>\n\n<!--        é…ç½®åˆ‡é¢-->\n        <aop:aspect ref=\"bookProxy\">\n            <aop:before method=\"before\" pointcut-ref=\"p\"></aop:before>\n        </aop:aspect>\n    </aop:config>\n```\n\n#### 4ã€å®Œå…¨æ³¨è§£å¼€å‘\n\n```java\n@Configuration\n@ComponentScan(basePackages = {\"com.xiaoliu\"})\n@EnableAspectJAutoProxy(proxyTargetClass = true)\n```\n\n# äº‹åŠ¡ç®¡ç†\n\n## 1ã€å£°æ˜å¼äº‹åŠ¡ç®¡ç†\n\nï¼ˆ1ï¼‰åŸºäºæ³¨è§£æ–¹å¼ï¼ˆä½¿ç”¨ï¼‰\n\nâ€‹	åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®äº‹åŠ¡ç®¡ç†å™¨\n\nï¼ˆ2ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶æ–¹å¼\n\n**åº•å±‚ä½¿ç”¨åˆ°äº†AOP**\n\n1ã€åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨\n\n```xml\n<!--    åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨-->\n    <bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n<!--        æ³¨å…¥æ•°æ®æº-->\n        <property name=\"dataSource\" ref=\"dataSource\"></property>\n    </bean>\n```\n\n2ã€å¼€å¯äº‹åŠ¡æ³¨è§£\n\n```xml\n<!--    å¼€å¯äº‹åŠ¡æ³¨è§£-->\n    <tx:annotation-driven transaction-manager=\"transactionManager\"></tx:annotation-driven>\n```\n\n3ã€åœ¨serviceç±»ä¸Šæˆ–è€…ç±»é‡Œé¢çš„æ–¹æ³•ä¸Šæ·»åŠ äº‹åŠ¡æ³¨è§£\n\n```java\n@Service\n@Transactional\npublic class UserServiceImpl implements UserService\n```\n\nï¼ˆ1ï¼‰å¦‚æœæŠŠæ³¨è§£æ·»åŠ ç±»ä¸Šï¼Œè¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æ·»åŠ äº‹åŠ¡\n\n### äº‹åŠ¡å‚æ•°\n\n#### ï¼ˆ1ï¼‰ä¼ æ’­è¡Œä¸ºï¼ˆpropagationï¼‰\n\nå½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªäº‹åŠ¡æ–¹æ³•å¦‚ä½•è¿›è¡Œ\n\n![20170420212829825](20170420212829825.png)\n\n##### 1ã€PROPAGATION_REQUIRED\n\nå¦‚æœå­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œåˆ™æ”¯æŒå½“å‰äº‹åŠ¡ã€‚å¦‚æœæ²¡æœ‰äº‹åŠ¡åˆ™å¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚\nå¯ä»¥æŠŠäº‹åŠ¡æƒ³åƒæˆä¸€ä¸ªèƒ¶å›Šï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸‹æ–¹æ³•Bç”¨çš„æ˜¯æ–¹æ³•Aäº§ç”Ÿçš„èƒ¶å›Šï¼ˆäº‹åŠ¡ï¼‰ã€‚\n\n![20170420213050220](20170420213050220.bmp)\n\n##### 2ã€PROPAGATION_SUPPORTS\n\nå¦‚æœå­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œæ”¯æŒå½“å‰äº‹åŠ¡ã€‚å¦‚æœæ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™éäº‹åŠ¡çš„æ‰§è¡Œã€‚ä½†æ˜¯å¯¹äºäº‹åŠ¡åŒæ­¥çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ŒPROPAGATION_SUPPORTSä¸ä¸ä½¿ç”¨äº‹åŠ¡æœ‰å°‘è®¸ä¸åŒã€‚\n\n```java\n@Transactional(propagation = Propagation.REQUIRED)\npublic void methodA() {\n methodB();\n// do something\n}\n\n// äº‹åŠ¡å±æ€§ä¸ºSUPPORTS\n@Transactional(propagation = Propagation.SUPPORTS)\npublic void methodB() {\n    // do something\n}\n\n```\n\n##### 3ã€PROPAGATION_MANDATORY\n\nå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œæ”¯æŒå½“å‰äº‹åŠ¡ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªæ´»åŠ¨çš„äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\n\nå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œæ”¯æŒå½“å‰äº‹åŠ¡ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªæ´»åŠ¨çš„äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\n\n```java\n@Transactional(propagation = Propagation.REQUIRED)\npublic void methodA() {\n methodB();\n// do something\n}\n\n// äº‹åŠ¡å±æ€§ä¸ºMANDATORY\n@Transactional(propagation = Propagation.MANDATORY)\npublic void methodB() {\n    // do something\n}\n```\n\n##### 4ã€PROPAGATION_REQUIRES_NEW\n\n![a8c23d3cea1f42819eb114eabbb570fa](a8c23d3cea1f42819eb114eabbb570fa.png)\n\n##### 5ã€PROPAGATION_NOT_SUPPORTED\n\nPROPAGATION_NOT_SUPPORTED æ€»æ˜¯éäº‹åŠ¡åœ°æ‰§è¡Œï¼Œ**å¹¶æŒ‚èµ·ä»»ä½•å­˜åœ¨çš„äº‹åŠ¡**ã€‚ä½¿ç”¨PROPAGATION_NOT_SUPPORTED,ä¹Ÿéœ€è¦ä½¿ç”¨JtaTransactionManagerä½œä¸ºäº‹åŠ¡ç®¡ç†å™¨ã€‚\n\n![20170420213400079](20170420213400079.png)\n\n##### 6ã€PROPAGATION_NEVER\n\næ€»æ˜¯éäº‹åŠ¡åœ°æ‰§è¡Œï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ´»åŠ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\n\n##### 7ã€PROPAGATION_NESTED\n\nå¦‚æœä¸€ä¸ªæ´»åŠ¨çš„äº‹åŠ¡å­˜åœ¨ï¼Œåˆ™è¿è¡Œåœ¨ä¸€ä¸ª[åµŒå¥—](https://so.csdn.net/so/search?q=åµŒå¥—&spm=1001.2101.3001.7020)çš„äº‹åŠ¡ä¸­ã€‚ å¦‚æœæ²¡æœ‰æ´»åŠ¨äº‹åŠ¡, åˆ™æŒ‰TransactionDefinition.PROPAGATION_REQUIRED å±æ€§æ‰§è¡Œã€‚\nè¿™æ˜¯ä¸€ä¸ªåµŒå¥—äº‹åŠ¡,ä½¿ç”¨JDBC 3.0é©±åŠ¨æ—¶,ä»…ä»…æ”¯æŒDataSourceTransactionManagerä½œä¸ºäº‹åŠ¡ç®¡ç†å™¨ã€‚\néœ€è¦JDBC é©±åŠ¨çš„java.sql.Savepointç±»ã€‚ä½¿ç”¨PROPAGATION_NESTEDï¼Œè¿˜éœ€è¦æŠŠPlatformTransactionManagerçš„nestedTransactionAllowedå±æ€§è®¾ä¸ºtrue(å±æ€§å€¼é»˜è®¤ä¸ºfalse)ã€‚\n\n![20170420213432872](20170420213432872.png)\n\nåšå®¢åŸæ–‡https://blog.csdn.net/qq_32424381/article/details/123561275\n\n#### ï¼ˆ2ï¼‰éš”ç¦»çº§åˆ«ï¼ˆioslationï¼‰\n\néš”ç¦»æ€§ï¼šå¤šäº‹åŠ¡æ“ä½œä¹‹é—´ä¸ä¼šäº§ç”Ÿå½±å“ï¼Œ ä¸è€ƒè™‘éš”ç¦»æ€§ä¼šäº§ç”Ÿå¾ˆå¤šé—®é¢˜\n\næœ‰ä¸‰ä¸ªè¯»é—®é¢˜ï¼š\n\n- è„è¯»\n\nä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°äº†å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡çš„æ•°æ®\n\n- ä¸å¯é‡å¤è¯»\n\nä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡ä¿®æ”¹æ•°æ®\n\n- å¹»è¯»ï¼ˆè™šè¯»ï¼‰\n\nä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡æ·»åŠ æ•°æ®\n\n**è§£å†³ï¼šé€šè¿‡è®¾ç½®éš”ç¦»çº§åˆ«**\n\n![image-20220923224005825](image-20220923224005825.png)\n\n**æ³¨è§£**\n\nspringé»˜è®¤ï¼ˆå¯é‡å¤è¯»ï¼‰\n\n```java\n@Service\n@Transactional(propagation = Propagation.REQUIRED,isolation = Isolation.READ_COMMITTED)\npublic class UserServiceImpl implements UserService {\n```\n\n#### ï¼ˆ3ï¼‰å…¶ä»–å‚æ•°\n\n1ã€timeoutï¼ˆè¶…æ—¶æ—¶é—´ï¼‰\n\näº‹åŠ¡åœ¨è§„å®šæ—¶é—´å†…æäº¤ï¼Œå¦‚æœä¸æäº¤åˆ™è¿›è¡Œå›æ»š\n\né»˜è®¤å€¼æ˜¯-1ï¼Œè®¾ç½®æ—¶é—´ ç§’ä¸ºå•ä½\n\n2ã€readOnlyï¼ˆæ˜¯å¦åªè¯»ï¼‰\n\né»˜è®¤å€¼falseï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥è¯¢ï¼Œå¯ä»¥å¢åˆ æ”¹\n\n3ã€rollbackForï¼ˆå›æ»šï¼‰\n\nè®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸è¿›è¡Œäº‹åŠ¡å›æ»š\n\n4ã€norollbackForï¼ˆä¸å›æ»šï¼‰\n\nè®¾ç½®å“ªäº›å¼‚å¸¸ä¸è¿›è¡Œå›æ»š\n\n### åŸºäºxmlæ–¹å¼\n\n1ã€springé…ç½®æ–‡ä»¶ä¸­\n\nï¼ˆ1ï¼‰é…ç½®äº‹åŠ¡ç®¡ç†å™¨\n\n```xml\n    <!-- 1.å°†mybatisé…ç½®ç¯å¢ƒé›†æˆåˆ°springä¸­ï¼Œäº¤ç”±Springæ‰˜ç®¡ -->\n    <context:property-placeholder location=\"classpath:jdbc.properties\"/>\n    <bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\">\n        <property name=\"driverClassName\" value=\"${mysql.driver}\"></property>\n        <property name=\"username\" value=\"${mysql.username}\"/>\n        <property name=\"password\" value=\"${mysql.password}\"/>\n        <property name=\"url\" value=\"${mysql.url}\"/>\n        <property name=\"initialSize\" value=\"${druid.pool.init}\"/>\n        <property name=\"minIdle\" value=\"${druid.pool.minIdle}\"/>\n        <property name=\"maxActive\" value=\"${druid.pool.maxActive}\"/>\n        <property name=\"maxWait\" value=\"${druid.pool.maxWait}\"/>\n    </bean>\n\n    <bean id=\"jdbc\" class=\"org.springframework.jdbc.core.JdbcTemplate\">\n        <property name=\"dataSource\" ref=\"dataSource\"></property>\n    </bean>\n\n    <!--    åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨-->\n    <bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n        <!--        æ³¨å…¥æ•°æ®æº-->\n        <property name=\"dataSource\" ref=\"dataSource\"></property>\n    </bean>\n```\n\nï¼ˆ2ï¼‰é…ç½®é€šçŸ¥\n\nï¼ˆ3ï¼‰é…ç½®åˆ‡å…¥é¢\n\n### å®Œå…¨æ³¨è§£æ–¹å¼\n\n1ã€åˆ›å»ºé…ç½®ç±»ã€æ›¿ä»£xmlé…ç½®æ–‡ä»¶\n\n```java\n@Configuration\n@ComponentScan(basePackages = {\"com.xiaoliu\"})\n@EnableTransactionManagement\npublic class TXConfig {\n\n//    åˆ›å»ºæ•°æ®åº“è¿æ¥æ± \n    @Bean\n    public DruidDataSource getDruid(){\n        DruidDataSource source = new DruidDataSource();\n        source.setDriverClassName(\"com.mysql.cj.jdbc.Driver\");\n        source.setUrl(\"jdbc:mysql://localhost:3306/jdbc?useUnicode=true;characterEncoding=utf8;serverTimezone=GMT8\");\n        source.setUsername(\"root\");\n        source.setPassword(\"123456\");\n        return source;\n    }\n\n//    åˆ›å»ºjdbcTemplate\n    @Bean\n    public JdbcTemplate getJdbcTemplate(DataSource dataSource){\n        JdbcTemplate template = new JdbcTemplate();\n//        æ³¨å…¥DataSource\n        template.setDataSource(dataSource);\n        return template;\n    }\n\n//    åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨\n    @Bean\n    public DataSourceTransactionManager getTransactionManager(DataSource dataSource){\n        DataSourceTransactionManager manager = new DataSourceTransactionManager();\n        manager.setDataSource(dataSource);\n        return manager;\n    }\n}\n\n```\n\n2ã€æµ‹è¯•ç±»\n\n```java\n    @Test\n    public void test2(){\n        AnnotationConfigApplicationContext context =\n                new AnnotationConfigApplicationContext(TestFiled.class);\n        UserDaoImpl dao = context.getBean(\"userDaoImpl\", UserDaoImpl.class);\n        List<User> users = dao.getUserList();\n        for (User user : users) {\n            System.out.println(user.toString());\n        }\n    }\n```\n\n\n\n## Springäº‹åŠ¡ç®¡ç†API\n\nï¼ˆ1ï¼‰æä¾›ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨äº‹åŠ¡ç®¡ç†å™¨ï¼Œè¿™ä¸ªæ¥å£é’ˆå¯¹ä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„å®ç°ç±»\n\n![image-20220923205648431](image-20220923205648431.png)\n\n# åŠŸèƒ½\n\n## æ•´åˆæ—¥å¿—æ¡†æ¶\n\n1ã€å¯¼åŒ…\n\n```xml\n  <dependency>\n            <groupId>org.slf4j</groupId>\n            <artifactId>slf4j-api</artifactId>\n            <version>1.7.33</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.logging.log4j</groupId>\n            <artifactId>log4j-slf4j-impl</artifactId>\n            <version>2.17.1</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.logging.log4j</groupId>\n            <artifactId>log4j-api</artifactId>\n            <version>2.5</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.logging.log4j</groupId>\n            <artifactId>log4j-core</artifactId>\n            <version>2.5</version>\n        </dependency>\n```\n\n2ã€åˆ›å»ºé…ç½®æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--æ—¥å¿—çº§åˆ«ä»¥åŠä¼˜å…ˆçº§æ’åº: OFF > FATAL > ERROR > WARN > INFO > DEBUG > TRACE > ALL -->\n<!--Configurationåé¢çš„statusï¼Œè¿™ä¸ªç”¨äºè®¾ç½®log4j2è‡ªèº«å†…éƒ¨çš„ä¿¡æ¯è¾“å‡ºï¼Œå¯ä»¥ä¸è®¾ç½®ï¼Œå½“è®¾ç½®æˆtraceæ—¶ï¼Œä½ ä¼šçœ‹åˆ°log4j2å†…éƒ¨å„ç§è¯¦ç»†è¾“å‡º-->\n<!--monitorIntervalï¼šLog4jèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹ä¿®æ”¹é…ç½® æ–‡ä»¶å’Œé‡æ–°é…ç½®æœ¬èº«ï¼Œè®¾ç½®é—´éš”ç§’æ•°-->\n<configuration status=\"DEBUG\" monitorInterval=\"30\">\n    <!--å…ˆå®šä¹‰æ‰€æœ‰çš„appender-->\n    <appenders>\n        <!--è¿™ä¸ªè¾“å‡ºæ§åˆ¶å°çš„é…ç½®-->\n        <console name=\"Console\" target=\"SYSTEM_OUT\">\n            <!--è¾“å‡ºæ—¥å¿—çš„æ ¼å¼-->\n            <PatternLayout pattern=\"[%d{HH:mm:ss:SSS}] [%p] - %l - %m%n\"/>\n        </console>\n    </appenders>\n        <!--æ–‡ä»¶ä¼šæ‰“å°å‡ºæ‰€æœ‰ä¿¡æ¯ï¼Œè¿™ä¸ªlogæ¯æ¬¡è¿è¡Œç¨‹åºä¼šè‡ªåŠ¨æ¸…ç©ºï¼Œç”±appendå±æ€§å†³å®šï¼Œè¿™ä¸ªä¹ŸæŒºæœ‰ç”¨çš„ï¼Œé€‚åˆä¸´æ—¶æµ‹è¯•ç”¨-->\n        <File name=\"log\" fileName=\"log/test.log\" append=\"false\">\n            <PatternLayout pattern=\"%d{HH:mm:ss.SSS} %-5level %class{36} %L %M - %msg%xEx%n\"/>\n        </File>\n    <!--ç„¶åå®šä¹‰loggerï¼Œåªæœ‰å®šä¹‰äº†loggerå¹¶å¼•å…¥çš„appenderï¼Œappenderæ‰ä¼šç”Ÿæ•ˆ-->\n    <loggers>\n        <root level=\"info\">\n            <appender-ref ref=\"Console\"/>\n        </root>\n    </loggers>\n</configuration>\n```\n\n## @Nullableæ³¨è§£\n\nâ€‹	å¯ä»¥ä½¿ç”¨æ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šï¼Œå‚æ•°ä¸Šã€‚æ³¨è§£ä¸‹å…è®¸ä¸ºç©ºã€‚\n\n## springæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹\n\n```java\npublic void test3(){\n        GenericApplicationContext context = new GenericApplicationContext();\n//        æ¸…ç©ºå†…å®¹ï¼Œæ³¨å†Œ\n        context.refresh();\n        context.registerBean(\"user1\",User.class,()->new User());\n//        è·å–springä¸­æ³¨å†Œçš„å¯¹è±¡\n        Object user1 = context.getBean(\"user1\");\n        System.out.println(user1);\n    }\n```\n\n## æ•´åˆJUnitå•å…ƒæµ‹è¯•\n\n### JUnit4\n\n1ã€å¯¼åŒ…\n\n```xml\n<dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-test</artifactId>\n  <version>5.3.23</version>\n</dependency>\n```\n\n2ã€åˆ›å»ºæµ‹è¯•ç±»ï¼Œä½¿ç”¨æ³¨è§£å®Œæˆ\n\n```java\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(\"classpath:bean.xml\")\npublic class SpringTest {\n    @Autowired\n    private UserDao userDao;\n\n    @Test\n    public void test(){\n        List<User> userList = userDao.getUserList();\n        for (User user : userList) {\n            System.out.println(user.toString());\n        }\n    }\n\n}\n```\n\n### JUnit5\n\n1ã€å¯¼å…¥junit5çš„åŒ…\n\n2ã€åˆ›å»ºæµ‹è¯•ç±»\n\n```java\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(\"classpath:bean.xml\")\npublic class JTest5 {\n    @Autowired\n    private UserDao userDao;\n\n    @Test\n    public void test(){\n        List<User> userList = userDao.getUserList();\n    }\n\n}\n```\n\n### æµ‹è¯•æ”¹è¿›\n\n```java\n//å¤åˆæ³¨è§£\n@SpringJUnitConfig(locations = {\"classpath:bean.xml\"})\npublic class JTest5 {\n    @Autowired\n    private UserDao userDao;\n\n    @Test\n    public void test(){\n        List<User> userList = userDao.getUserList();\n    }\n\n}\n\n```\n\n# SpringWebflux\n\n### 1ã€ä»‹ç»\n\nï¼ˆ1ï¼‰æ˜¯spring5æ·»åŠ çš„æ–°æ¨¡å—ï¼Œç”¨äºwebå¼€å‘ï¼ŒåŠŸèƒ½å’ŒspringMVCç±»ä¼¼ï¼Œ å“åº”å¼ç¼–ç¨‹å‡ºç°çš„æ¡†æ¶\n\nï¼ˆ2ï¼‰ä½¿ç”¨ä¼ ç»Ÿwebæ¡†æ¶ï¼Œæ¯”å¦‚springMVC ï¼Œè¿™äº›éƒ½æ˜¯åŸºäºServletå®¹å™¨ï¼ŒWebfluxæ˜¯ä¸€ç§å¼‚æ­¥éé˜»å¡çš„æ¡†æ¶ï¼Œå¼‚æ­¥éé˜»å¡åœ¨Servlet3.1ä¹‹åæ”¯æŒï¼Œæ ¸å¿ƒåŸºäºReactorçš„ç›¸å…³APIå®ç°çš„ã€‚\n\nï¼ˆ3ï¼‰Webfluxç‰¹ç‚¹\n\n1ã€éé˜»å¡å¼ï¼šåœ¨æœ‰é™èµ„æºä¸‹ï¼Œæé«˜ç³»ç»Ÿçš„ååé‡å’Œä¼¸ç¼©æ€§ï¼Œä»¥Reactorä¸ºåŸºç¡€å®ç°å“åº”å¼ç¼–ç¨‹\n\n2ã€å‡½æ•°å¼ç¼–ç¨‹ï¼šWebfluxä½¿ç”¨JAVA8å‡½æ•°å¼ç¼–ç¨‹æ–¹å¼å®ç°è·¯ç”±è¯·æ±‚\n\nï¼ˆ4ï¼‰æ¯”è¾ƒSpringMVC\n\n![image-20220924214524962](image-20220924214524962.png)\n\n1ã€ä¸¤è€…éƒ½èƒ½ä½¿ç”¨æ³¨è§£ï¼Œéƒ½è¿åŠ¨åœ¨Tomcatå®¹å™¨ä¸­ï¼Œ	\n\n2ã€SpringMVCé‡‡ç”¨å‘½ä»¤å¼ç¼–ç¨‹ï¼Œä¸€è¡Œè¡Œä»£ç æ‰§è¡Œï¼Œè€ŒWebFluxå®Œå…¨ä¸ä¸€æ ·ï¼Œé‡‡ç”¨å¼‚æ­¥å“åº”å¼ç¼–ç¨‹\n\n### 2ã€å“åº”å¼ç¼–ç¨‹\n\nï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯å“åº”å¼ç¼–ç¨‹ï¼Ÿ\n\nå“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§é¢å‘æ•°æ®æµå’Œå˜åŒ–ä¼ æ’­çš„ç¼–ç¨‹èŒƒå¼ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ç¼–ç¨‹è¯­è¨€ä¸­å¾ˆæ–¹ä¾¿åœ°è¡¨è¾¾é™æ€æˆ–åŠ¨æ€çš„æ•°æ®æµï¼Œè€Œç›¸å…³çš„è®¡ç®—æ¨¡å‹ä¼šè‡ªåŠ¨å°†å˜åŒ–çš„å€¼é€šè¿‡æ•°æ®æµè¿›è¡Œä¼ æ’­ã€‚	\n\nä¾‹å¦‚ç”µå­è¡¨æ ¼\n\nï¼ˆ2ï¼‰Java8åŠå…¶ä¹‹å‰ç‰ˆæœ¬ä¸­\n\næ¶‰åŠåˆ°è®¾è®¡æ¨¡å¼ï¼š**è§‚å¯Ÿè€…æ¨¡å¼**ï¼Œæ¶‰åŠåˆ°ä¸¤ä¸ªç±»Observerå’ŒObservable\n\n\n\n```java\npublic static void main(String[] args) {\n        Observer observer = new Observer();\n//        æ·»åŠ è§‚å¯Ÿè€…\n        observer.addObserver((o,arg)->{\n            System.out.println(\"å‘ç”Ÿäº†å˜åŒ–...\");\n        });\n        observer.addObserver((o,arg)->{\n            System.out.println(\"è¢«è§‚å¯Ÿè€…é€šçŸ¥ï¼Œå‡†å¤‡æ”¹å˜...\");\n        });\n        observer.setChanged();//çŸ¥é“æ•°æ®çš„å˜åŒ–\n        observer.notifyObservers();//é€šçŸ¥\n    }\n//å€’åºéå†é€šçŸ¥\n```\n\n#### Reactorå®ç°\n\nï¼ˆ1ï¼‰å“åº”å¼ç¼–ç¨‹æ“ä½œä¸­ï¼Œæ»¡è¶³Reactiveè§„èŒƒæ¡†æ¶\n\nï¼ˆ2ï¼‰Reactoræœ‰ä¸¤ä¸ªæ ¸å¿ƒç±»ï¼ŒMonoå’ŒFluxï¼Œè¿™ä¸¤ä¸ªç±»éƒ½å®ç°äº†Publisheræ¥å£\n\næä¾›äº†ä¸°å¯Œçš„æ“ä½œç¬¦ã€‚Fluxå¯¹è±¡å®ç°å‘å¸ƒè€…ï¼Œè¿”å›nä¸ªå…ƒç´ ï¼›Monoå®ç°å‘å¸ƒè€…ï¼Œè¿”å›1ä¸ªæˆ–0ä¸ªå…ƒç´ \n\nï¼ˆ3ï¼‰Fluxå’ŒMonoéƒ½æ˜¯æ•°æ®æµçš„å‘å¸ƒè€…ï¼Œä¸¤è€…éƒ½å¯ä»¥å‘å‡ºä¸‰ç§ä¿¡å·ï¼Œåˆ†åˆ«æ˜¯å…ƒç´ å€¼ï¼Œé”™è¯¯ä¿¡å·ï¼Œç»ˆæ­¢ä¿¡å·ï¼Œåä¸¤è€…éƒ½æ˜¯ç»ˆæ­¢ä¿¡å·ï¼Œç”¨äºå‘Šè¯‰è®¢é˜…è€…æ•°æ®æµç»“æŸäº†ï¼Œé”™è¯¯ä¿¡å·ï¼šç»ˆæ­¢æ•°æ®æµåŒæ—¶æŠŠé”™è¯¯ä¿¡æ¯ä¼ é€’ç»™è®¢é˜…è€…\n\nï¼ˆ4ï¼‰é€šè¿‡ä»£ç æ¼”ç¤ºFluxå’ŒMono\n\nå¯¼åŒ…\n\n```xml\n<dependency>\n            <groupId>io.projectreactor</groupId>\n            <artifactId>reactor-core</artifactId>\n        </dependency>\n```\n\n```java\npublic static void main(String[] args) {\n//        justæ–¹æ³•ç›´æ¥å£°æ˜\n        Flux.just(1, 2, 3, 4);\n        Mono.just(1);\n//        å…¶ä»–æ–¹æ³•\n        Integer[] array = {1, 2, 3, 4};\n        Flux.fromArray(array);\n\n\n        List<Integer> list = Arrays.asList(array);\n        Flux.fromIterable(list);\n\n        Stream<Integer> stream = list.stream();\n        Flux.fromStream(stream);\n    }\n```\n\nä¸‰ç§ä¿¡å·çš„ç‰¹ç‚¹ï¼š\n\né”™è¯¯ä¿¡å·å’Œå®Œæˆä¿¡å·éƒ½æ˜¯ç»ˆæ­¢ä¿¡å·ï¼Œä¸¤è€…ä¸èƒ½å…±å­˜ã€‚\n\nå¦‚æœæ²¡æœ‰å‘é€ä»»ä½•å…ƒç´ å€¼ï¼Œè€Œæ˜¯ç›´æ¥å‘é€é”™è¯¯æˆ–è€…å®Œæˆä¿¡å·ï¼Œè¡¨ç¤ºæ˜¯ç©ºæ•°æ®æµ\n\nå¦‚æœæ²¡æœ‰é”™è¯¯ä¿¡å·ï¼Œæ²¡æœ‰å®Œæˆä¿¡å·ï¼Œè¡¨ç¤ºæ˜¯æ— é™æ•°æ®æµ\n\nï¼ˆ5ï¼‰**æœ‰è®¢é˜…æ‰æœ‰å‘å¸ƒ**\n\n`Flux.just(1, 2, 3, 4).subscribe(System.out::print);`\n\nï¼ˆ6ï¼‰æ“ä½œç¬¦\n\nå¯¹æˆ‘ä»¬æ•°æ®æµä¸€é“æ“ä½œï¼Œå°±ç§°ä¸ºæ“ä½œç¬¦ï¼Œæ¯”å¦‚å·¥å‚æµæ°´çº¿\n\nä¸€ã€mapå…ƒç´ æ˜ å°„ä¸ºæ–°å…ƒç´ \n\n![image-20220924234727900](image-20220924234727900.png)	\n\nmapå¯ä»¥å¯¹æ•°æ®è¿›è¡Œå¤„ç†\n\näºŒã€flatMapå…ƒç´ æ˜ å°„ä¸ºæµ\n\n![image-20220924234922201](image-20220924234922201.png)\n\nå°†å…ƒç´ æ˜ å°„æˆæµï¼Œä¹‹åå¤šä¸ªæµåˆå¹¶æˆæ›´å¤§çš„æµåœ¨ä¸€èµ·è¿”å›\n\n### 3ã€Webfluxæ‰§è¡Œæµç¨‹å’Œæ ¸å¿ƒAPI\n\nSpringWebfluxåŸºäºReactorï¼Œé»˜è®¤Nettyå®¹å™¨ï¼ŒNettyæ˜¯é«˜æ€§èƒ½ï¼ŒNIOæ¡†æ¶\n\nï¼ˆ1ï¼‰Netty\n\nBIOï¼ˆé˜»å¡ï¼‰\n\n![image-20220925000124772](image-20220925000124772.png) \n\nNIOï¼ˆéé˜»å¡ï¼‰\n\n![ ](image-20220925001131463.png)\n\n\n\n**--------------------------------------------------------2022å¹´9æœˆ25æ—¥ 12:52:34----------------------------------------**\n\nï¼ˆ2ï¼‰SpringWebfluxæ‰§è¡Œè¿‡ç¨‹å’ŒSpringMVCç›¸ä¼¼çš„\n\n- SpringWebfluxæ ¸å¿ƒæ§åˆ¶å™¨DispatcherHandlerï¼Œå®ç°æ¥å£WebHandler\n\nï¼ˆ3ï¼‰SpringWebfluxæ ¸å¿ƒæ§åˆ¶å™¨DispatcherHandlerï¼Œè´Ÿè´£è¯·æ±‚æ˜ å°„\n\n- HandlerMappingï¼šè¯·æ±‚æŸ¥è¯¢å¤„ç†çš„æ–¹æ³•\n\n- HandlerAdapterï¼šçœŸæ­£è´Ÿè´£è¯·æ±‚çš„å¤„ç†\n- HandlerResultHandlerï¼šå“åº”ç»“æœçš„å¤„ç†\n\nï¼ˆ4ï¼‰SpringWebfluxå®ç°å‡½æ•°å¼ç¼–ç¨‹ï¼Œä¸¤ä¸ªæ¥å£ï¼šRouterFunctionå’ŒHandlerFunctionï¼ˆå¤„ç†å…·ä½“çš„å‡½æ•°ï¼‰\n\n### 4ã€ SpringWebfluxï¼ˆåŸºäºæ³¨è§£ç¼–ç¨‹æ¨¡å‹ï¼‰\n\nå®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼šæ³¨è§£ç¼–ç¨‹æ¨¡å‹ã€å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹\n\næ³¨è§£æ¨¡å‹ï¼šåªéœ€è¦å°†ç›¸å…³ä¾èµ–é…ç½®åˆ°é¡¹ç›®ä¸­ï¼ŒSpringBootè‡ªåŠ¨è£…é…åˆ°ç›¸å…³å®¹å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨NettyæœåŠ¡å™¨\n\nç¬¬ä¸€æ­¥ã€å¼•å…¥webfluxç›¸å…³ä¾èµ–\n\n```xml\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-webflux</artifactId>\n            <version>2.7.3</version>\n        </dependency>\n```\n\n\n\nç¬¬äºŒæ­¥ã€å‡†å¤‡å·¥ä½œ\n\nåˆ›å»ºå¯¹åº”æ¥å£\n\n```java\npublic interface UserService {\n\n    Flux<User> queryByList();\n\n     Mono<User> queryById(Integer id);\n\n    Mono<Void> addUser(Mono<User> user);\n}\n\n```\n\n```\n@Service\npublic class UserServiceImpl implements UserService{\n\n    private final Map<Integer, User> users = new HashMap();\n    public UserServiceImpl(){\n        this.users.put(1, new User(\"xiaoliu\",1,23));\n        this.users.put(2, new User(\"xiaoliu1\",2,23));\n        this.users.put(3, new User(\"xiaoliu2\",3,23));\n        this.users.put(4, new User(\"xiaoliu3\",4,23));\n        this.users.put(5, new User(\"xiaoliu4\",5,23));\n        this.users.put(6, new User(\"xiaoliu5\",6,23));\n    }\n\n\n    @Override\n    public Flux<User> queryByList() {\n        return Flux.fromIterable(this.users.values());\n    }\n\n    @Override\n    public Mono<User> queryById(Integer id) {\n        return Mono.justOrEmpty(this.users.get(id));\n    }\n\n    @Override\n    public Mono<Void> addUser(Mono<User> userMono) {\n\n        return userMono.doOnNext(person->{\n            int i = users.size() + 1;\n                users.put(i,person);\n        }).thenEmpty(Mono.empty());\n    }\n}\n```\n\nservice\n\n```java\n@Service\npublic class UserServiceImpl implements UserService{\n\n    private final Map<Integer, User> users = new HashMap();\n    public UserServiceImpl(){\n        this.users.put(1, new User(\"xiaoliu\",1,23));\n        this.users.put(2, new User(\"xiaoliu1\",2,23));\n        this.users.put(3, new User(\"xiaoliu2\",3,23));\n        this.users.put(4, new User(\"xiaoliu3\",4,23));\n        this.users.put(5, new User(\"xiaoliu4\",5,23));\n        this.users.put(6, new User(\"xiaoliu5\",6,23));\n    }\n\n\n    @Override\n    public Flux<User> queryByList() {\n        return Flux.fromIterable(this.users.values());\n    }\n\n    @Override\n    public Mono<User> queryById(Integer id) {\n        return Mono.justOrEmpty(this.users.get(id));\n    }\n\n    @Override\n    public Mono<Void> addUser(Mono<User> userMono) {\n\n        return userMono.doOnNext(person->{\n            int i = users.size() + 1;\n                users.put(i,person);\n        }).thenEmpty(Mono.empty());\n    }\n}\n\n```\n\ncontroller\n\n```java\n@RestController\n@RequestMapping(\"/user\")\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(\"/get/{id}\")\n    public Mono<User> getId(@PathVariable Integer id){\n        Mono<User> mono = userService.queryById(id);\n        return mono;\n    }\n\n    @GetMapping(\"/query\")\n    public Flux<User> list(){\n        Flux<User> userFlux = userService.queryByList();\n        return userFlux;\n    }\n\n    @PostMapping(\"/add\")\n    public Mono<Void> add(@RequestBody User user){\n        Mono<User> userMono =  Mono.just(user);\n        Mono<Void> voidMono = userService.addUser(userMono);\n        return voidMono;\n    }\n\n}\n```\n\n**SpringBootå®ç°ï¼š**å¼‚æ­¥éé˜»å¡æ–¹å¼ï¼ŒWebfluxã€Nettyã€Reactor\n\n**SpringMVCå®ç°ï¼š**åŒæ­¥é˜»å¡æ–¹å¼ï¼ŒåŸºäºSpringMVC+Servlet+Tomcat\n\n### 5ã€ SpringWebfluxï¼ˆåŸºäºå‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹ï¼‰\n\nï¼ˆ1ï¼‰åœ¨ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹æ“ä½œçš„æ—¶å€™ï¼Œéœ€è¦è‡ªå·±åˆå§‹åŒ–æœåŠ¡å™¨ï¼Œ\n\nï¼ˆ2ï¼‰åŸºäºå‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹ï¼Œæœ‰ä¸¤ä¸ªæ ¸å¿ƒæ¥å£ï¼šRouterFunctionï¼ˆå®ç°è·¯ç”±åŠŸèƒ½ï¼Œè¯·æ±‚è½¬å‘ç»™å¯¹åº”çš„handlerï¼‰å’ŒHandlerFunctionï¼ˆå¤„ç†è¯·æ±‚ï¼Œç”Ÿæˆç›¸åº”çš„å‡½æ•°ï¼‰ã€‚æ ¸å¿ƒä»»åŠ¡å®šä¹‰è¿™ä¸¤ä¸ªå‡½æ•°å¼æ¥å£çš„å®ç°å¹¶ä¸”å¯åŠ¨éœ€è¦çš„æœåŠ¡å™¨ã€‚\n\nï¼ˆ3ï¼‰SpringWebfluxè¯·æ±‚å’Œå“åº”ä¸å†æ˜¯ServletRequestå’ŒServletResponse,è€Œæ˜¯\n\n**ServerRequest**å’Œ**ServerResponse**\n\nç¬¬ä¸€æ­¥ åˆ›å»ºHandlerï¼ˆå…·ä½“å®ç°æ–¹æ³•ï¼‰\n\n```java\npublic class UserHandler {\n    private final UserService userService;\n    public UserHandler(UserService userService){\n        this.userService = userService;\n    }\n\n    //æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·\n    public Mono<ServerResponse> getId(ServerRequest request){\n        Integer id = Integer.valueOf(request.pathVariable(\"id\"));\n//        ç©ºå€¼å¤„ç†\n        Mono<ServerResponse> noFound = ServerResponse.notFound().build();\n        Mono<User> userMono = this.userService.queryById(id);\n        //æŠŠuserMonoè½¬æ¢è¿”å›\n        //ä½¿ç”¨Reactorç”¨FlatMap\n        return\n        userMono\n                .flatMap(person -> ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\n                        .bodyValue(person))\n                        .switchIfEmpty(noFound);\n    }\n        //æŸ¥è¯¢æ‰€æœ‰\n    public Mono<ServerResponse> getList(ServerRequest request){\n        Flux<User> query = this.userService.queryByList();\n        return ServerResponse.ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(query);\n    }\n    //æ·»åŠ ç”¨æˆ·\n    public Mono<ServerResponse> save(ServerRequest request){\n//        å¾—åˆ°userå¯¹è±¡\n        Mono<User> userMono = request.bodyToMono(User.class);\n        return ServerResponse.ok().build(this.userService.addUser(userMono));\n    }\n}\n```\n\nç¬¬ä¸‰æ­¥ åˆå§‹åŒ–æœåŠ¡å™¨ï¼Œç¼–å†™Router\n\n```java\npublic class Server {\n//    åˆ›å»ºrouterè·¯ç”±\n    public RouterFunction<ServerResponse> routingFunction(){\n        UserService userService = new UserServiceImpl();\n        UserHandler userHandler = new UserHandler(userService);\n\n        return RouterFunctions.route(\n                        GET(\"/users/{id}\").and(accept(MediaType.APPLICATION_JSON)), userHandler::getId\n                ).andRoute(GET(\"users\").and(accept(MediaType.APPLICATION_JSON)), userHandler::getList)\n                .andRoute(POST(\"add\").and(accept(MediaType.APPLICATION_JSON)), userHandler::save);\n    }\n\n//    åˆ›å»ºæœåŠ¡å™¨å®Œæˆé€‚é…\n    public void creatReactorServer(){\n//        è·¯ç”±å’Œhandleré€‚é…\n        RouterFunction<ServerResponse> route = routingFunction();\n\n        HttpHandler handler = toHttpHandler(route);\n        ReactorHttpHandlerAdapter adapter = new ReactorHttpHandlerAdapter(handler);\n\n//        åˆ›å»ºæœåŠ¡å™¨\n        HttpServer httpServer =HttpServer.create();\n        httpServer.handle(adapter).bindNow();\n\n    }\n\n}\n```\n\nç¬¬å››æ­¥ åˆ›å»ºæœåŠ¡å™¨å®Œæˆé€‚é…\n', 0, '2022-09-26 15:45:09', '2022-10-21 20:01:00', 0, 123, 4, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/26/79d845fd6ae64a92be9f2b31b0e2234f.png', 7);
INSERT INTO `t_blog` VALUES (241, 'SpringMVC01', 'å¼€å§‹å­¦ä¹ springmvc~', '# ç®€ä»‹\n\nä»€ä¹ˆæ˜¯SpringMVC\n\nSpring MVCå±äºSpringFrameWorkçš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨Spring Web Flowé‡Œé¢ã€‚Spring æ¡†æ¶æä¾›äº†æ„å»º [Web](https://baike.baidu.com/item/Web/150564?fromModule=lemma_inlink) åº”ç”¨ç¨‹åºçš„å…¨åŠŸèƒ½ MVC æ¨¡å—ã€‚\n\n# SpringMVCç‰¹ç‚¹\n\n- æ˜¯springäº§å“ï¼Œä¸IOCå®¹å™¨å¯ä»¥æ— ç¼è¿æ¥\n- åŸºäºåŸç”Ÿçš„Servlet\n- å†…éƒ¨ç»„ä»¶åŒ–ç¨‹åº¦é«˜\n- æ€§èƒ½é«˜\n\n# ç¬¬ä¸€ä¸ªSpringMVCé¡¹ç›®\n\n## 1ã€å¯¼åŒ…\n\n```xml\n<!--        springMVC-->\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-webmvc</artifactId>\n            <version>5.3.20</version>\n        </dependency>\n\n<!--        æ—¥å¿—-->\n        <dependency>\n            <groupId>ch.qos.logback</groupId>\n            <artifactId>logback-classic</artifactId>\n            <version>1.2.11</version>\n        </dependency>\n\n<!--        Servlet-->\n        <dependency>\n            <groupId>javax.servlet</groupId>\n            <artifactId>javax.servlet-api</artifactId>\n            <version>4.0.1</version>\n            <scope>provided</scope>\n        </dependency>\n\n<!--        thymeleafæ•´åˆ-->\n        <dependency>\n            <groupId>org.thymeleaf</groupId>\n            <artifactId>thymeleaf-spring5</artifactId>\n            <version>3.0.15.RELEASE</version>\n        </dependency>\n```\n\n## 2ã€web.xml\n\nï¼ˆ1ï¼‰é»˜è®¤æ–¹å¼\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\">\n\n<!--    é…ç½®springmvcçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€å¤„ç†-->\n    <servlet>\n        <servlet-name>SpringMVC</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>SpringMVC</servlet-name>\n<!--        \nè®¾ç½®spr ingMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„\n/æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/1oginæˆ–. htm1æˆ–. jsæˆ–. cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„\nä½†æ˜¯/ä¸èƒ½åŒ¹é…. jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚\n-->\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n</web-app>\n```\n\nï¼ˆ2ï¼‰æ‰©å±•æ–¹å¼é…ç½®\n\n```xml\n<!--    é…ç½®springmvcçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€å¤„ç†-->\n    <servlet>\n        <servlet-name>SpringMVC</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n<!--        é…ç½®pringmvcé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§°-->\n        <init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath:springMVC.xml</param-value>\n        </init-param>\n<!--        å°†spring dispatcherServletåˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶-->\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n```\n\n## 3ã€springmvcé…ç½®æ–‡ä»¶\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\">\n\n<!--    æ‰«æç»„ä»¶-->\n    <context:component-scan base-package=\"com.xiaoliu\"></context:component-scan>\n<!--    è§†å›¾è§£æå™¨-->\n    <!--é…ç½®Thymeleafè§†å›¾è§£æå™¨-->\n    <bean id=\"viewResolver\" class=\"org.thymeleaf.spring5.view.ThymeleafViewResolver\">\n        <property name=\"order\" value=\"1\"></property>\n        <property name=\"characterEncoding\" value=\"UTF-8\"></property>\n        <property name=\"templateEngine\">\n            <bean class=\"org.thymeleaf.spring5.SpringTemplateEngine\">\n                <property name=\"templateResolver\">\n                    <bean class=\"org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\">\n                        <!--è§†å›¾å‰ç¼€-->\n                        <property name=\"prefix\" value=\"/WEB-INF/templates/\"></property>\n                        <!--è§†å›¾åç¼€-->\n                        <property name=\"suffix\" value=\".html\"></property>\n                        <property name=\"templateMode\" value=\"HTML5\"></property>\n                        <property name=\"characterEncoding\" value=\"UTF-8\"></property>\n                    </bean>\n                </property>\n            </bean>\n        </property>\n    </bean>\n\n<!--    å¤„ç†é™æ€èµ„æºï¼Œä¾‹å¦‚htm1ã€jsã€Cssã€jpg\nè‹¥åªè®¾ç½®è¯¥æ ‡ç­¾ï¼Œåˆ™åªèƒ½è®¿é—®é™æ€èµ„æºï¼Œå…¶ä»–è¯·æ±‚åˆ™æ— æ³•è®¿é—®\næ­¤æ—¶å¿…é¡»è®¾ç½®<mvc: annotation-driven/>è§£å†³é—®é¢˜\n-->\n    <mvc:default-servlet-handler/>\n    <!--å¼€å¯mvcæ³¨è§£é©±åŠ¨-->\n    <mvc:annotation-driven>\n        <mvc:message-converters>\n            <!--å¤„ç†å“åº”ä¸­æ–‡å†…å®¹ä¹±ç -->\n            <bean class=\"org.springframework.http.converter.StringHttpMessageConverter\">\n                <property name=\"defaultCharset\" value=\"UTF-8\" />\n                <property name=\"supportedMediaTypes \" >\n                    <list>\n                    <value>text/htm1</value>\n                    <value>application/json</value>\n                </list>\n            </property>\n        </bean>\n    </mvc:message-converters>\n</mvc:annotation-driven>\n\n        </beans>\n```\n\n**Thymeleafè§†å›¾è§£æå™¨**\n\n```xml\n<!--é…ç½®Thymeleafè§†å›¾è§£æå™¨-->\n    <bean id=\"viewResolver\" class=\"org.thymeleaf.spring5.view.ThymeleafViewResolver\">\n        <property name=\"order\" value=\"1\"></property>\n        <property name=\"characterEncoding\" value=\"UTF-8\"></property>\n        <property name=\"templateEngine\">\n            <bean class=\"org.thymeleaf.spring5.SpringTemplateEngine\">\n                <property name=\"templateResolver\">\n                    <bean class=\"org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\">\n                        <!--è§†å›¾å‰ç¼€-->\n                        <property name=\"prefix\" value=\"/WEB-INF/templates/\"></property>\n                        <!--è§†å›¾åç¼€-->\n                        <property name=\"suffix\" value=\".html\"></property>\n                        <property name=\"templateMode\" value=\"HTML5\"></property>\n                        <property name=\"characterEncoding\" value=\"UTF-8\"></property>\n                    </bean>\n                </property>\n            </bean>\n        </property>\n    </bean>\n\n```\n\næ³¨è§£é©±åŠ¨\n\n```xml\n<!--    å¤„ç†é™æ€èµ„æºï¼Œä¾‹å¦‚htm1ã€jsã€Cssã€jpg\nè‹¥åªè®¾ç½®è¯¥æ ‡ç­¾ï¼Œåˆ™åªèƒ½è®¿é—®é™æ€èµ„æºï¼Œå…¶ä»–è¯·æ±‚åˆ™æ— æ³•è®¿é—®\næ­¤æ—¶å¿…é¡»è®¾ç½®<mvc: annotation-driven/>è§£å†³é—®é¢˜\n-->\n    <mvc:default-servlet-handler/>\n    <!--å¼€å¯mvcæ³¨è§£é©±åŠ¨-->\n    <mvc:annotation-driven>\n        <mvc:message-converters>\n            <!--å¤„ç†å“åº”ä¸­æ–‡å†…å®¹ä¹±ç -->\n            <bean class=\"org.springframework.http.converter.StringHttpMessageConverter\">\n                <property name=\"defaultCharset\" value=\"UTF-8\" />\n                <property name=\"supportedMediaTypes \" >\n                    <list>\n                    <value>text/htm1</value>\n                    <value>application/json</value>\n                </list>\n            </property>\n        </bean>\n    </mvc:message-converters>\n</mvc:annotation-driven>\n\n```\n\n## 4ã€åˆ›å»ºå‰ç«¯æ§åˆ¶å™¨\n\n```java\n@Controller\npublic class UserController {\n    // \"/\" ->   /WEB-INF/templates/index.html\n    @RequestMapping(\"/\")\npublic String index(){\n    return \"index\";\n}\n\n@RequestMapping(\"/target\")\npublic String toTarget(){\n    return \"target\";\n}\n}\n```\n\n## 5ã€æ€»ç»“\n\næµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚åœ°å€è‹¥ç¬¦åˆè¯·æ±‚å‰ç«¯æ§åˆ¶å™¨çš„url-partternï¼Œè¯¥è¯·æ±‚å°±ä¼šè¢«å‰ç«¯æ§åˆ¶å™¨DispatcherServletå¤„ç†ã€‚å‰ç«¯æ§åˆ¶å™¨ä¼šè¯»å–SpringMVCçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æ‰«æç»„ä»¶æ‰¾åˆ°æ§åˆ¶å™¨ï¼Œå°†è¯·æ±‚åœ°å€å’Œæ§åˆ¶å™¨çš„@RequestMappingæ³¨è§£çš„valueå€¼åŒ¹é…ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œè¯¥æ³¨è§£æ ‡è¯†çš„æ§åˆ¶å™¨æ–¹æ³•å°±æ˜¯å¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼Œå¤„ç†è¯·æ±‚çš„æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„è§†å›¾åç§°ï¼Œè¯¥è§†å›¾	åç§°ä¼šè¢«è§†å›¾è§£æå™¨è§£æï¼ŒåŠ ä¸Šå‰ç¼€å’Œåç¼€ç»„æˆè¯•å›¾çš„è·¯å¾„ï¼Œé€šè¿‡Thymeleafå¯¹è¯•å›¾è¿›è¡Œæ¸²æŸ“ï¼Œæœ€ç»ˆè½¬å‘æ‰€å®šä¹‰çš„é¡µé¢ã€‚\n\n## 6ã€é¡¹ç›®æ¶æ„\n\n![image-20220926105928607](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/26/ac67b53639cf4eec8253f96332c8a2f9.png)\n\næ‰“åŒ…æ–¹å¼ä¸ºwaråŒ…æ—¶ï¼Œæ‰èƒ½é…ç½®webapp\n\n# @RequestMappingæ³¨è§£\n\n## 1ã€æ³¨è§£çš„åŠŸèƒ½\n\nå…¶ä½œç”¨å°±æ˜¯å°†è¯·æ±‚å’Œå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨æ–¹æ³•å…³è”èµ·æ¥ï¼Œå»ºç«‹æ˜ å°„å…³ç³»\n\nSpringMVCæ¥æ”¶åˆ°æŒ‡å®šçš„è¯·æ±‚ï¼Œå°±ä¼šæ‰¾åˆ°æ˜ å°„å…³ç³»ä¸­å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚\n\n## 2ã€@RequestMappingæ³¨è§£çš„ä½ç½®\n\nåœ¨ç±»ä¸Šï¼šæ ‡è¯†ä¸€ä¸ªç±»ï¼Œè®¾ç½®æ˜ å°„è¯·æ±‚è·¯å¾„çš„åˆå§‹ä¿¡æ¯\n\nåœ¨æ–¹æ³•ä¸Šï¼šæ ‡è¯†ä¸€ä¸ªæ–¹æ³•ï¼Œè®¾ç½®æ˜ å°„è¯·æ±‚è·¯å¾„çš„å…·ä½“ä¿¡æ¯\n\n## 3ã€valueå±æ€§\n\n@RequestMappingä¸­çš„valueå±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯ä»¥å­˜æ”¾å¤šä¸ªå€¼ï¼Œå³å¯ä»¥æœ‰å¤šä¸ªè¯·æ±‚åœ°å€æ˜ å°„ \n\nvalueå€¼å¿…é¡»è®¾ç½®ï¼Œè‡³å°‘é€šè¿‡è¯·æ±‚åœ°å€æ˜ å°„\n\n## 4ã€methodå±æ€§\n\nmethodå±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ï¼ˆgetæˆ–postï¼‰åŒ¹é…è¯·æ±‚æ˜ å°„\n\nmethodå±æ€§æ˜¯ä¸€ä¸ª**RequestMethod**ç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½åŒ¹é…å¤šç§è¯·æ±‚æ–¹å¼çš„è¯·æ±‚ \n\nè‹¥è¯·æ±‚çš„valueå€¼æ»¡è¶³è¦æ±‚ï¼Œä½†æ˜¯methoä¸æ»¡è¶³åˆ™æŠ¥405é”™è¯¯\n\n## 5ã€æ´¾ç”Ÿå‡ºçš„æ³¨è§£\n\n\n1ã€å¯¹äºå¤„ç†æŒ‡å®šè¯·æ±‚æ–¹å¼çš„æ§åˆ¶å™¨æ–¹æ³•ï¼ŒSpringMVCä¸­æä¾›äº† @RequestMappingçš„æ´¾ç”Ÿæ³¨è§£\nå¤„ç†getè¯·æ±‚çš„æ˜ å°„->@GetMapping\nå¤„ç†postè¯·æ±‚çš„æ˜ å°„-->@PostMapping\nå¤„ç†putè¯·æ±‚çš„æ˜ å°„-->@PutMapping\nå¤„ç†deleteè¯·æ±‚çš„æ˜ å°„->@DeleteMapping\n2ã€å¸¸ç”¨çš„è¯·æ±‚æ–¹å¼æœ‰get, post, put, deleter\nä½†æ˜¯ç›®å‰æµè§ˆå™¨åªæ”¯æŒgetå’Œpost,è‹¥åœ¨formè¡¨å•æäº¤æ—¶,ä¸ºmethodè®¾ç½®äº†å…¶ä»–è¯·æ±‚æ–¹å¼çš„å­—ç¬¦ä¸²(putæˆ–\ndelete)ï¼Œåˆ™æŒ‰ç…§é»˜è®¤çš„è¯·æ±‚æ–¹å¼getå¤„ç†\nè‹¥è¦å‘é€putå’Œdeleteè¯·æ±‚ï¼Œåˆ™éœ€è¦é€šè¿‡springæä¾›çš„è¿‡æ»¤å™¨HiddenHttpMethodFilter\n\n## 6ã€paramså±æ€§\n\n@RequestMappingæ³¨è§£çš„paramså±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å‚æ•°åŒ¹é…è¯·æ±‚æ˜ å°„\n@RequestMappingæ³¨è§£çš„paramså±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œ å¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å‚æ•°å’Œè¯·æ±‚æ˜ å°„\nçš„åŒ¹é…å…³ç³»\nparam\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°\n\"!param\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦paramè¯·æ±‚å‚æ•°\n\"param=value\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ä¸”param=value\n\"param!=value\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ä½†æ˜¯param!=value\n\n## 7ã€headerså±æ€§\n\n@RequestMappingæ³¨è§£çš„headerså±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯åŒ¹é…è¯·æ±‚æ˜ å°„\n@RequestMappingæ³¨è§£çš„headerså±æ€§æ˜¯-ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯å’Œè¯·æ±‚æ˜ \nå°„çš„åŒ¹é…å…³ç³»\n\"header\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯\n\"!header\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯\n\"header-value\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header-value\n\"header!=value\":è¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header!=value\nè‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMappingæ³¨è§£çš„valueå’Œmethodå±æ€§ï¼Œä½†æ˜¯ä¸æ»¡è¶³headerså±æ€§, æ­¤æ—¶é¡µé¢æ˜¾ç¤º404é”™\nè¯¯ï¼Œå³èµ„æºæœªæ‰¾åˆ°\n\n## 8ã€SpringMVCæ”¯æŒanté£æ ¼çš„è·¯å¾„(æ¨¡ç³ŠåŒ¹é…)\n\n? :è¡¨ç¤ºä»»æ„çš„å•ä¸ªå­—ç¬¦\n*: è¡¨ç¤ºä»»æ„çš„0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦\n\nã€* *ã€‘:è¡¨ç¤ºä»»æ„çš„ä¸€-å±‚æˆ–å¤šå±‚ç›®å½•\næ³¨æ„:åœ¨ä½¿ç”¨æ—¶ï¼Œåªèƒ½ä½¿ç”¨/  ** /xxxçš„æ–¹å¼\n\n## 9ã€SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰\n\nåŸå§‹æ–¹å¼ :/xxx?id=1\n\nrestæ–¹å¼ï¼š/xxx/1\n\nSpringMVCè·¯å¾„ä¸­çš„å ä½ç¬¦å¸¸ç”¨äºrestfulé£æ ¼ä¸­ï¼Œå½“è¯·æ±‚è·¯å¾„ä¸­å°†æŸäº›æ•°æ®é€šè¿‡è·¯å¾„çš„æ–¹å¼ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸­ï¼Œå°±å¯ä»¥åœ¨ç›¸åº”çš„@RequestMappingæ³¨è§£çš„valueå±æ€§ä¸­é€šè¿‡å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ çš„æ•°æ®ï¼Œåœ¨é€šè¿‡@PathVariableæ³¨è§£ï¼Œå°†å ä½ç¬¦æ‰€è¡¨ç¤ºçš„æ•°æ®èµ‹å€¼ç»™æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚\n\n```java\npublic String index(@PathVariable(value = \"id\") Integer id){\n    return \"index\";\n}\n```\n\n# SpringMVCè·å–è¯·æ±‚å‚æ•°\n\n## 1ã€é€šè¿‡servletAPIè·å–\n\nå°†HttpServletRequestä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ï¼Œæ­¤æ—¶HttpServletRequestç±»å‹çš„å‚æ•°è¡¨ç¤ºå°è£…äº†å½“å‰è¯·æ±‚çš„è¯·æ±‚æŠ¥æ–‡çš„å¯¹è±¡\n\n## 2ã€é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°\n\nå¤šè¯·æ±‚å‚æ•°ä¸­å‡ºç°å¤šä¸ªåŒåçš„è¯·æ±‚å‚æ•°ï¼Œå¯ä»¥å†æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®è®¾ç½®å­—ç¬¦ä¸²ç±»å‹æˆ–å­—ç¬¦ä¸²æ•°ç»„æ¥æ”¶æ­¤è¯·æ±‚å‚æ•°\n\n```java\n@RequestMapping(value = \"/users\",method = RequestMethod.GET)\npublic String users(String username,String password){\n    System.out.println(username+\";\"+password);\n    return \"target\";\n}\n```\n\n**å½“è¦è·å–çš„å‚æ•°åä¸æ§åˆ¶å™¨æ–¹æ³•å½¢å‚åç§°ä¸ä¸€è‡´æ—¶ï¼Œä¸èƒ½è·å–åˆ°**\n\n## 3ã€@RequestParam\n\n```java\npublic String users(\n       @RequestParam(\"user_name\") String username,\n       @RequestParam(\"pass_word\") String password){\n    System.out.println(username+\";\"+password);\n    return \"target\";\n}\n```\n\né€šè¿‡æ˜ å°„å‰ç«¯è¯·æ±‚çš„å‚æ•°ç»™æ§åˆ¶å™¨çš„å½¢å‚\n\n- **name**\n\nä¸valueä¸€è‡´\n\n- **required**  ï¼ˆå¸ƒå°”ç±»å‹ï¼‰\n\næ˜¯å¦å¿…é¡»\n\n- **defaultValue**\n\né»˜è®¤å€¼ï¼Œå½“æŒ‡å®šçš„valueå€¼æ²¡æœ‰ä¼ è¾“æ—¶ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ä¸ºå½¢å‚èµ‹å€¼\n\n## 4ã€@RequestHeader\n\nè¯¥æ³¨è§£æ˜¯å°†è¯·æ±‚å¤´ä¿¡æ¯å’Œæ§åˆ¶å™¨å½¢å‚æ„å»ºæ˜ å°„å…³ç³»\n\n- name\n- defaultValue\n- required\n\nåŒ@RequestParamä¸€æ ·\n\n```java\n    @RequestMapping(value = \"/users\",method = RequestMethod.GET)\n    public String users(\n            @RequestHeader(\"Host\") String host){\n        System.out.println(\"host\"+host);\n        return \"target\";\n    }\n\n```\n\n## 5ã€@CookieValue\n\nè¯¥æ³¨è§£æ˜¯å°†cookieä¿¡æ¯ä¸æ§åˆ¶å™¨å½¢å‚æ„å»ºæ˜ å°„å…³ç³»\n\n- name\n- defaultValue\n- required\n\nåŒ@RequestParamä¸€æ ·\n\n## 6ã€é€šè¿‡pojoè·å–è¯·æ±‚å‚æ•°\n\nå¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®è®¾ç½®ä¸€ä¸ªå®ä½“ç±»ç±»å‹çš„å½¢å‚ï¼Œ æ­¤æ—¶è‹¥æµè§ˆå™¨ä¼ è¾“çš„è¯·æ±‚å‚æ•°çš„å‚æ•°åå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸€è‡´,é‚£ä¹ˆè¯·æ±‚å‚æ•°å°±ä¼šä¸ºæ­¤å±æ€§èµ‹å€¼\n\n# CharacterEncodingFilterè¯·æ±‚å‚æ•°ä¹±ç \n\nweb.xmlä¸­æ³¨å†Œfilter\n\n```xml\n <filter>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>UTF-8</param-value>\n        </init-param>\n        <init-param>\n            <param-name>forceResponseEncoding</param-name>\n            <param-value>true</param-value>\n        </init-param>\n    </filter>\n<filter-mapping>\n    <filter-name>CharacterEncodingFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n```\n\n# åŸŸå¯¹è±¡å…±äº«æ•°æ®\n\nSessionçš„é’åŒ–å’Œæ´»åŒ–\n\n\n\n## 1ã€ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®\n\n```java\n@Reques tMapping(\"/testServletAPI\")\npublic String testServletAPI (HttpServletRequest request) {\n	request.setAttribute(\"testScope\", \"hello,servletAPI\");\n	return \"success\" ;\n}\n\n```\n\n## 2ã€ä½¿ç”¨ModelViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®\n\nModelAndViewæœ‰Mode1å’ŒVi ewçš„åŠŸèƒ½\nModelä¸»è¦ç”¨äºå‘è¯·æ±‚åŸŸå…±äº«æ•°æ®\nViewä¸»è¦ç”¨äºè®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬\n\n```java\n    @RequestMapping(\"/mav\")\n    public ModelAndView ModelAndView(){\n        ModelAndView mav = new ModelAndView();\n//        å¤„ç†æ¨¡å‹æ•°æ®ï¼Œå³å‘è¯·æ±‚åŸŸrequestå…±äº«æ•°æ®\n        mav.addObject(\"testReuqestscope\", \"hello,ModelAndView\");\n        mav.setViewName(\"index\");\n        return mav;\n    }\n```\n\n## 3ã€ä½¿ç”¨Modelå‘requeståŸŸå…±äº«æ•°æ®\n\n```java\n@RequestMapping(\"/test\")\npublic String testModel(Model model) {\n    model.addAttribute(\"testReuqestscope\", \"hello,Model\");\n\n    return \"success\";\n}\n```\n\n## 4ã€ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®\n\n```java\n@RequestMapping(\"/map\")\npublic String testmap(Map<String,Object> map){\n    map.put(\"testReuqestscope\", \"hello,map\");\n    return \"success\";\n}\n```\n\n## 5ã€ä½¿ç”¨ModelMapå‘requeståŸŸå…±äº«æ•°æ®\n\n```java\n@RequestMapping(\"/modelmap\")\npublic String testmap(ModelMap map){\n    map.addAttribute(\"testReuqestscope\", \"hello,map\");\n    return \"success\";\n}\n```\n\n## 6ã€Modelã€mapã€ModelMapä¹‹é—´çš„åŒºåˆ«\n\nModelã€ModelMapã€ Mapç±»å‹çš„å‚æ•°å…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯BindingAwareModelMapç±»å‹çš„\n\n```java\npublic interface Model{}\npublic class ModelMap extends LinkedHashMap<String,object> {}\npublic class ExtendedModelMap extends ModelMap implements Mode1 {}\npublic class Bindi ngAwar eModelMap extends ExtendedModelMap {}\n\n```\n\n## 7ã€å‘sessionåŸŸå…±äº«æ•°æ®\n\n```java\n@RequestMapping(\"/test\")\npublic String session(HttpSession session) {\n    session.setAttribute(\"testReuqestscope\", \"hello,Model\");\n    return \"success\";\n}\n```\n\n## 8ã€å‘applicationå…±äº«æ•°æ®\n\n```java\n@RequestMapping(\"/application\")\n    public String testmap(HttpSession session){\n        ServletContext context = session.getServletContext();\n        context.setAttribute(\"testReuqestscope\", \"hello,map\");\n        return \"success\";\n    }\n```\n\n# SpringMVCçš„è§†å›¾\n\nSpringMVCä¸­çš„è§†å›¾æ˜¯Viewæ¥å£ï¼Œè§†å›¾çš„ä½œç”¨æ¸²æŸ“æ•°æ®ï¼Œå°†æ¨¡å‹Modelä¸­çš„æ•°æ®å±•ç¤ºç»™ç”¨æˆ·\nSpringMVCè§†å›¾çš„ç§ç±»å¾ˆå¤šï¼Œé»˜è®¤æœ‰è½¬å‘è§†å›¾å’Œé‡å®šå‘è§†å›¾\nå½“å·¥ç¨‹å¼•å…¥jstlçš„ä¾èµ–ï¼Œè½¬å‘è§†å›¾ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºJstIView\nè‹¥ä½¿ç”¨çš„è§†å›¾æŠ€æœ¯ä¸ºThymeleaf,åœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†Thymeleafçš„è§†å›¾è§£æå™¨ï¼Œç”±æ­¤è§†å›¾è§£æå™¨è§£æä¹‹åæ‰€å¾—åˆ°çš„æ˜¯ThymeleafView\n\n## 1ã€ThymeleafView\n\nå½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°æ²¡æœ‰ä»»ä½•å‰ç¼€æ—¶ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£\næå™¨è§£æï¼Œè§†å›¾åç§°æ‹¼æ¥è§†å›¾å‰ç¼€å’Œè§†å›¾åç¼€æ‰€å¾—åˆ°çš„æœ€ç»ˆè·¯å¾„ï¼Œä¼šé€šè¿‡è½¬å‘çš„æ–¹å¼å®ç°è·³è½¬\n\n![image-20220926190655195](http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/26/bbe7dbd0c23940d7a018bdf4d6eb1ce1.png)\n\n## 2ã€è½¬å‘è§†å›¾\n\nSpringMVCä¸­é»˜è®¤çš„è½¬å‘è§†å›¾æ˜¯InternalResourceViewï¼ŒSpringMVCä¸­åˆ›å»ºè½¬å‘è§†å›¾çš„æƒ…å†µ:\nå½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥\"forward:\"ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»ºInternalResourceViewè§†å›¾ï¼Œ æ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†å‰ç¼€â€™forward: \"å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡è½¬å‘çš„æ–¹å¼å®ç°è·³è½¬\n\n```java\n@Reques tMapping(\"/testForward\")\npublic String testForwardO {\nreturn \"forward:/testHello\";\n}\n\n```\n\n## 3ã€é‡å®šå‘è§†å›¾\n\nSpringMVCä¸­é»˜è®¤çš„é‡å®šå‘è§†å›¾æ˜¯RedirectView I\nå½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥\"redirect:\"ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»ºRedirectViewè§†å›¾ï¼Œ æ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æ,è€Œæ˜¯ä¼šå°†å‰ç¼€\'redirect: \'å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡é‡å®šå‘çš„æ–¹å¼å®ç°è·³è½¬\nä¾‹å¦‚\"redirect:/\"ï¼Œ\"redirect:/employee\"\n\n```java\n@Reques tMapping(\"/testRedirect\")\npub1ic String testRedirect(){\nreturn \"redirect:/testHe11o\";\n}\n```\n\n## 4ã€è§†å›¾æ§åˆ¶å™¨view-controller\n\n', 0, '2022-09-26 23:56:47', '2022-10-21 20:01:00', 0, 126, 2, 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/26/bbe7dbd0c23940d7a018bdf4d6eb1ce1.png', 7);

-- ----------------------------
-- Table structure for t_comment
-- ----------------------------
DROP TABLE IF EXISTS `t_comment`;
CREATE TABLE `t_comment`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `pid` int(0) NULL DEFAULT NULL,
  `blog_id` int(0) NULL DEFAULT NULL COMMENT 'å…³è”æ–‡ç« id',
  `content` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'å†…å®¹',
  `created_time` datetime(0) NULL DEFAULT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `create_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åˆ›å»ºè€…',
  `origin_id` int(0) NULL DEFAULT NULL COMMENT 'æœ€ä¸Šçº§id',
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 99 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of t_comment
-- ----------------------------
INSERT INTO `t_comment` VALUES (75, NULL, 53, 'è¿™æ˜¯ä¸ªæµ‹è¯•', '2022-08-29 14:32:15', 'xiaoliu', NULL, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (80, NULL, 57, 'q', '2022-09-01 22:19:09', 'qwerqwer', NULL, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (85, NULL, 202, 'ss', '2022-09-05 13:55:25', 'darker', NULL, '1332439635@qq.com');
INSERT INTO `t_comment` VALUES (86, 84, 202, 'å¯ä»¥å¯ä»¥', '2022-09-05 13:55:52', 'darker', 84, '1332439635@qq.com');
INSERT INTO `t_comment` VALUES (87, 86, 202, 'hhhå›å¤ä½ ', '2022-09-05 13:56:38', 'å¤§åˆ˜å“¥', 84, 'qwerqwer');
INSERT INTO `t_comment` VALUES (88, 85, 202, 'å“ˆå“ˆå“ˆç°åœ¨æ­£å¼åŠ å…¥é‚®ç®±å›å¤åŠŸèƒ½ï¼', '2022-09-05 16:48:38', 'å¤§åˆ˜å“¥', 85, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (89, 86, 202, 'å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„å›å¤å—', '2022-09-05 17:59:48', 'å¤§åˆ˜å“¥', 84, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (90, 84, 202, 'wqerqwerqwer', '2022-09-05 18:02:54', 'æˆ‘', 84, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (91, NULL, 202, 'è€Œæˆ‘å´è‹¥ç¾¤ç¿äººæƒ…å‘³', '2022-09-05 18:03:30', 'å¤§åˆ˜å“¥1', NULL, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (92, 91, 202, 'hhhhhhhhhh', '2022-09-05 18:03:49', 'å°åˆ˜å“¥', 91, '1937589397@qq.com');
INSERT INTO `t_comment` VALUES (93, 89, 202, 'æµ‹è¯•', '2022-09-05 18:09:16', 'darker', 84, '1332439635@qq.com');
INSERT INTO `t_comment` VALUES (94, NULL, 202, 'è¿™æ˜¯ä¸€ä¸ªt', '2022-09-05 18:10:00', 'darker', NULL, '1332439635@qq.com');
INSERT INTO `t_comment` VALUES (95, 94, 202, 'æµ‹è¯•', '2022-09-05 18:10:13', 'darker', 94, '1332439635@qq.com');
INSERT INTO `t_comment` VALUES (96, 89, 202, 'å¯ä»¥çœ‹åˆ°å›å¤', '2022-09-05 18:12:47', 'darker', 84, '1332439635@qq.com');
INSERT INTO `t_comment` VALUES (97, NULL, 234, 'å¤§åˆ˜å“¥æ¥æ‰“å¡äº†', '2022-09-18 19:28:19', 'å¤§åˆ˜å“¥', NULL, 'nonewe');
INSERT INTO `t_comment` VALUES (98, NULL, 228, 'test', '2022-10-11 17:53:14', 'hh', NULL, 'nhmjkw');

-- ----------------------------
-- Table structure for t_link
-- ----------------------------
DROP TABLE IF EXISTS `t_link`;
CREATE TABLE `t_link`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åšå®¢åç§°',
  `photo_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åšå®¢å›¾ç‰‡',
  `site` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åœ°å€',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of t_link
-- ----------------------------
INSERT INTO `t_link` VALUES (3, 'å°åˆ˜çš„åšå®¢', 'https://s1.ax1x.com/2022/08/31/v4LTl6.jpg', 'http://lhzzz-61.top');
INSERT INTO `t_link` VALUES (4, 'åšå®¢', 'https://gcore.jsdelivr.net/gh/Nobodyliek/pic/img/202209172317367.jpg', 'http://someliek.top/');

-- ----------------------------
-- Table structure for t_photo
-- ----------------------------
DROP TABLE IF EXISTS `t_photo`;
CREATE TABLE `t_photo`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'ç…§ç‰‡å',
  `region` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'åœ°ç‚¹',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æè¿°',
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'å›¾ç‰‡url',
  `file_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'æ–‡ä»¶å',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 13 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of t_photo
-- ----------------------------
INSERT INTO `t_photo` VALUES (1, 'æµ‹è¯•', '2022å¹´8æœˆ29æ—¥ å®¶é‡Œ', 'è¿™æ˜¯ä¸ªæµ‹è¯•çš„å›¾ç‰‡', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/08/29/09f91fc766a44c6ab1f8af994b6afcb4.jpg', '48gv20.jpg');
INSERT INTO `t_photo` VALUES (4, 'q', 'qwe', 'we', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/08/31/4969e0bb1dfb430eb3dee50dca9771da.jpg', NULL);
INSERT INTO `t_photo` VALUES (5, 'ä¸Šçº¿æµ‹è¯•', '20229/5 å­¦æ ¡', 'æµ‹è¯•ä¸€å“ˆ', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/15f50e1230c344c28fb00418adf0392b.jpg', NULL);
INSERT INTO `t_photo` VALUES (6, 'æµ‹è¯•2', '2022/9/5 å¯å®¤', 'æ— æè¿°', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/526e642b3d544a1b9ed6fe675b93d3cd.jpg', NULL);
INSERT INTO `t_photo` VALUES (7, 'å­¦æ ¡å¤œæ™¯', '2022å¹´9æœˆ5æ—¥', 'å­¦æ ¡å®˜å¾®ä¸Šæ‰¾çš„', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/05/36b2185ae706425e99c5da8a3d7191fe.jpg', NULL);
INSERT INTO `t_photo` VALUES (9, 'çœåšç‰©é¦†', '2021å¹´5æœˆ3å· åšç‰©é¦†å‰', 'å‡ºå»èµ°èµ°ï¼Œè¿˜æ˜¯æŒºå¥½ç©çš„', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/07/7400a67a3e754740aad83bb09910a6e6.jpg', NULL);
INSERT INTO `t_photo` VALUES (10, 'å›å®¶å‰ä¸€å¤©çš„å¤•é˜³ç¾æ™¯', '2022å¹´7æœˆ15æ—¥', 'æ˜å¤©å‡†å¤‡å›å®¶äº†ï¼Œå’Œæœ‹å‹ä¸€èµ·å»å–é…’', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/16/4669415249034eab878ba7a0a8e59c0f.jpg', NULL);
INSERT INTO `t_photo` VALUES (11, 'æ”¶éŸ³æœºğŸ“»', '2022å¹´7æœˆ9æ—¥', 'æ”¶éŸ³æœºä¿®å¥½äº†ï¼Œå»å…‰æ˜é¡¶ä¸Šæ¥å—ä¿¡å·å½•è§†é¢‘~', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/16/a2d9a32686474e24ac7bb867e1db34cd.jpg', NULL);
INSERT INTO `t_photo` VALUES (12, 'è¿™æ˜¯ç–«æƒ…å°æ ¡æ—¶åƒè¿‡æœ€å¥½åƒçš„ç•ªèŒ„é¸¡ğŸ—', '2022å¹´9æœˆ7æ—¥', 'åƒäº†å¥½å‡ å¤§ç¢—æ»¡è¶³ğŸ¥³', 'http://xitong-parent.oss-cn-hangzhou.aliyuncs.com/2022/09/16/bc6dcec2de3b4406970efcfac9e0469f.jpg', NULL);

-- ----------------------------
-- Table structure for t_user
-- ----------------------------
DROP TABLE IF EXISTS `t_user`;
CREATE TABLE `t_user`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL,
  `status` int(0) NULL DEFAULT NULL,
  `modified_time` date NULL DEFAULT NULL,
  `created_time` date NULL DEFAULT NULL,
  `role` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of t_user
-- ----------------------------
INSERT INTO `t_user` VALUES (3, 'admin', '9dd62788279aae057874348d5fcbaa62', 0, '2022-09-05', '2022-09-05', 'admin');

SET FOREIGN_KEY_CHECKS = 1;
